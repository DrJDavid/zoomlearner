var mw=Object.defineProperty;var gw=(i,s,a)=>s in i?mw(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a;var ps=(i,s,a)=>(gw(i,typeof s!="symbol"?s+"":s,a),a);function _mergeNamespaces(i,s){for(var a=0;a<s.length;a++){const o=s[a];if(typeof o!="string"&&!Array.isArray(o)){for(const _ in o)if(_!=="default"&&!(_ in i)){const $=Object.getOwnPropertyDescriptor(o,_);$&&Object.defineProperty(i,_,$.get?$:{enumerable:!0,get:()=>o[_]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))o(_);new MutationObserver(_=>{for(const $ of _)if($.type==="childList")for(const j of $.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&o(j)}).observe(document,{childList:!0,subtree:!0});function a(_){const $={};return _.integrity&&($.integrity=_.integrity),_.referrerPolicy&&($.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?$.credentials="include":_.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function o(_){if(_.ep)return;_.ep=!0;const $=a(_);fetch(_.href,$)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var a=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var _=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(a,o,_.get?_:{enumerable:!0,get:function(){return i[o]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,a){this.props=i,this.context=s,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,a){var o,_={},$=null,j=null;if(s!=null)for(o in s.ref!==void 0&&(j=s.ref),s.key!==void 0&&($=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(_[o]=s[o]);var et=arguments.length-2;if(et===1)_.children=a;else if(1<et){for(var rt=Array(et),nt=0;nt<et;nt++)rt[nt]=arguments[nt+2];_.children=rt}if(i&&i.defaultProps)for(o in et=i.defaultProps,et)_[o]===void 0&&(_[o]=et[o]);return{$$typeof:l$2,type:i,key:$,ref:j,props:_,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$3(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$3(""+i.key):s.toString(36)}function R$1(i,s,a,o,_){var $=typeof i;($==="undefined"||$==="boolean")&&(i=null);var j=!1;if(i===null)j=!0;else switch($){case"string":case"number":j=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:j=!0}}if(j)return j=i,_=_(j),i=o===""?"."+Q$1(j,0):o,I$1(_)?(a="",i!=null&&(a=i.replace(P$1,"$&/")+"/"),R$1(_,s,a,"",function(nt){return nt})):_!=null&&(O$1(_)&&(_=N$1(_,a+(!_.key||j&&j.key===_.key?"":(""+_.key).replace(P$1,"$&/")+"/")+i)),s.push(_)),1;if(j=0,o=o===""?".":o+":",I$1(i))for(var et=0;et<i.length;et++){$=i[et];var rt=o+Q$1($,et);j+=R$1($,s,a,rt,_)}else if(rt=A$2(i),typeof rt=="function")for(i=rt.call(i),et=0;!($=i.next()).done;)$=$.value,rt=o+Q$1($,et++),j+=R$1($,s,a,rt,_);else if($==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return j}function S$1(i,s,a){if(i==null)return i;var o=[],_=0;return R$1(i,o,"","",function($){return s.call(a,$,_++)}),o}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(a){(i._status===0||i._status===-1)&&(i._status=1,i._result=a)},function(a){(i._status===0||i._status===-1)&&(i._status=2,i._result=a)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,s,a){S$1(i,function(){s.apply(this,arguments)},a)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,s,a){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),_=i.key,$=i.ref,j=i._owner;if(s!=null){if(s.ref!==void 0&&($=s.ref,j=K$1.current),s.key!==void 0&&(_=""+s.key),i.type&&i.type.defaultProps)var et=i.type.defaultProps;for(rt in s)J.call(s,rt)&&!L$1.hasOwnProperty(rt)&&(o[rt]=s[rt]===void 0&&et!==void 0?et[rt]:s[rt])}var rt=arguments.length-2;if(rt===1)o.children=a;else if(1<rt){et=Array(rt);for(var nt=0;nt<rt;nt++)et[nt]=arguments[nt+2];o.children=et}return{$$typeof:l$2,type:i.type,key:_,ref:$,props:o,_owner:j}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,a){return U$1.current.useImperativeHandle(i,s,a)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,a){return U$1.current.useReducer(i,s,a)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,a){return U$1.current.useSyncExternalStore(i,s,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,s,a){var o,_={},$=null,j=null;a!==void 0&&($=""+a),s.key!==void 0&&($=""+s.key),s.ref!==void 0&&(j=s.ref);for(o in s)m$2.call(s,o)&&!p$2.hasOwnProperty(o)&&(_[o]=s[o]);if(i&&i.defaultProps)for(o in s=i.defaultProps,s)_[o]===void 0&&(_[o]=s[o]);return{$$typeof:k$1,type:i,key:$,ref:j,props:_,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(jt,$t){var Jt=jt.length;jt.push($t);e:for(;0<Jt;){var Wt=Jt-1>>>1,tr=jt[Wt];if(0<_(tr,$t))jt[Wt]=$t,jt[Jt]=tr,Jt=Wt;else break e}}function a(jt){return jt.length===0?null:jt[0]}function o(jt){if(jt.length===0)return null;var $t=jt[0],Jt=jt.pop();if(Jt!==$t){jt[0]=Jt;e:for(var Wt=0,tr=jt.length,mr=tr>>>1;Wt<mr;){var Yt=2*(Wt+1)-1,kt=jt[Yt],Ft=Yt+1,er=jt[Ft];if(0>_(kt,Jt))Ft<tr&&0>_(er,kt)?(jt[Wt]=er,jt[Ft]=Jt,Wt=Ft):(jt[Wt]=kt,jt[Yt]=Jt,Wt=Yt);else if(Ft<tr&&0>_(er,Jt))jt[Wt]=er,jt[Ft]=Jt,Wt=Ft;else break e}}return $t}function _(jt,$t){var Jt=jt.sortIndex-$t.sortIndex;return Jt!==0?Jt:jt.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;i.unstable_now=function(){return $.now()}}else{var j=Date,et=j.now();i.unstable_now=function(){return j.now()-et}}var rt=[],nt=[],it=1,ot=null,at=3,lt=!1,gt=!1,ct=!1,yt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ht(jt){for(var $t=a(nt);$t!==null;){if($t.callback===null)o(nt);else if($t.startTime<=jt)o(nt),$t.sortIndex=$t.expirationTime,s(rt,$t);else break;$t=a(nt)}}function mt(jt){if(ct=!1,ht(jt),!gt)if(a(rt)!==null)gt=!0,Gt(dt);else{var $t=a(nt);$t!==null&&It(mt,$t.startTime-jt)}}function dt(jt,$t){gt=!1,ct&&(ct=!1,pt(_t),_t=-1),lt=!0;var Jt=at;try{for(ht($t),ot=a(rt);ot!==null&&(!(ot.expirationTime>$t)||jt&&!Mt());){var Wt=ot.callback;if(typeof Wt=="function"){ot.callback=null,at=ot.priorityLevel;var tr=Wt(ot.expirationTime<=$t);$t=i.unstable_now(),typeof tr=="function"?ot.callback=tr:ot===a(rt)&&o(rt),ht($t)}else o(rt);ot=a(rt)}if(ot!==null)var mr=!0;else{var Yt=a(nt);Yt!==null&&It(mt,Yt.startTime-$t),mr=!1}return mr}finally{ot=null,at=Jt,lt=!1}}var vt=!1,St=null,_t=-1,Et=5,Pt=-1;function Mt(){return!(i.unstable_now()-Pt<Et)}function Rt(){if(St!==null){var jt=i.unstable_now();Pt=jt;var $t=!0;try{$t=St(!0,jt)}finally{$t?Ut():(vt=!1,St=null)}}else vt=!1}var Ut;if(typeof ut=="function")Ut=function(){ut(Rt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Kt=Ct.port2;Ct.port1.onmessage=Rt,Ut=function(){Kt.postMessage(null)}}else Ut=function(){yt(Rt,0)};function Gt(jt){St=jt,vt||(vt=!0,Ut())}function It(jt,$t){_t=yt(function(){jt(i.unstable_now())},$t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(jt){jt.callback=null},i.unstable_continueExecution=function(){gt||lt||(gt=!0,Gt(dt))},i.unstable_forceFrameRate=function(jt){0>jt||125<jt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<jt?Math.floor(1e3/jt):5},i.unstable_getCurrentPriorityLevel=function(){return at},i.unstable_getFirstCallbackNode=function(){return a(rt)},i.unstable_next=function(jt){switch(at){case 1:case 2:case 3:var $t=3;break;default:$t=at}var Jt=at;at=$t;try{return jt()}finally{at=Jt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(jt,$t){switch(jt){case 1:case 2:case 3:case 4:case 5:break;default:jt=3}var Jt=at;at=jt;try{return $t()}finally{at=Jt}},i.unstable_scheduleCallback=function(jt,$t,Jt){var Wt=i.unstable_now();switch(typeof Jt=="object"&&Jt!==null?(Jt=Jt.delay,Jt=typeof Jt=="number"&&0<Jt?Wt+Jt:Wt):Jt=Wt,jt){case 1:var tr=-1;break;case 2:tr=250;break;case 5:tr=1073741823;break;case 4:tr=1e4;break;default:tr=5e3}return tr=Jt+tr,jt={id:it++,callback:$t,priorityLevel:jt,startTime:Jt,expirationTime:tr,sortIndex:-1},Jt>Wt?(jt.sortIndex=Jt,s(nt,jt),a(rt)===null&&jt===a(nt)&&(ct?(pt(_t),_t=-1):ct=!0,It(mt,Jt-Wt))):(jt.sortIndex=tr,s(rt,jt),gt||lt||(gt=!0,Gt(dt))),jt},i.unstable_shouldYield=Mt,i.unstable_wrapCallback=function(jt){var $t=at;return function(){var Jt=at;at=$t;try{return jt.apply(this,arguments)}finally{at=Jt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,a,o){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,a,o){if(s===null||typeof s>"u"||pa(i,s,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,a,o,_,$,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=_,this.mustUseProperty=a,this.propertyName=i,this.type=s,this.sanitizeURL=$,this.removeEmptyString=j}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z$1[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,a,o){var _=z$1.hasOwnProperty(s)?z$1[s]:null;(_!==null?_.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,_,o)&&(a=null),o||_===null?oa(s)&&(a===null?i.removeAttribute(s):i.setAttribute(s,""+a)):_.mustUseProperty?i[_.propertyName]=a===null?_.type===3?!1:"":a:(s=_.attributeName,o=_.attributeNamespace,a===null?i.removeAttribute(s):(_=_.type,a=_===3||_===4&&a===!0?"":""+a,o?i.setAttributeNS(o,s,a):i.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(nt){var o=nt}Reflect.construct(i,[],s)}else{try{s.call()}catch(nt){o=nt}i.call(s.prototype)}else{try{throw Error()}catch(nt){o=nt}i()}}catch(nt){if(nt&&o&&typeof nt.stack=="string"){for(var _=nt.stack.split(`
`),$=o.stack.split(`
`),j=_.length-1,et=$.length-1;1<=j&&0<=et&&_[j]!==$[et];)et--;for(;1<=j&&0<=et;j--,et--)if(_[j]!==$[et]){if(j!==1||et!==1)do if(j--,et--,0>et||_[j]!==$[et]){var rt=`
`+_[j].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=j&&0<=et);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),o=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var _=a.get,$=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(j){o=""+j,$.call(this,j)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==a?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var a=s.checked;return A$1({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??i._wrapperState.initialChecked})}function Za(i,s){var a=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),i._wrapperState={initialChecked:o,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var a=Sa(s.value),o=s.type;if(a!=null)o==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,a):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,a||s===i.value||(i.value=s),i.defaultValue=s}a=i.name,a!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,a!==""&&(i.name=a)}function cb(i,s,a){(s!=="number"||Xa(i.ownerDocument)!==i)&&(a==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}var eb=Array.isArray;function fb(i,s,a,o){if(i=i.options,s){s={};for(var _=0;_<a.length;_++)s["$"+a[_]]=!0;for(a=0;a<i.length;a++)_=s.hasOwnProperty("$"+i[a].value),i[a].selected!==_&&(i[a].selected=_),_&&o&&(i[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,_=0;_<i.length;_++){if(i[_].value===a){i[_].selected=!0,o&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}s=a}s==null&&(s=""),a=s}i._wrapperState={initialValue:Sa(a)}}function ib(i,s){var a=Sa(s.value),o=Sa(s.defaultValue);a!=null&&(a=""+a,a!==i.value&&(i.value=a),s.defaultValue==null&&i.defaultValue!==a&&(i.defaultValue=a)),o!=null&&(i.defaultValue=""+o)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,o,_){MSApp.execUnsafeLocalFunction(function(){return i(s,a,o,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var a in s)if(s.hasOwnProperty(a)){var o=a.indexOf("--")===0,_=rb(a,s[a],o);a==="float"&&(a="cssFloat"),o?i.setProperty(a,_):i[a]=_}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,a){if(Ib)return i(s,a);Ib=!0;try{return Gb(i,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var a=i.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(p$1(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,a,o,_,$,j,et,rt){var nt=Array.prototype.slice.call(arguments,3);try{s.apply(a,nt)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,a,o,_,$,j,et,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,a,o,_,$,j,et,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=nt)}}function Vb(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$1(188));return s!==i?null:i}for(var a=i,o=s;;){var _=a.return;if(_===null)break;var $=_.alternate;if($===null){if(o=_.return,o!==null){a=o;continue}break}if(_.child===$.child){for($=_.child;$;){if($===a)return Xb(_),i;if($===o)return Xb(_),s;$=$.sibling}throw Error(p$1(188))}if(a.return!==o.return)a=_,o=$;else{for(var j=!1,et=_.child;et;){if(et===a){j=!0,a=_,o=$;break}if(et===o){j=!0,o=_,a=$;break}et=et.sibling}if(!j){for(et=$.child;et;){if(et===a){j=!0,a=$,o=_;break}if(et===o){j=!0,o=$,a=_;break}et=et.sibling}if(!j)throw Error(p$1(189))}}if(a.alternate!==o)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var a=i.pendingLanes;if(a===0)return 0;var o=0,_=i.suspendedLanes,$=i.pingedLanes,j=a&268435455;if(j!==0){var et=j&~_;et!==0?o=tc(et):($&=j,$!==0&&(o=tc($)))}else j=a&~_,j!==0?o=tc(j):$!==0&&(o=tc($));if(o===0)return 0;if(s!==0&&s!==o&&!(s&_)&&(_=o&-o,$=s&-s,_>=$||_===16&&($&4194240)!==0))return s;if(o&4&&(o|=a&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=o;0<s;)a=31-oc(s),_=1<<a,o|=i[a],s&=~_;return o}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var a=i.suspendedLanes,o=i.pingedLanes,_=i.expirationTimes,$=i.pendingLanes;0<$;){var j=31-oc($),et=1<<j,rt=_[j];rt===-1?(!(et&a)||et&o)&&(_[j]=vc(et,s)):rt<=s&&(i.expiredLanes|=et),$&=~et}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ac(i,s,a){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=a}function Bc(i,s){var a=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<a;){var _=31-oc(a),$=1<<_;s[_]=0,o[_]=-1,i[_]=-1,a&=~$}}function Cc(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var o=31-oc(a),_=1<<o;_&s|i[o]&s&&(i[o]|=s),a&=~_}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,a,o,_,$){return i===null||i.nativeEvent!==$?(i={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:$,targetContainers:[_]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=o,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function Uc(i,s,a,o,_){switch(s){case"focusin":return Lc=Tc(Lc,i,s,a,o,_),!0;case"dragenter":return Mc=Tc(Mc,i,s,a,o,_),!0;case"mouseover":return Nc=Tc(Nc,i,s,a,o,_),!0;case"pointerover":var $=_.pointerId;return Oc.set($,Tc(Oc.get($)||null,i,s,a,o,_)),!0;case"gotpointercapture":return $=_.pointerId,Pc.set($,Tc(Pc.get($)||null,i,s,a,o,_)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(a===null){a=i.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return s=Cb(a),s!==null&&Fc(s),i.blockedOn=a,!1;s.shift()}return!0}function Zc(i,s,a){Xc(i)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(_){return ad(_,i)}if(0<Kc.length){ad(Kc[0],i);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,a,o){var _=C,$=cd.transition;cd.transition=null;try{C=1,fd(i,s,a,o)}finally{C=_,cd.transition=$}}function gd(i,s,a,o){var _=C,$=cd.transition;cd.transition=null;try{C=4,fd(i,s,a,o)}finally{C=_,cd.transition=$}}function fd(i,s,a,o){if(dd){var _=Yc(i,s,a,o);if(_===null)hd(i,s,o,id$2,a),Sc(i,o);else if(Uc(_,i,s,a,o))o.stopPropagation();else if(Sc(i,o),s&4&&-1<Rc.indexOf(i)){for(;_!==null;){var $=Cb(_);if($!==null&&Ec($),$=Yc(i,s,a,o),$===null&&hd(i,s,o,id$2,a),$===_)break;_=$}_!==null&&o.stopPropagation()}else hd(i,s,o,null,a)}}var id$2=null;function Yc(i,s,a,o){if(id$2=null,i=xb(o),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(a=s.tag,a===13){if(i=Wb(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,a=s.length,o,_="value"in kd?kd.value:kd.textContent,$=_.length;for(i=0;i<a&&s[i]===_[i];i++);var j=a-i;for(o=1;o<=j&&s[a-o]===_[$-o];o++);return md=_.slice(i,1<o?1-o:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(a,o,_,$,j){this._reactName=a,this._targetInst=_,this.type=o,this.nativeEvent=$,this.target=j,this.currentTarget=null;for(var et in i)i.hasOwnProperty(et)&&(a=i[et],this[et]=a?a($):$[et]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,a,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,o),i.push({event:a,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,a){i==="focusin"?(Ae(),pe=s,qe=a,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var _=a[o];if(!ja.call(s,_)||!He(i[_],s[_]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var a=Je(i);i=0;for(var o;a;){if(a.nodeType===3){if(o=i+a.textContent.length,i<=s&&o>=s)return{node:a,offset:s-i};i=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),a=i.focusedElem,o=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(s=o.start,i=o.end,i===void 0&&(i=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length);else if(i=(s=a.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=a.textContent.length,$=Math.min(o.start,_);o=o.end===void 0?$:Math.min(o.end,_),!i.extend&&$>o&&(_=o,o=$,$=_),_=Ke(a,$);var j=Ke(a,o);_&&j&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),$>o?(i.addRange(s),i.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),i.addRange(s)))}}for(s=[],i=a;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)i=s[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,a),i.push({event:s,listeners:o}),s.target=Qe)))}function Ve(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe[i]=s[a];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,a){var o=i.type||"unknown-event";i.currentTarget=a,Ub(o,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var o=i[a],_=o.event;o=o.listeners;e:{var $=void 0;if(s)for(var j=o.length-1;0<=j;j--){var et=o[j],rt=et.instance,nt=et.currentTarget;if(et=et.listener,rt!==$&&_.isPropagationStopped())break e;nf(_,et,nt),$=rt}else for(j=0;j<o.length;j++){if(et=o[j],rt=et.instance,nt=et.currentTarget,et=et.listener,rt!==$&&_.isPropagationStopped())break e;nf(_,et,nt),$=rt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var o=i+"__bubble";a.has(o)||(pf(s,i,2,!1),a.add(o))}function qf(i,s,a){var o=0;s&&(o|=4),pf(a,i,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,i),qf(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,a,o){switch(jd(s)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}a=_.bind(null,s,a,i),_=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),o?_!==void 0?i.addEventListener(s,a,{capture:!0,passive:_}):i.addEventListener(s,a,!0):_!==void 0?i.addEventListener(s,a,{passive:_}):i.addEventListener(s,a,!1)}function hd(i,s,a,o,_){var $=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var j=o.tag;if(j===3||j===4){var et=o.stateNode.containerInfo;if(et===_||et.nodeType===8&&et.parentNode===_)break;if(j===4)for(j=o.return;j!==null;){var rt=j.tag;if((rt===3||rt===4)&&(rt=j.stateNode.containerInfo,rt===_||rt.nodeType===8&&rt.parentNode===_))return;j=j.return}for(;et!==null;){if(j=Wc(et),j===null)return;if(rt=j.tag,rt===5||rt===6){o=$=j;continue e}et=et.parentNode}}o=o.return}Jb(function(){var nt=$,it=xb(a),ot=[];e:{var at=df.get(i);if(at!==void 0){var lt=td,gt=i;switch(i){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":gt="focus",lt=Fd;break;case"focusout":gt="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var ct=(s&4)!==0,yt=!ct&&i==="scroll",pt=ct?at!==null?at+"Capture":null:at;ct=[];for(var ut=nt,ht;ut!==null;){ht=ut;var mt=ht.stateNode;if(ht.tag===5&&mt!==null&&(ht=mt,pt!==null&&(mt=Kb(ut,pt),mt!=null&&ct.push(tf(ut,mt,ht)))),yt)break;ut=ut.return}0<ct.length&&(at=new lt(at,gt,null,a,it),ot.push({event:at,listeners:ct}))}}if(!(s&7)){e:{if(at=i==="mouseover"||i==="pointerover",lt=i==="mouseout"||i==="pointerout",at&&a!==wb&&(gt=a.relatedTarget||a.fromElement)&&(Wc(gt)||gt[uf]))break e;if((lt||at)&&(at=it.window===it?it:(at=it.ownerDocument)?at.defaultView||at.parentWindow:window,lt?(gt=a.relatedTarget||a.toElement,lt=nt,gt=gt?Wc(gt):null,gt!==null&&(yt=Vb(gt),gt!==yt||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(lt=null,gt=nt),lt!==gt)){if(ct=Bd,mt="onMouseLeave",pt="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(ct=Td,mt="onPointerLeave",pt="onPointerEnter",ut="pointer"),yt=lt==null?at:ue(lt),ht=gt==null?at:ue(gt),at=new ct(mt,ut+"leave",lt,a,it),at.target=yt,at.relatedTarget=ht,mt=null,Wc(it)===nt&&(ct=new ct(pt,ut+"enter",gt,a,it),ct.target=ht,ct.relatedTarget=yt,mt=ct),yt=mt,lt&&gt)t:{for(ct=lt,pt=gt,ut=0,ht=ct;ht;ht=vf(ht))ut++;for(ht=0,mt=pt;mt;mt=vf(mt))ht++;for(;0<ut-ht;)ct=vf(ct),ut--;for(;0<ht-ut;)pt=vf(pt),ht--;for(;ut--;){if(ct===pt||pt!==null&&ct===pt.alternate)break t;ct=vf(ct),pt=vf(pt)}ct=null}else ct=null;lt!==null&&wf(ot,at,lt,ct,!1),gt!==null&&yt!==null&&wf(ot,yt,gt,ct,!0)}}e:{if(at=nt?ue(nt):window,lt=at.nodeName&&at.nodeName.toLowerCase(),lt==="select"||lt==="input"&&at.type==="file")var dt=ve;else if(me(at))if(we)dt=Fe;else{dt=De;var vt=Ce}else(lt=at.nodeName)&&lt.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(dt=Ee);if(dt&&(dt=dt(i,nt))){ne(ot,dt,a,it);break e}vt&&vt(i,at,nt),i==="focusout"&&(vt=at._wrapperState)&&vt.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(vt=nt?ue(nt):window,i){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,a,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,a,it)}var St;if(ae)e:{switch(i){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ie?ge(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(de&&a.locale!=="ko"&&(ie||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ie&&(St=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),vt=oe(nt,_t),0<vt.length&&(_t=new Ld(_t,i,null,a,it),ot.push({event:_t,listeners:vt}),St?_t.data=St:(St=he(a),St!==null&&(_t.data=St)))),(St=ce?je(i,a):ke(i,a))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(it=new Ld("onBeforeInput","beforeinput",null,a,it),ot.push({event:it,listeners:nt}),it.data=St))}se(ot,s)})}function tf(i,s,a){return{instance:i,listener:s,currentTarget:a}}function oe(i,s){for(var a=s+"Capture",o=[];i!==null;){var _=i,$=_.stateNode;_.tag===5&&$!==null&&(_=$,$=Kb(i,a),$!=null&&o.unshift(tf(i,$,_)),$=Kb(i,s),$!=null&&o.push(tf(i,$,_))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,a,o,_){for(var $=s._reactName,j=[];a!==null&&a!==o;){var et=a,rt=et.alternate,nt=et.stateNode;if(rt!==null&&rt===o)break;et.tag===5&&nt!==null&&(et=nt,_?(rt=Kb(a,$),rt!=null&&j.unshift(tf(a,rt,et))):_||(rt=Kb(a,$),rt!=null&&j.push(tf(a,rt,et)))),a=a.return}j.length!==0&&i.push({event:s,listeners:j})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,a){if(s=zf(s),zf(i)!==s&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var a=s,o=0;do{var _=a.nextSibling;if(i.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(o===0){i.removeChild(_),bd(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=_}while(a);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var a=i.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Mf(i);i!==null;){if(a=i[Of])return a;i=Mf(i)}return s}i=a,a=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var a=i.type.contextTypes;if(!a)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var _={},$;for($ in a)_[$]=s[$];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,a){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,a)}function bg(i,s,a){var o=i.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var _ in o)if(!(_ in s))throw Error(p$1(108,Ra(i)||"Unknown",_));return A$1({},a,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,a){var o=i.stateNode;if(!o)throw Error(p$1(169));a?(i=bg(i,s,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var a=eg;for(C=1;i<a.length;i++){var o=a[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var _=32-oc(o)-1;o&=~(1<<_),a+=1;var $=32-oc(s)+_;if(30<$){var j=_-_%5;$=(o&(1<<j)-1).toString(32),o>>=j,_-=j,rg=1<<32-oc(s)+_|a<<_|o,sg=$+i}else rg=1<<$|a<<_|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=i,s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)}function Cg(i,s){switch(i.tag){case 5:var a=i.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=i,i.child=a,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var a=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$1(418));s=Lf(a.nextSibling);var o=xg;s&&Cg(i,s)?Ag(o,a):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s){if(i&&i.defaultProps){s=A$1({},s),i=i.defaultProps;for(var a in i)s[a]===void 0&&(s[a]=i[a]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var s=Mg.current;E(Mg),i._currentValue=s}function Sg(i,s,a){for(;i!==null;){var o=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),i===a)break;i=i.return}}function Tg(i,s){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Ug=!0),i.firstContext=null)}function Vg(i){var s=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return s}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,s,a,o){var _=s.interleaved;return _===null?(a.next=a,Xg(s)):(a.next=_.next,_.next=a),s.interleaved=a,Zg(i,o)}function Zg(i,s){i.lanes|=s;var a=i.alternate;for(a!==null&&(a.lanes|=s),a=i,i=i.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),a=i,i=i.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(i,s,a){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var _=o.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),o.pending=s,Zg(i,a)}return _=o.interleaved,_===null?(s.next=s,Xg(o)):(s.next=_.next,_.next=s),o.interleaved=s,Zg(i,a)}function eh(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}function fh(i,s){var a=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var _=null,$=null;if(a=a.firstBaseUpdate,a!==null){do{var j={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};$===null?_=$=j:$=$.next=j,a=a.next}while(a!==null);$===null?_=$=s:$=$.next=s}else _=$=s;a={baseState:o.baseState,firstBaseUpdate:_,lastBaseUpdate:$,shared:o.shared,effects:o.effects},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}function gh(i,s,a,o){var _=i.updateQueue;$g=!1;var $=_.firstBaseUpdate,j=_.lastBaseUpdate,et=_.shared.pending;if(et!==null){_.shared.pending=null;var rt=et,nt=rt.next;rt.next=null,j===null?$=nt:j.next=nt,j=rt;var it=i.alternate;it!==null&&(it=it.updateQueue,et=it.lastBaseUpdate,et!==j&&(et===null?it.firstBaseUpdate=nt:et.next=nt,it.lastBaseUpdate=rt))}if($!==null){var ot=_.baseState;j=0,it=nt=rt=null,et=$;do{var at=et.lane,lt=et.eventTime;if((o&at)===at){it!==null&&(it=it.next={eventTime:lt,lane:0,tag:et.tag,payload:et.payload,callback:et.callback,next:null});e:{var gt=i,ct=et;switch(at=s,lt=a,ct.tag){case 1:if(gt=ct.payload,typeof gt=="function"){ot=gt.call(lt,ot,at);break e}ot=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ct.payload,at=typeof gt=="function"?gt.call(lt,ot,at):gt,at==null)break e;ot=A$1({},ot,at);break e;case 2:$g=!0}}et.callback!==null&&et.lane!==0&&(i.flags|=64,at=_.effects,at===null?_.effects=[et]:at.push(et))}else lt={eventTime:lt,lane:at,tag:et.tag,payload:et.payload,callback:et.callback,next:null},it===null?(nt=it=lt,rt=ot):it=it.next=lt,j|=at;if(et=et.next,et===null){if(et=_.shared.pending,et===null)break;at=et,et=at.next,at.next=null,_.lastBaseUpdate=at,_.shared.pending=null}}while(!0);if(it===null&&(rt=ot),_.baseState=rt,_.firstBaseUpdate=nt,_.lastBaseUpdate=it,s=_.shared.interleaved,s!==null){_=s;do j|=_.lane,_=_.next;while(_!==s)}else $===null&&(_.shared.lanes=0);hh|=j,i.lanes=j,i.memoizedState=ot}}function ih(i,s,a){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var o=i[s],_=o.callback;if(_!==null){if(o.callback=null,o=a,typeof _!="function")throw Error(p$1(191,_));_.call(o)}}}var jh=new aa.Component().refs;function kh(i,s,a,o){s=i.memoizedState,a=a(o,s),a=a==null?s:A$1({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var o=L(),_=lh(i),$=ch(o,_);$.payload=s,a!=null&&($.callback=a),s=dh(i,$,_),s!==null&&(mh(s,i,_,o),eh(s,i,_))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var o=L(),_=lh(i),$=ch(o,_);$.tag=1,$.payload=s,a!=null&&($.callback=a),s=dh(i,$,_),s!==null&&(mh(s,i,_,o),eh(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=L(),o=lh(i),_=ch(a,o);_.tag=2,s!=null&&(_.callback=s),s=dh(i,_,o),s!==null&&(mh(s,i,o,a),eh(s,i,o))}};function oh(i,s,a,o,_,$,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,$,j):s.prototype&&s.prototype.isPureReactComponent?!Ie(a,o)||!Ie(_,$):!0}function ph(i,s,a){var o=!1,_=Vf,$=s.contextType;return typeof $=="object"&&$!==null?$=Vg($):(_=Zf(s)?Xf:H.current,o=s.contextTypes,$=(o=o!=null)?Yf(i,_):Vf),s=new s(a,$),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,i.stateNode=s,s._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=$),s}function qh(i,s,a,o){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==i&&nh.enqueueReplaceState(s,s.state,null)}function rh(i,s,a,o){var _=i.stateNode;_.props=a,_.state=i.memoizedState,_.refs=jh,ah(i);var $=s.contextType;typeof $=="object"&&$!==null?_.context=Vg($):($=Zf(s)?Xf:H.current,_.context=Yf(i,$)),_.state=i.memoizedState,$=s.getDerivedStateFromProps,typeof $=="function"&&(kh(i,s,$,a),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&nh.enqueueReplaceState(_,_.state,null),gh(i,a,_,o),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,s,a){if(i=a.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var o=a.stateNode}if(!o)throw Error(p$1(147,i));var _=o,$=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===$?s.ref:(s=function(j){var et=_.refs;et===jh&&(et=_.refs={}),j===null?delete et[$]:et[$]=j},s._stringRef=$,s)}if(typeof i!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,i))}return i}function th(i,s){throw i=Object.prototype.toString.call(s),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function uh(i){var s=i._init;return s(i._payload)}function vh$1(i){function s(pt,ut){if(i){var ht=pt.deletions;ht===null?(pt.deletions=[ut],pt.flags|=16):ht.push(ut)}}function a(pt,ut){if(!i)return null;for(;ut!==null;)s(pt,ut),ut=ut.sibling;return null}function o(pt,ut){for(pt=new Map;ut!==null;)ut.key!==null?pt.set(ut.key,ut):pt.set(ut.index,ut),ut=ut.sibling;return pt}function _(pt,ut){return pt=wh(pt,ut),pt.index=0,pt.sibling=null,pt}function $(pt,ut,ht){return pt.index=ht,i?(ht=pt.alternate,ht!==null?(ht=ht.index,ht<ut?(pt.flags|=2,ut):ht):(pt.flags|=2,ut)):(pt.flags|=1048576,ut)}function j(pt){return i&&pt.alternate===null&&(pt.flags|=2),pt}function et(pt,ut,ht,mt){return ut===null||ut.tag!==6?(ut=xh(ht,pt.mode,mt),ut.return=pt,ut):(ut=_(ut,ht),ut.return=pt,ut)}function rt(pt,ut,ht,mt){var dt=ht.type;return dt===ya?it(pt,ut,ht.props.children,mt,ht.key):ut!==null&&(ut.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===ut.type)?(mt=_(ut,ht.props),mt.ref=sh(pt,ut,ht),mt.return=pt,mt):(mt=yh(ht.type,ht.key,ht.props,null,pt.mode,mt),mt.ref=sh(pt,ut,ht),mt.return=pt,mt)}function nt(pt,ut,ht,mt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==ht.containerInfo||ut.stateNode.implementation!==ht.implementation?(ut=zh(ht,pt.mode,mt),ut.return=pt,ut):(ut=_(ut,ht.children||[]),ut.return=pt,ut)}function it(pt,ut,ht,mt,dt){return ut===null||ut.tag!==7?(ut=Ah(ht,pt.mode,mt,dt),ut.return=pt,ut):(ut=_(ut,ht),ut.return=pt,ut)}function ot(pt,ut,ht){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=xh(""+ut,pt.mode,ht),ut.return=pt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return ht=yh(ut.type,ut.key,ut.props,null,pt.mode,ht),ht.ref=sh(pt,null,ut),ht.return=pt,ht;case wa:return ut=zh(ut,pt.mode,ht),ut.return=pt,ut;case Ha:var mt=ut._init;return ot(pt,mt(ut._payload),ht)}if(eb(ut)||Ka(ut))return ut=Ah(ut,pt.mode,ht,null),ut.return=pt,ut;th(pt,ut)}return null}function at(pt,ut,ht,mt){var dt=ut!==null?ut.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return dt!==null?null:et(pt,ut,""+ht,mt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ht.key===dt?rt(pt,ut,ht,mt):null;case wa:return ht.key===dt?nt(pt,ut,ht,mt):null;case Ha:return dt=ht._init,at(pt,ut,dt(ht._payload),mt)}if(eb(ht)||Ka(ht))return dt!==null?null:it(pt,ut,ht,mt,null);th(pt,ht)}return null}function lt(pt,ut,ht,mt,dt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return pt=pt.get(ht)||null,et(ut,pt,""+mt,dt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return pt=pt.get(mt.key===null?ht:mt.key)||null,rt(ut,pt,mt,dt);case wa:return pt=pt.get(mt.key===null?ht:mt.key)||null,nt(ut,pt,mt,dt);case Ha:var vt=mt._init;return lt(pt,ut,ht,vt(mt._payload),dt)}if(eb(mt)||Ka(mt))return pt=pt.get(ht)||null,it(ut,pt,mt,dt,null);th(ut,mt)}return null}function gt(pt,ut,ht,mt){for(var dt=null,vt=null,St=ut,_t=ut=0,Et=null;St!==null&&_t<ht.length;_t++){St.index>_t?(Et=St,St=null):Et=St.sibling;var Pt=at(pt,St,ht[_t],mt);if(Pt===null){St===null&&(St=Et);break}i&&St&&Pt.alternate===null&&s(pt,St),ut=$(Pt,ut,_t),vt===null?dt=Pt:vt.sibling=Pt,vt=Pt,St=Et}if(_t===ht.length)return a(pt,St),I&&tg(pt,_t),dt;if(St===null){for(;_t<ht.length;_t++)St=ot(pt,ht[_t],mt),St!==null&&(ut=$(St,ut,_t),vt===null?dt=St:vt.sibling=St,vt=St);return I&&tg(pt,_t),dt}for(St=o(pt,St);_t<ht.length;_t++)Et=lt(St,pt,_t,ht[_t],mt),Et!==null&&(i&&Et.alternate!==null&&St.delete(Et.key===null?_t:Et.key),ut=$(Et,ut,_t),vt===null?dt=Et:vt.sibling=Et,vt=Et);return i&&St.forEach(function(Mt){return s(pt,Mt)}),I&&tg(pt,_t),dt}function ct(pt,ut,ht,mt){var dt=Ka(ht);if(typeof dt!="function")throw Error(p$1(150));if(ht=dt.call(ht),ht==null)throw Error(p$1(151));for(var vt=dt=null,St=ut,_t=ut=0,Et=null,Pt=ht.next();St!==null&&!Pt.done;_t++,Pt=ht.next()){St.index>_t?(Et=St,St=null):Et=St.sibling;var Mt=at(pt,St,Pt.value,mt);if(Mt===null){St===null&&(St=Et);break}i&&St&&Mt.alternate===null&&s(pt,St),ut=$(Mt,ut,_t),vt===null?dt=Mt:vt.sibling=Mt,vt=Mt,St=Et}if(Pt.done)return a(pt,St),I&&tg(pt,_t),dt;if(St===null){for(;!Pt.done;_t++,Pt=ht.next())Pt=ot(pt,Pt.value,mt),Pt!==null&&(ut=$(Pt,ut,_t),vt===null?dt=Pt:vt.sibling=Pt,vt=Pt);return I&&tg(pt,_t),dt}for(St=o(pt,St);!Pt.done;_t++,Pt=ht.next())Pt=lt(St,pt,_t,Pt.value,mt),Pt!==null&&(i&&Pt.alternate!==null&&St.delete(Pt.key===null?_t:Pt.key),ut=$(Pt,ut,_t),vt===null?dt=Pt:vt.sibling=Pt,vt=Pt);return i&&St.forEach(function(Rt){return s(pt,Rt)}),I&&tg(pt,_t),dt}function yt(pt,ut,ht,mt){if(typeof ht=="object"&&ht!==null&&ht.type===ya&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:e:{for(var dt=ht.key,vt=ut;vt!==null;){if(vt.key===dt){if(dt=ht.type,dt===ya){if(vt.tag===7){a(pt,vt.sibling),ut=_(vt,ht.props.children),ut.return=pt,pt=ut;break e}}else if(vt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Ha&&uh(dt)===vt.type){a(pt,vt.sibling),ut=_(vt,ht.props),ut.ref=sh(pt,vt,ht),ut.return=pt,pt=ut;break e}a(pt,vt);break}else s(pt,vt);vt=vt.sibling}ht.type===ya?(ut=Ah(ht.props.children,pt.mode,mt,ht.key),ut.return=pt,pt=ut):(mt=yh(ht.type,ht.key,ht.props,null,pt.mode,mt),mt.ref=sh(pt,ut,ht),mt.return=pt,pt=mt)}return j(pt);case wa:e:{for(vt=ht.key;ut!==null;){if(ut.key===vt)if(ut.tag===4&&ut.stateNode.containerInfo===ht.containerInfo&&ut.stateNode.implementation===ht.implementation){a(pt,ut.sibling),ut=_(ut,ht.children||[]),ut.return=pt,pt=ut;break e}else{a(pt,ut);break}else s(pt,ut);ut=ut.sibling}ut=zh(ht,pt.mode,mt),ut.return=pt,pt=ut}return j(pt);case Ha:return vt=ht._init,yt(pt,ut,vt(ht._payload),mt)}if(eb(ht))return gt(pt,ut,ht,mt);if(Ka(ht))return ct(pt,ut,ht,mt);th(pt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,ut!==null&&ut.tag===6?(a(pt,ut.sibling),ut=_(ut,ht),ut.return=pt,pt=ut):(a(pt,ut),ut=xh(ht,pt.mode,mt),ut.return=pt,pt=ut),j(pt)):a(pt,ut)}return yt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$1(174));return i}function Ih(i,s){switch(G(Gh,s),G(Fh,i),G(Eh,Dh),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var s=Hh(Eh.current),a=lb(s,i.type);s!==a&&(G(Fh,i),G(Eh,a))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!He(i[a],s[a]))return!1;return!0}function Xh(i,s,a,o,_,$){if(Rh=$,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=a(o,_),Th){$=0;do{if(Th=!1,Uh=0,25<=$)throw Error(p$1(301));$+=1,P=O=null,s.updateQueue=null,Ph.current=$h,i=a(o,_)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p$1(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=i;else{if(i===null)throw Error(p$1(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,s){return typeof s=="function"?s(i):s}function fi(i){var s=di(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=i;var o=O,_=o.baseQueue,$=a.pending;if($!==null){if(_!==null){var j=_.next;_.next=$.next,$.next=j}o.baseQueue=_=$,a.pending=null}if(_!==null){$=_.next,o=o.baseState;var et=j=null,rt=null,nt=$;do{var it=nt.lane;if((Rh&it)===it)rt!==null&&(rt=rt.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),o=nt.hasEagerState?nt.eagerState:i(o,nt.action);else{var ot={lane:it,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};rt===null?(et=rt=ot,j=o):rt=rt.next=ot,N.lanes|=it,hh|=it}nt=nt.next}while(nt!==null&&nt!==$);rt===null?j=o:rt.next=et,He(o,s.memoizedState)||(Ug=!0),s.memoizedState=o,s.baseState=j,s.baseQueue=rt,a.lastRenderedState=o}if(i=a.interleaved,i!==null){_=i;do $=_.lane,N.lanes|=$,hh|=$,_=_.next;while(_!==i)}else _===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function gi(i){var s=di(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=i;var o=a.dispatch,_=a.pending,$=s.memoizedState;if(_!==null){a.pending=null;var j=_=_.next;do $=i($,j.action),j=j.next;while(j!==_);He($,s.memoizedState)||(Ug=!0),s.memoizedState=$,s.baseQueue===null&&(s.baseState=$),a.lastRenderedState=$}return[$,o]}function hi(){}function ii(i,s){var a=N,o=di(),_=s(),$=!He(o.memoizedState,_);if($&&(o.memoizedState=_,Ug=!0),o=o.queue,ji(ki.bind(null,a,o,i),[i]),o.getSnapshot!==s||$||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,o,_,s),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(a,s,_)}return _}function ni(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function mi(i,s,a,o){s.value=a,s.getSnapshot=o,oi(s)&&pi(i)}function ki(i,s,a){return a(function(){oi(s)&&pi(i)})}function oi(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!He(i,a)}catch{return!0}}function pi(i){var s=Zg(i,1);s!==null&&mh(s,i,1,-1)}function qi(i){var s=ci();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},s.queue=i,i=i.dispatch=ri.bind(null,N,i),[s.memoizedState,i]}function li(i,s,a,o){return i={tag:i,create:s,destroy:a,deps:o,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=i.next=i):(a=s.lastEffect,a===null?s.lastEffect=i.next=i:(o=a.next,a.next=i,i.next=o,s.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,s,a,o){var _=ci();N.flags|=i,_.memoizedState=li(1|s,a,void 0,o===void 0?null:o)}function ui(i,s,a,o){var _=di();o=o===void 0?null:o;var $=void 0;if(O!==null){var j=O.memoizedState;if($=j.destroy,o!==null&&Wh(o,j.deps)){_.memoizedState=li(s,a,$,o);return}}N.flags|=i,_.memoizedState=li(1|s,a,$,o)}function vi(i,s){return ti(8390656,8,i,s)}function ji(i,s){return ui(2048,8,i,s)}function wi(i,s){return ui(4,2,i,s)}function xi(i,s){return ui(4,4,i,s)}function yi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zi(i,s,a){return a=a!=null?a.concat([i]):null,ui(4,4,yi.bind(null,s,i),a)}function Ai(){}function Bi(i,s){var a=di();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Wh(s,o[1])?o[0]:(a.memoizedState=[i,s],i)}function Ci(i,s){var a=di();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Wh(s,o[1])?o[0]:(i=i(),a.memoizedState=[i,s],i)}function Di(i,s,a){return Rh&21?(He(a,s)||(a=yc(),N.lanes|=a,hh|=a,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=a)}function Ei(i,s){var a=C;C=a!==0&&4>a?a:4,i(!0);var o=Qh.transition;Qh.transition={};try{i(!1),s()}finally{C=a,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(i,s,a){var o=lh(i);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(s,a);else if(a=Yg(i,s,a,o),a!==null){var _=L();mh(a,i,o,_),Ji(a,s,o)}}function ri(i,s,a){var o=lh(i),_={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(s,_);else{var $=i.alternate;if(i.lanes===0&&($===null||$.lanes===0)&&($=s.lastRenderedReducer,$!==null))try{var j=s.lastRenderedState,et=$(j,a);if(_.hasEagerState=!0,_.eagerState=et,He(et,j)){var rt=s.interleaved;rt===null?(_.next=_,Xg(s)):(_.next=rt.next,rt.next=_),s.interleaved=_;return}}catch{}finally{}a=Yg(i,s,_,o),a!==null&&(_=L(),mh(a,i,o,_),Ji(a,s,o))}}function Hi(i){var s=i.alternate;return i===N||s!==null&&s===N}function Ii(i,s){Th=Sh=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Ji(i,s,a){if(a&4194240){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Cc(i,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,s){return ci().memoizedState=[i,s===void 0?null:s],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,s,a){return a=a!=null?a.concat([i]):null,ti(4194308,4,yi.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ti(4194308,4,i,s)},useInsertionEffect:function(i,s){return ti(4,2,i,s)},useMemo:function(i,s){var a=ci();return s=s===void 0?null:s,i=i(),a.memoizedState=[i,s],i},useReducer:function(i,s,a){var o=ci();return s=a!==void 0?a(s):s,o.memoizedState=o.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},o.queue=i,i=i.dispatch=Gi.bind(null,N,i),[o.memoizedState,i]},useRef:function(i){var s=ci();return i={current:i},s.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),s=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,a){var o=N,_=ci();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=s(),R===null)throw Error(p$1(349));Rh&30||ni(o,s,a)}_.memoizedState=a;var $={value:a,getSnapshot:s};return _.queue=$,vi(ki.bind(null,o,$,i),[i]),o.flags|=2048,li(9,mi.bind(null,o,$,a,s),void 0,null),a},useId:function(){var i=ci(),s=R.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Uh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Vh++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return Di(s,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return O===null?s.memoizedState=i:Di(s,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,s){try{var a="",o=s;do a+=Pa(o),o=o.return;while(o);var _=a}catch($){_=`
Error generating stack: `+$.message+`
`+$.stack}return{value:i,source:s,stack:_,digest:null}}function Li(i,s,a){return{value:i,source:null,stack:a??null,digest:s??null}}function Mi(i,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,s,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var o=s.value;return a.callback=function(){Pi||(Pi=!0,Qi=o),Mi(i,s)},a}function Ri(i,s,a){a=ch(-1,a),a.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var _=s.value;a.payload=function(){return o(_)},a.callback=function(){Mi(i,s)}}var $=i.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(a.callback=function(){Mi(i,s),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),a}function Ti(i,s,a){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni;var _=new Set;o.set(s,_)}else _=o.get(s),_===void 0&&(_=new Set,o.set(s,_));_.has(a)||(_.add(a),i=Ui.bind(null,i,s,a),s.then(i,i))}function Vi(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Wi(i,s,a,o,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ch(-1,1),s.tag=2,dh(a,s,1))),a.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,s,a,o){s.child=i===null?Ch(s,null,a,o):Bh(s,i.child,a,o)}function Zi(i,s,a,o,_){a=a.render;var $=s.ref;return Tg(s,_),o=Xh(i,s,a,o,$,_),a=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,$i(i,s,_)):(I&&a&&vg(s),s.flags|=1,Yi(i,s,o,_),s.child)}function aj(i,s,a,o,_){if(i===null){var $=a.type;return typeof $=="function"&&!bj($)&&$.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=$,cj(i,s,$,o,_)):(i=yh(a.type,null,o,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if($=i.child,!(i.lanes&_)){var j=$.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(j,o)&&i.ref===s.ref)return $i(i,s,_)}return s.flags|=1,i=wh($,o),i.ref=s.ref,i.return=s,s.child=i}function cj(i,s,a,o,_){if(i!==null){var $=i.memoizedProps;if(Ie($,o)&&i.ref===s.ref)if(Ug=!1,s.pendingProps=o=$,(i.lanes&_)!==0)i.flags&131072&&(Ug=!0);else return s.lanes=i.lanes,$i(i,s,_)}return dj(i,s,a,o,_)}function ej(i,s,a){var o=s.pendingProps,_=o.children,$=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return i=$!==null?$.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=$!==null?$.baseLanes:a,G(fj,gj),gj|=o}else $!==null?(o=$.baseLanes|a,s.memoizedState=null):o=a,G(fj,gj),gj|=o;return Yi(i,s,_,a),s.child}function hj(i,s){var a=s.ref;(i===null&&a!==null||i!==null&&i.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dj(i,s,a,o,_){var $=Zf(a)?Xf:H.current;return $=Yf(s,$),Tg(s,_),a=Xh(i,s,a,o,$,_),o=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,$i(i,s,_)):(I&&o&&vg(s),s.flags|=1,Yi(i,s,a,_),s.child)}function ij(i,s,a,o,_){if(Zf(a)){var $=!0;cg(s)}else $=!1;if(Tg(s,_),s.stateNode===null)jj(i,s),ph(s,a,o),rh(s,a,o,_),o=!0;else if(i===null){var j=s.stateNode,et=s.memoizedProps;j.props=et;var rt=j.context,nt=a.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(a)?Xf:H.current,nt=Yf(s,nt));var it=a.getDerivedStateFromProps,ot=typeof it=="function"||typeof j.getSnapshotBeforeUpdate=="function";ot||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(et!==o||rt!==nt)&&qh(s,j,o,nt),$g=!1;var at=s.memoizedState;j.state=at,gh(s,o,j,_),rt=s.memoizedState,et!==o||at!==rt||Wf.current||$g?(typeof it=="function"&&(kh(s,a,it,o),rt=s.memoizedState),(et=$g||oh(s,a,et,o,at,rt,nt))?(ot||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=rt),j.props=o,j.state=rt,j.context=nt,o=et):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{j=s.stateNode,bh(i,s),et=s.memoizedProps,nt=s.type===s.elementType?et:Lg(s.type,et),j.props=nt,ot=s.pendingProps,at=j.context,rt=a.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(a)?Xf:H.current,rt=Yf(s,rt));var lt=a.getDerivedStateFromProps;(it=typeof lt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(et!==ot||at!==rt)&&qh(s,j,o,rt),$g=!1,at=s.memoizedState,j.state=at,gh(s,o,j,_);var gt=s.memoizedState;et!==ot||at!==gt||Wf.current||$g?(typeof lt=="function"&&(kh(s,a,lt,o),gt=s.memoizedState),(nt=$g||oh(s,a,nt,o,at,gt,rt)||!1)?(it||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(o,gt,rt),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(o,gt,rt)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||et===i.memoizedProps&&at===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||et===i.memoizedProps&&at===i.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=gt),j.props=o,j.state=gt,j.context=rt,o=nt):(typeof j.componentDidUpdate!="function"||et===i.memoizedProps&&at===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||et===i.memoizedProps&&at===i.memoizedState||(s.flags|=1024),o=!1)}return kj(i,s,a,o,$,_)}function kj(i,s,a,o,_,$){hj(i,s);var j=(s.flags&128)!==0;if(!o&&!j)return _&&dg(s,a,!1),$i(i,s,$);o=s.stateNode,Xi.current=s;var et=j&&typeof a.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,i!==null&&j?(s.child=Bh(s,i.child,null,$),s.child=Bh(s,null,et,$)):Yi(i,s,et,$),s.memoizedState=o.state,_&&dg(s,a,!0),s.child}function lj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),Ih(i,s.containerInfo)}function mj(i,s,a,o,_){return Ig(),Jg(_),s.flags|=256,Yi(i,s,a,o),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,s,a){var o=s.pendingProps,_=M.current,$=!1,j=(s.flags&128)!==0,et;if((et=j)||(et=i!==null&&i.memoizedState===null?!1:(_&2)!==0),et?($=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),G(M,_&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(j=o.children,i=o.fallback,$?(o=s.mode,$=s.child,j={mode:"hidden",children:j},!(o&1)&&$!==null?($.childLanes=0,$.pendingProps=j):$=qj(j,o,0,null),i=Ah(i,o,a,null),$.return=s,i.return=s,$.sibling=i,s.child=$,s.child.memoizedState=oj(a),s.memoizedState=nj,i):rj(s,j));if(_=i.memoizedState,_!==null&&(et=_.dehydrated,et!==null))return sj(i,s,j,o,et,_,a);if($){$=o.fallback,j=s.mode,_=i.child,et=_.sibling;var rt={mode:"hidden",children:o.children};return!(j&1)&&s.child!==_?(o=s.child,o.childLanes=0,o.pendingProps=rt,s.deletions=null):(o=wh(_,rt),o.subtreeFlags=_.subtreeFlags&14680064),et!==null?$=wh(et,$):($=Ah($,j,a,null),$.flags|=2),$.return=s,o.return=s,o.sibling=$,s.child=o,o=$,$=s.child,j=i.child.memoizedState,j=j===null?oj(a):{baseLanes:j.baseLanes|a,cachePool:null,transitions:j.transitions},$.memoizedState=j,$.childLanes=i.childLanes&~a,s.memoizedState=nj,o}return $=i.child,i=$.sibling,o=wh($,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=a),o.return=s,o.sibling=null,i!==null&&(a=s.deletions,a===null?(s.deletions=[i],s.flags|=16):a.push(i)),s.child=o,s.memoizedState=null,o}function rj(i,s){return s=qj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tj(i,s,a,o){return o!==null&&Jg(o),Bh(s,i.child,null,a),i=rj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sj(i,s,a,o,_,$,j){if(a)return s.flags&256?(s.flags&=-257,o=Li(Error(p$1(422))),tj(i,s,j,o)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):($=o.fallback,_=s.mode,o=qj({mode:"visible",children:o.children},_,0,null),$=Ah($,_,j,null),$.flags|=2,o.return=s,$.return=s,o.sibling=$,s.child=o,s.mode&1&&Bh(s,i.child,null,j),s.child.memoizedState=oj(j),s.memoizedState=nj,$);if(!(s.mode&1))return tj(i,s,j,null);if(_.data==="$!"){if(o=_.nextSibling&&_.nextSibling.dataset,o)var et=o.dgst;return o=et,$=Error(p$1(419)),o=Li($,o,void 0),tj(i,s,j,o)}if(et=(j&i.childLanes)!==0,Ug||et){if(o=R,o!==null){switch(j&-j){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(o.suspendedLanes|j)?0:_,_!==0&&_!==$.retryLane&&($.retryLane=_,Zg(i,_),mh(o,i,_,-1))}return uj(),o=Li(Error(p$1(421))),tj(i,s,j,o)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=vj.bind(null,i),_._reactRetry=s,null):(i=$.treeContext,yg=Lf(_.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=rj(s,o.children),s.flags|=4096,s)}function wj(i,s,a){i.lanes|=s;var o=i.alternate;o!==null&&(o.lanes|=s),Sg(i.return,s,a)}function xj(i,s,a,o,_){var $=i.memoizedState;$===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:_}:($.isBackwards=s,$.rendering=null,$.renderingStartTime=0,$.last=o,$.tail=a,$.tailMode=_)}function yj(i,s,a){var o=s.pendingProps,_=o.revealOrder,$=o.tail;if(Yi(i,s,o.children,a),o=M.current,o&2)o=o&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,a,s);else if(i.tag===19)wj(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(M,o),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(a=s.child,_=null;a!==null;)i=a.alternate,i!==null&&Mh(i)===null&&(_=a),a=a.sibling;a=_,a===null?(_=s.child,s.child=null):(_=a.sibling,a.sibling=null),xj(s,!1,_,a,$);break;case"backwards":for(a=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Mh(i)===null){s.child=_;break}i=_.sibling,_.sibling=a,a=_,_=i}xj(s,!0,a,null,$);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $i(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),hh|=s.lanes,!(a&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$1(153));if(s.child!==null){for(i=s.child,a=wh(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=wh(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function zj(i,s,a){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,_=s.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=_;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):a&s.child.childLanes?pj(i,s,a):(G(M,M.current&1),i=$i(i,s,a),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(o=(a&s.childLanes)!==0,i.flags&128){if(o)return yj(i,s,a);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return s.lanes=0,ej(i,s,a)}return $i(i,s,a)}var Aj,Bj,Cj,Dj;Aj=function(i,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(i,s,a,o){var _=i.memoizedProps;if(_!==o){i=s.stateNode,Hh(Eh.current);var $=null;switch(a){case"input":_=Ya(i,_),o=Ya(i,o),$=[];break;case"select":_=A$1({},_,{value:void 0}),o=A$1({},o,{value:void 0}),$=[];break;case"textarea":_=gb(i,_),o=gb(i,o),$=[];break;default:typeof _.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(a,o);var j;a=null;for(nt in _)if(!o.hasOwnProperty(nt)&&_.hasOwnProperty(nt)&&_[nt]!=null)if(nt==="style"){var et=_[nt];for(j in et)et.hasOwnProperty(j)&&(a||(a={}),a[j]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?$||($=[]):($=$||[]).push(nt,null));for(nt in o){var rt=o[nt];if(et=_!=null?_[nt]:void 0,o.hasOwnProperty(nt)&&rt!==et&&(rt!=null||et!=null))if(nt==="style")if(et){for(j in et)!et.hasOwnProperty(j)||rt&&rt.hasOwnProperty(j)||(a||(a={}),a[j]="");for(j in rt)rt.hasOwnProperty(j)&&et[j]!==rt[j]&&(a||(a={}),a[j]=rt[j])}else a||($||($=[]),$.push(nt,a)),a=rt;else nt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,et=et?et.__html:void 0,rt!=null&&et!==rt&&($=$||[]).push(nt,rt)):nt==="children"?typeof rt!="string"&&typeof rt!="number"||($=$||[]).push(nt,""+rt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?(rt!=null&&nt==="onScroll"&&D("scroll",i),$||et===rt||($=[])):($=$||[]).push(nt,rt))}a&&($=$||[]).push("style",a);var nt=$;(s.updateQueue=nt)&&(s.flags|=4)}};Dj=function(i,s,a,o){a!==o&&(s.flags|=4)};function Ej(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,o=0;if(s)for(var _=i.child;_!==null;)a|=_.lanes|_.childLanes,o|=_.subtreeFlags&14680064,o|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)a|=_.lanes|_.childLanes,o|=_.subtreeFlags,o|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=o,i.childLanes=a,s}function Fj(i,s,a){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,s),S(s),null;case 5:Lh(s);var _=Hh(Gh.current);if(a=s.type,i!==null&&s.stateNode!=null)Cj(i,s,a,o,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(i=Hh(Eh.current),Gg(s)){o=s.stateNode,a=s.type;var $=s.memoizedProps;switch(o[Of]=s,o[Pf]=$,i=(s.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,$),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!$.multiple},D("invalid",o);break;case"textarea":hb(o,$),D("invalid",o)}ub(a,$),_=null;for(var j in $)if($.hasOwnProperty(j)){var et=$[j];j==="children"?typeof et=="string"?o.textContent!==et&&($.suppressHydrationWarning!==!0&&Af(o.textContent,et,i),_=["children",et]):typeof et=="number"&&o.textContent!==""+et&&($.suppressHydrationWarning!==!0&&Af(o.textContent,et,i),_=["children",""+et]):ea.hasOwnProperty(j)&&et!=null&&j==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,$,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(o.onclick=Bf)}o=_,s.updateQueue=o,o!==null&&(s.flags|=4)}else{j=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(a)),i==="http://www.w3.org/1999/xhtml"?a==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=j.createElement(a,{is:o.is}):(i=j.createElement(a),a==="select"&&(j=i,o.multiple?j.multiple=!0:o.size&&(j.size=o.size))):i=j.createElementNS(i,a),i[Of]=s,i[Pf]=o,Aj(i,s,!1,!1),s.stateNode=i;e:{switch(j=vb(a,o),a){case"dialog":D("cancel",i),D("close",i),_=o;break;case"iframe":case"object":case"embed":D("load",i),_=o;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],i);_=o;break;case"source":D("error",i),_=o;break;case"img":case"image":case"link":D("error",i),D("load",i),_=o;break;case"details":D("toggle",i),_=o;break;case"input":Za(i,o),_=Ya(i,o),D("invalid",i);break;case"option":_=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},_=A$1({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),_=gb(i,o),D("invalid",i);break;default:_=o}ub(a,_),et=_;for($ in et)if(et.hasOwnProperty($)){var rt=et[$];$==="style"?sb(i,rt):$==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(i,rt)):$==="children"?typeof rt=="string"?(a!=="textarea"||rt!=="")&&ob(i,rt):typeof rt=="number"&&ob(i,""+rt):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?rt!=null&&$==="onScroll"&&D("scroll",i):rt!=null&&ta(i,$,rt,j))}switch(a){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,$=o.value,$!=null?fb(i,!!o.multiple,$,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Dj(i,s,i.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p$1(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(o=s.stateNode,a=s.memoizedProps,o[Of]=s,($=o.nodeValue!==a)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,a,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(i.mode&1)!==0)}$&&(s.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(M),o=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,$=!1;else if($=Gg(s),o!==null&&o.dehydrated!==null){if(i===null){if(!$)throw Error(p$1(318));if($=s.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$1(317));$[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),$=!1}else zg!==null&&(Gj(zg),zg=null),$=!0;if(!$)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),$=s.memoizedState,$===null)return S(s),null;if(o=(s.flags&128)!==0,j=$.rendering,j===null)if(o)Ej($,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(j=Mh(i),j!==null){for(s.flags|=128,Ej($,!1),o=j.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=a,a=s.child;a!==null;)$=a,i=o,$.flags&=14680066,j=$.alternate,j===null?($.childLanes=0,$.lanes=i,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=j.childLanes,$.lanes=j.lanes,$.child=j.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=j.memoizedProps,$.memoizedState=j.memoizedState,$.updateQueue=j.updateQueue,$.type=j.type,i=j.dependencies,$.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return G(M,M.current&1|2),s.child}i=i.sibling}$.tail!==null&&B()>Hj&&(s.flags|=128,o=!0,Ej($,!1),s.lanes=4194304)}else{if(!o)if(i=Mh(j),i!==null){if(s.flags|=128,o=!0,a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ej($,!0),$.tail===null&&$.tailMode==="hidden"&&!j.alternate&&!I)return S(s),null}else 2*B()-$.renderingStartTime>Hj&&a!==1073741824&&(s.flags|=128,o=!0,Ej($,!1),s.lanes=4194304);$.isBackwards?(j.sibling=s.child,s.child=j):(a=$.last,a!==null?a.sibling=j:s.child=j,$.last=j)}return $.tail!==null?(s=$.tail,$.rendering=s,$.tail=s.sibling,$.renderingStartTime=B(),s.sibling=null,a=M.current,G(M,o?a&1|2:a&1),s):(S(s),null);case 22:case 23:return Ij(),o=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Jj(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,s){var a=i.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(i,s,o)}else a.current=null}function Nj(i,s,a){try{a()}catch(o){W(i,s,o)}}var Oj=!1;function Pj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var _=o.anchorOffset,$=o.focusNode;o=o.focusOffset;try{a.nodeType,$.nodeType}catch{a=null;break e}var j=0,et=-1,rt=-1,nt=0,it=0,ot=i,at=null;t:for(;;){for(var lt;ot!==a||_!==0&&ot.nodeType!==3||(et=j+_),ot!==$||o!==0&&ot.nodeType!==3||(rt=j+o),ot.nodeType===3&&(j+=ot.nodeValue.length),(lt=ot.firstChild)!==null;)at=ot,ot=lt;for(;;){if(ot===i)break t;if(at===a&&++nt===_&&(et=j),at===$&&++it===o&&(rt=j),(lt=ot.nextSibling)!==null)break;ot=at,at=ot.parentNode}ot=lt}a=et===-1||rt===-1?null:{start:et,end:rt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:i,selectionRange:a},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var gt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var ct=gt.memoizedProps,yt=gt.memoizedState,pt=s.stateNode,ut=pt.getSnapshotBeforeUpdate(s.elementType===s.type?ct:Lg(s.type,ct),yt);pt.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var ht=s.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(mt){W(s,s.return,mt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return gt=Oj,Oj=!1,gt}function Qj(i,s,a){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var _=o=o.next;do{if((_.tag&i)===i){var $=_.destroy;_.destroy=void 0,$!==void 0&&Nj(s,a,$)}_=_.next}while(_!==o)}}function Rj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var o=a.create;a.destroy=o()}a=a.next}while(a!==s)}}function Sj(i){var s=i.ref;if(s!==null){var a=i.stateNode;switch(i.tag){case 5:i=a;break;default:i=a}typeof s=="function"?s(i):s.current=i}}function Tj(i){var s=i.alternate;s!==null&&(i.alternate=null,Tj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,s,a),i=i.sibling;i!==null;)Wj(i,s,a),i=i.sibling}function Xj(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,s,a),i=i.sibling;i!==null;)Xj(i,s,a),i=i.sibling}var X=null,Yj=!1;function Zj(i,s,a){for(a=a.child;a!==null;)ak(i,s,a),a=a.sibling}function ak(i,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,s);case 6:var o=X,_=Yj;X=null,Zj(i,s,a),X=o,Yj=_,X!==null&&(Yj?(i=X,a=a.stateNode,i.nodeType===8?i.parentNode.removeChild(a):i.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(i=X,a=a.stateNode,i.nodeType===8?Kf(i.parentNode,a):i.nodeType===1&&Kf(i,a),bd(i)):Kf(X,a.stateNode));break;case 4:o=X,_=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(i,s,a),X=o,Yj=_;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){_=o=o.next;do{var $=_,j=$.destroy;$=$.tag,j!==void 0&&($&2||$&4)&&Nj(a,s,j),_=_.next}while(_!==o)}Zj(i,s,a);break;case 1:if(!U&&(Mj(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(et){W(a,s,et)}Zj(i,s,a);break;case 21:Zj(i,s,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Zj(i,s,a),U=o):Zj(i,s,a);break;default:Zj(i,s,a)}}function bk(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var a=i.stateNode;a===null&&(a=i.stateNode=new Lj),s.forEach(function(o){var _=ck.bind(null,i,o);a.has(o)||(a.add(o),o.then(_,_))})}}function dk(i,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var _=a[o];try{var $=i,j=s,et=j;e:for(;et!==null;){switch(et.tag){case 5:X=et.stateNode,Yj=!1;break e;case 3:X=et.stateNode.containerInfo,Yj=!0;break e;case 4:X=et.stateNode.containerInfo,Yj=!0;break e}et=et.return}if(X===null)throw Error(p$1(160));ak($,j,_),X=null,Yj=!1;var rt=_.alternate;rt!==null&&(rt.return=null),_.return=null}catch(nt){W(_,s,nt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,i),s=s.sibling}function ek(i,s){var a=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(s,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(ct){W(i,i.return,ct)}try{Qj(5,i,i.return)}catch(ct){W(i,i.return,ct)}}break;case 1:dk(s,i),fk(i),o&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(s,i),fk(i),o&512&&a!==null&&Mj(a,a.return),i.flags&32){var _=i.stateNode;try{ob(_,"")}catch(ct){W(i,i.return,ct)}}if(o&4&&(_=i.stateNode,_!=null)){var $=i.memoizedProps,j=a!==null?a.memoizedProps:$,et=i.type,rt=i.updateQueue;if(i.updateQueue=null,rt!==null)try{et==="input"&&$.type==="radio"&&$.name!=null&&ab(_,$),vb(et,j);var nt=vb(et,$);for(j=0;j<rt.length;j+=2){var it=rt[j],ot=rt[j+1];it==="style"?sb(_,ot):it==="dangerouslySetInnerHTML"?nb(_,ot):it==="children"?ob(_,ot):ta(_,it,ot,nt)}switch(et){case"input":bb(_,$);break;case"textarea":ib(_,$);break;case"select":var at=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!$.multiple;var lt=$.value;lt!=null?fb(_,!!$.multiple,lt,!1):at!==!!$.multiple&&($.defaultValue!=null?fb(_,!!$.multiple,$.defaultValue,!0):fb(_,!!$.multiple,$.multiple?[]:"",!1))}_[Pf]=$}catch(ct){W(i,i.return,ct)}}break;case 6:if(dk(s,i),fk(i),o&4){if(i.stateNode===null)throw Error(p$1(162));_=i.stateNode,$=i.memoizedProps;try{_.nodeValue=$}catch(ct){W(i,i.return,ct)}}break;case 3:if(dk(s,i),fk(i),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(ct){W(i,i.return,ct)}break;case 4:dk(s,i),fk(i);break;case 13:dk(s,i),fk(i),_=i.child,_.flags&8192&&($=_.memoizedState!==null,_.stateNode.isHidden=$,!$||_.alternate!==null&&_.alternate.memoizedState!==null||(gk=B())),o&4&&bk(i);break;case 22:if(it=a!==null&&a.memoizedState!==null,i.mode&1?(U=(nt=U)||it,dk(s,i),U=nt):dk(s,i),fk(i),o&8192){if(nt=i.memoizedState!==null,(i.stateNode.isHidden=nt)&&!it&&i.mode&1)for(V=i,it=i.child;it!==null;){for(ot=V=it;V!==null;){switch(at=V,lt=at.child,at.tag){case 0:case 11:case 14:case 15:Qj(4,at,at.return);break;case 1:Mj(at,at.return);var gt=at.stateNode;if(typeof gt.componentWillUnmount=="function"){o=at,a=at.return;try{s=o,gt.props=s.memoizedProps,gt.state=s.memoizedState,gt.componentWillUnmount()}catch(ct){W(o,a,ct)}}break;case 5:Mj(at,at.return);break;case 22:if(at.memoizedState!==null){hk(ot);continue}}lt!==null?(lt.return=at,V=lt):hk(ot)}it=it.sibling}e:for(it=null,ot=i;;){if(ot.tag===5){if(it===null){it=ot;try{_=ot.stateNode,nt?($=_.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(et=ot.stateNode,rt=ot.memoizedProps.style,j=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,et.style.display=rb("display",j))}catch(ct){W(i,i.return,ct)}}}else if(ot.tag===6){if(it===null)try{ot.stateNode.nodeValue=nt?"":ot.memoizedProps}catch(ct){W(i,i.return,ct)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===i)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===i)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===i)break e;it===ot&&(it=null),ot=ot.return}it===ot&&(it=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(s,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(s,i),fk(i)}}function fk(i){var s=i.flags;if(s&2){try{e:{for(var a=i.return;a!==null;){if(Uj(a)){var o=a;break e}a=a.return}throw Error(p$1(160))}switch(o.tag){case 5:var _=o.stateNode;o.flags&32&&(ob(_,""),o.flags&=-33);var $=Vj(i);Xj(i,$,_);break;case 3:case 4:var j=o.stateNode.containerInfo,et=Vj(i);Wj(i,et,j);break;default:throw Error(p$1(161))}}catch(rt){W(i,i.return,rt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ik(i,s,a){V=i,jk(i)}function jk(i,s,a){for(var o=(i.mode&1)!==0;V!==null;){var _=V,$=_.child;if(_.tag===22&&o){var j=_.memoizedState!==null||Kj;if(!j){var et=_.alternate,rt=et!==null&&et.memoizedState!==null||U;et=Kj;var nt=U;if(Kj=j,(U=rt)&&!nt)for(V=_;V!==null;)j=V,rt=j.child,j.tag===22&&j.memoizedState!==null?kk(_):rt!==null?(rt.return=j,V=rt):kk(_);for(;$!==null;)V=$,jk($),$=$.sibling;V=_,Kj=et,U=nt}lk(i)}else _.subtreeFlags&8772&&$!==null?($.return=_,V=$):lk(i)}}function lk(i){for(;V!==null;){var s=V;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(a===null)o.componentDidMount();else{var _=s.elementType===s.type?a.memoizedProps:Lg(s.type,a.memoizedProps);o.componentDidUpdate(_,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var $=s.updateQueue;$!==null&&ih(s,$,o);break;case 3:var j=s.updateQueue;if(j!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ih(s,j,a)}break;case 5:var et=s.stateNode;if(a===null&&s.flags&4){a=et;var rt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&a.focus();break;case"img":rt.src&&(a.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var nt=s.alternate;if(nt!==null){var it=nt.memoizedState;if(it!==null){var ot=it.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Sj(s)}catch(at){W(s,s.return,at)}}if(s===i){V=null;break}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}}function hk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V=a;break}V=s.return}}function kk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Rj(4,s)}catch(rt){W(s,a,rt)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var _=s.return;try{o.componentDidMount()}catch(rt){W(s,_,rt)}}var $=s.return;try{Sj(s)}catch(rt){W(s,$,rt)}break;case 5:var j=s.return;try{Sj(s)}catch(rt){W(s,j,rt)}}}catch(rt){W(s,s.return,rt)}if(s===i){V=null;break}var et=s.sibling;if(et!==null){et.return=s.return,V=et;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,s,a,o){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(i,a,o),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=a),T===4&&Dk(i,Z)),Ek(i,o),a===1&&K===0&&!(s.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,s){var a=i.callbackNode;wc(i,s);var o=uc(i,i===R?Z:0);if(o===0)a!==null&&bc(a),i.callbackNode=null,i.callbackPriority=0;else if(s=o&-o,i.callbackPriority!==s){if(a!=null&&bc(a),s===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,i))}i.callbackPriority=s,i.callbackNode=a}}function Hk(i,s){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var a=i.callbackNode;if(Ik()&&i.callbackNode!==a)return null;var o=uc(i,i===R?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||s)s=Jk(i,o);else{s=o;var _=K;K|=2;var $=Kk();(R!==i||Z!==s)&&(vk=null,Hj=B()+500,Lk(i,s));do try{Mk();break}catch(et){Nk(i,et)}while(!0);Qg(),nk.current=$,K=_,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(_=xc(i),_!==0&&(o=_,s=Ok(i,_))),s===1)throw a=qk,Lk(i,0),Dk(i,o),Ek(i,B()),a;if(s===6)Dk(i,o);else{if(_=i.current.alternate,!(o&30)&&!Pk(_)&&(s=Jk(i,o),s===2&&($=xc(i),$!==0&&(o=$,s=Ok(i,$))),s===1))throw a=qk,Lk(i,0),Dk(i,o),Ek(i,B()),a;switch(i.finishedWork=_,i.finishedLanes=o,s){case 0:case 1:throw Error(p$1(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(s=gk+500-B(),10<s)){if(uc(i,0)!==0)break;if(_=i.suspendedLanes,(_&o)!==o){L(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),s);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(s=i.eventTimes,_=-1;0<o;){var j=31-oc(o);$=1<<j,j=s[j],j>_&&(_=j),o&=~$}if(o=_,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(i,B()),i.callbackNode===a?Hk.bind(null,i):null}function Ok(i,s){var a=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,s).flags|=256),i=Jk(i,s),i!==2&&(s=uk,uk=a,s!==null&&Gj(s)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var s=i;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var _=a[o],$=_.getSnapshot;_=_.value;try{if(!He($(),_))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(i,s){for(s&=~sk,s&=~rk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var a=31-oc(s),o=1<<a;i[a]=-1,s&=~o}}function Fk(i){if(K&6)throw Error(p$1(327));Ik();var s=uc(i,0);if(!(s&1))return Ek(i,B()),null;var a=Jk(i,s);if(i.tag!==0&&a===2){var o=xc(i);o!==0&&(s=o,a=Ok(i,o))}if(a===1)throw a=qk,Lk(i,0),Dk(i,s),Ek(i,B()),a;if(a===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,s){var a=K;K|=1;try{return i(s)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var s=K;K|=1;var a=pk.transition,o=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=o,pk.transition=a,K=s,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;if(a!==-1&&(i.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=i,Y=i=wh(i.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(a=Wg[s],o=a.interleaved,o!==null){a.interleaved=null;var _=o.next,$=a.pending;if($!==null){var j=$.next;$.next=_,o.next=j}a.pending=o}Wg=null}return i}function Nk(i,s){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var _=o.queue;_!==null&&(_.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=s,Y=null;break}e:{var $=i,j=a.return,et=a,rt=s;if(s=Z,et.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var nt=rt,it=et,ot=it.tag;if(!(it.mode&1)&&(ot===0||ot===11||ot===15)){var at=it.alternate;at?(it.updateQueue=at.updateQueue,it.memoizedState=at.memoizedState,it.lanes=at.lanes):(it.updateQueue=null,it.memoizedState=null)}var lt=Vi(j);if(lt!==null){lt.flags&=-257,Wi(lt,j,et,$,s),lt.mode&1&&Ti($,nt,s),s=lt,rt=nt;var gt=s.updateQueue;if(gt===null){var ct=new Set;ct.add(rt),s.updateQueue=ct}else gt.add(rt);break e}else{if(!(s&1)){Ti($,nt,s),uj();break e}rt=Error(p$1(426))}}else if(I&&et.mode&1){var yt=Vi(j);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Wi(yt,j,et,$,s),Jg(Ki(rt,et));break e}}$=rt=Ki(rt,et),T!==4&&(T=2),tk===null?tk=[$]:tk.push($),$=j;do{switch($.tag){case 3:$.flags|=65536,s&=-s,$.lanes|=s;var pt=Oi($,rt,s);fh($,pt);break e;case 1:et=rt;var ut=$.type,ht=$.stateNode;if(!($.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Si===null||!Si.has(ht)))){$.flags|=65536,s&=-s,$.lanes|=s;var mt=Ri($,et,s);fh($,mt);break e}}$=$.return}while($!==null)}Tk(a)}catch(dt){s=dt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,s){var a=K;K|=2;var o=Kk();(R!==i||Z!==s)&&(vk=null,Lk(i,s));do try{Uk();break}catch(_){Nk(i,_)}while(!0);if(Qg(),K=a,nk.current=o,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var s=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,s===null?Tk(i):Y=s,ok.current=null}function Tk(i){var s=i;do{var a=s.alternate;if(i=s.return,s.flags&32768){if(a=Jj(a,s),a!==null){a.flags&=32767,Y=a;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,s,gj),a!==null){Y=a;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Qk(i,s,a){var o=C,_=pk.transition;try{pk.transition=null,C=1,Xk(i,s,a,o)}finally{pk.transition=_,C=o}return null}function Xk(i,s,a,o){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));a=i.finishedWork;var _=i.finishedLanes;if(a===null)return null;if(i.finishedWork=null,i.finishedLanes=0,a===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var $=a.lanes|a.childLanes;if(Bc(i,$),i===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),$=(a.flags&15990)!==0,a.subtreeFlags&15990||$){$=pk.transition,pk.transition=null;var j=C;C=1;var et=K;K|=4,ok.current=null,Pj(i,a),ek(a,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=a,ik(a),dc(),K=et,C=j,pk.transition=$}else i.current=a;if(wk&&(wk=!1,xk=i,yk=_),$=i.pendingLanes,$===0&&(Si=null),mc(a.stateNode),Ek(i,B()),s!==null)for(o=i.onRecoverableError,a=0;a<s.length;a++)_=s[a],o(_.value,{componentStack:_.stack,digest:_.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),$=i.pendingLanes,$&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),s=pk.transition,a=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var _=K;for(K|=4,V=i.current;V!==null;){var $=V,j=$.child;if(V.flags&16){var et=$.deletions;if(et!==null){for(var rt=0;rt<et.length;rt++){var nt=et[rt];for(V=nt;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Qj(8,it,$)}var ot=it.child;if(ot!==null)ot.return=it,V=ot;else for(;V!==null;){it=V;var at=it.sibling,lt=it.return;if(Tj(it),it===nt){V=null;break}if(at!==null){at.return=lt,V=at;break}V=lt}}}var gt=$.alternate;if(gt!==null){var ct=gt.child;if(ct!==null){gt.child=null;do{var yt=ct.sibling;ct.sibling=null,ct=yt}while(ct!==null)}}V=$}}if($.subtreeFlags&2064&&j!==null)j.return=$,V=j;else e:for(;V!==null;){if($=V,$.flags&2048)switch($.tag){case 0:case 11:case 15:Qj(9,$,$.return)}var pt=$.sibling;if(pt!==null){pt.return=$.return,V=pt;break e}V=$.return}}var ut=i.current;for(V=ut;V!==null;){j=V;var ht=j.child;if(j.subtreeFlags&2064&&ht!==null)ht.return=j,V=ht;else e:for(j=ut;V!==null;){if(et=V,et.flags&2048)try{switch(et.tag){case 0:case 11:case 15:Rj(9,et)}}catch(dt){W(et,et.return,dt)}if(et===j){V=null;break e}var mt=et.sibling;if(mt!==null){mt.return=et.return,V=mt;break e}V=et.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=a,pk.transition=s}}return!1}function Yk(i,s,a){s=Ki(a,s),s=Oi(i,s,1),i=dh(i,s,1),s=L(),i!==null&&(Ac(i,1,s),Ek(i,s))}function W(i,s,a){if(i.tag===3)Yk(i,i,a);else for(;s!==null;){if(s.tag===3){Yk(s,i,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){i=Ki(a,i),i=Ri(s,i,1),s=dh(s,i,1),i=L(),s!==null&&(Ac(s,1,i),Ek(s,i));break}}s=s.return}}function Ui(i,s,a){var o=i.pingCache;o!==null&&o.delete(s),s=L(),i.pingedLanes|=i.suspendedLanes&a,R===i&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=a),Ek(i,s)}function Zk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=L();i=Zg(i,s),i!==null&&(Ac(i,s,a),Ek(i,a))}function vj(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Zk(i,a)}function ck(i,s){var a=0;switch(i.tag){case 13:var o=i.stateNode,_=i.memoizedState;_!==null&&(a=_.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p$1(314))}o!==null&&o.delete(s),Zk(i,a)}var Wk;Wk=function(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&a)&&!(s.flags&128))return Ug=!1,zj(i,s,a);Ug=!!(i.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;jj(i,s),i=s.pendingProps;var _=Yf(s,H.current);Tg(s,a),_=Xh(null,s,o,i,_,a);var $=bi();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?($=!0,cg(s)):$=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ah(s),_.updater=nh,s.stateNode=_,_._reactInternals=s,rh(s,o,i,a),s=kj(null,s,o,!0,$,a)):(s.tag=0,I&&$&&vg(s),Yi(null,s,_,a),s=s.child),s;case 16:o=s.elementType;e:{switch(jj(i,s),i=s.pendingProps,_=o._init,o=_(o._payload),s.type=o,_=s.tag=$k(o),i=Lg(o,i),_){case 0:s=dj(null,s,o,i,a);break e;case 1:s=ij(null,s,o,i,a);break e;case 11:s=Zi(null,s,o,i,a);break e;case 14:s=aj(null,s,o,Lg(o.type,i),a);break e}throw Error(p$1(306,o,""))}return s;case 0:return o=s.type,_=s.pendingProps,_=s.elementType===o?_:Lg(o,_),dj(i,s,o,_,a);case 1:return o=s.type,_=s.pendingProps,_=s.elementType===o?_:Lg(o,_),ij(i,s,o,_,a);case 3:e:{if(lj(s),i===null)throw Error(p$1(387));o=s.pendingProps,$=s.memoizedState,_=$.element,bh(i,s),gh(s,o,null,a);var j=s.memoizedState;if(o=j.element,$.isDehydrated)if($={element:o,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=$,s.memoizedState=$,s.flags&256){_=Ki(Error(p$1(423)),s),s=mj(i,s,o,a,_);break e}else if(o!==_){_=Ki(Error(p$1(424)),s),s=mj(i,s,o,a,_);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,a=Ch(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===_){s=$i(i,s,a);break e}Yi(i,s,o,a)}s=s.child}return s;case 5:return Kh(s),i===null&&Eg(s),o=s.type,_=s.pendingProps,$=i!==null?i.memoizedProps:null,j=_.children,Ef(o,_)?j=null:$!==null&&Ef(o,$)&&(s.flags|=32),hj(i,s),Yi(i,s,j,a),s.child;case 6:return i===null&&Eg(s),null;case 13:return pj(i,s,a);case 4:return Ih(s,s.stateNode.containerInfo),o=s.pendingProps,i===null?s.child=Bh(s,null,o,a):Yi(i,s,o,a),s.child;case 11:return o=s.type,_=s.pendingProps,_=s.elementType===o?_:Lg(o,_),Zi(i,s,o,_,a);case 7:return Yi(i,s,s.pendingProps,a),s.child;case 8:return Yi(i,s,s.pendingProps.children,a),s.child;case 12:return Yi(i,s,s.pendingProps.children,a),s.child;case 10:e:{if(o=s.type._context,_=s.pendingProps,$=s.memoizedProps,j=_.value,G(Mg,o._currentValue),o._currentValue=j,$!==null)if(He($.value,j)){if($.children===_.children&&!Wf.current){s=$i(i,s,a);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var et=$.dependencies;if(et!==null){j=$.child;for(var rt=et.firstContext;rt!==null;){if(rt.context===o){if($.tag===1){rt=ch(-1,a&-a),rt.tag=2;var nt=$.updateQueue;if(nt!==null){nt=nt.shared;var it=nt.pending;it===null?rt.next=rt:(rt.next=it.next,it.next=rt),nt.pending=rt}}$.lanes|=a,rt=$.alternate,rt!==null&&(rt.lanes|=a),Sg($.return,a,s),et.lanes|=a;break}rt=rt.next}}else if($.tag===10)j=$.type===s.type?null:$.child;else if($.tag===18){if(j=$.return,j===null)throw Error(p$1(341));j.lanes|=a,et=j.alternate,et!==null&&(et.lanes|=a),Sg(j,a,s),j=$.sibling}else j=$.child;if(j!==null)j.return=$;else for(j=$;j!==null;){if(j===s){j=null;break}if($=j.sibling,$!==null){$.return=j.return,j=$;break}j=j.return}$=j}Yi(i,s,_.children,a),s=s.child}return s;case 9:return _=s.type,o=s.pendingProps.children,Tg(s,a),_=Vg(_),o=o(_),s.flags|=1,Yi(i,s,o,a),s.child;case 14:return o=s.type,_=Lg(o,s.pendingProps),_=Lg(o.type,_),aj(i,s,o,_,a);case 15:return cj(i,s,s.type,s.pendingProps,a);case 17:return o=s.type,_=s.pendingProps,_=s.elementType===o?_:Lg(o,_),jj(i,s),s.tag=1,Zf(o)?(i=!0,cg(s)):i=!1,Tg(s,a),ph(s,o,_),rh(s,o,_,a),kj(null,s,o,!0,i,a);case 19:return yj(i,s,a);case 22:return ej(i,s,a)}throw Error(p$1(156,s.tag))};function Gk(i,s){return ac(i,s)}function al(i,s,a,o){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,a,o){return new al(i,s,a,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,s){var a=i.alternate;return a===null?(a=Bg(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&14680064,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a}function yh(i,s,a,o,_,$){var j=2;if(o=i,typeof i=="function")bj(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case ya:return Ah(a.children,_,$,s);case za:j=8,_|=8;break;case Aa:return i=Bg(12,a,s,_|2),i.elementType=Aa,i.lanes=$,i;case Ea:return i=Bg(13,a,s,_),i.elementType=Ea,i.lanes=$,i;case Fa:return i=Bg(19,a,s,_),i.elementType=Fa,i.lanes=$,i;case Ia:return qj(a,_,$,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:j=10;break e;case Ca:j=9;break e;case Da:j=11;break e;case Ga:j=14;break e;case Ha:j=16,o=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return s=Bg(j,a,s,_),s.elementType=i,s.type=o,s.lanes=$,s}function Ah(i,s,a,o){return i=Bg(7,i,o,s),i.lanes=a,i}function qj(i,s,a,o){return i=Bg(22,i,o,s),i.elementType=Ia,i.lanes=a,i.stateNode={isHidden:!1},i}function xh(i,s,a){return i=Bg(6,i,null,s),i.lanes=a,i}function zh(i,s,a){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bl(i,s,a,o,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function cl(i,s,a,o,_,$,j,et,rt){return i=new bl(i,s,a,et,rt),s===1?(s=1,$===!0&&(s|=8)):s=0,$=Bg(3,null,null,s),i.current=$,$.stateNode=i,$.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah($),i}function dl(i,s,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:s,implementation:a}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(i.tag===1){var a=i.type;if(Zf(a))return bg(i,a,s)}return s}function fl(i,s,a,o,_,$,j,et,rt){return i=cl(a,o,!0,i,_,$,j,et,rt),i.context=el(null),a=i.current,o=L(),_=lh(a),$=ch(o,_),$.callback=s??null,dh(a,$,_),i.current.lanes=_,Ac(i,_,o),Ek(i,o),i}function gl(i,s,a,o){var _=s.current,$=L(),j=lh(_);return a=el(a),s.context===null?s.context=a:s.pendingContext=a,s=ch($,j),s.payload={element:i},o=o===void 0?null:o,o!==null&&(s.callback=o),i=dh(_,s,j),i!==null&&(mh(i,_,j,$),eh(i,_,j)),j}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function jl(i,s){il(i,s),(i=i.alternate)&&il(i,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$1(409));gl(i,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Sk(function(){gl(null,i,null,null)}),s[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,i),a===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,s,a,o,_){if(_){if(typeof o=="function"){var $=o;o=function(){var nt=hl(j);$.call(nt)}}var j=fl(s,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=j,i[uf]=j.current,sf(i.nodeType===8?i.parentNode:i),Sk(),j}for(;_=i.lastChild;)i.removeChild(_);if(typeof o=="function"){var et=o;o=function(){var nt=hl(rt);et.call(nt)}}var rt=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(s,rt,a,o)}),rt}function sl(i,s,a,o,_){var $=a._reactRootContainer;if($){var j=$;if(typeof _=="function"){var et=_;_=function(){var rt=hl(j);et.call(rt)}}gl(s,j,i,_)}else j=rl(a,s,i,_,o);return hl(j)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Ek(s,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var _=L();mh(o,i,1,_)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var s=Zg(i,134217728);if(s!==null){var a=L();mh(s,i,134217728,a)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var s=lh(i),a=Zg(i,s);if(a!==null){var o=L();mh(a,i,s,o)}jl(i,s)}};Hc=function(){return C};Ic=function(i,s){var a=C;try{return C=i,s()}finally{C=a}};yb=function(i,s,a){switch(s){case"input":if(bb(i,a),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==i&&o.form===i.form){var _=Db(o);if(!_)throw Error(p$1(90));Wa(o),bb(o,_)}}}break;case"textarea":ib(i,a);break;case"select":s=a.value,s!=null&&fb(i,!!a.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p$1(200));return dl(i,s,null,a)};reactDom_production_min.createRoot=function(i,s){if(!ol(i))throw Error(p$1(299));var a=!1,o="",_=ll;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=cl(i,1,!1,null,null,a,!1,o,_),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ml(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,s,a){if(!pl(s))throw Error(p$1(200));return sl(null,i,s,!0,a)};reactDom_production_min.hydrateRoot=function(i,s,a){if(!ol(i))throw Error(p$1(405));var o=a!=null&&a.hydratedSources||null,_=!1,$="",j=ll;if(a!=null&&(a.unstable_strictMode===!0&&(_=!0),a.identifierPrefix!==void 0&&($=a.identifierPrefix),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),s=fl(s,null,i,1,a??null,_,!1,$,j),i[uf]=s.current,sf(i),o)for(i=0;i<o.length;i++)a=o[i],_=a._getVersion,_=_(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,_]:s.mutableSourceEagerHydrationData.push(a,_);return new nl(s)};reactDom_production_min.render=function(i,s,a){if(!pl(s))throw Error(p$1(200));return sl(null,i,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$1(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,a,o){if(!pl(a))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return sl(i,s,a,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},dommatrix={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022 © thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,function(i,s){(function(a,o){i.exports=o()})(commonjsGlobal,function(){function a(ut){var ht=new gt,mt=Array.from(ut);if(!mt.every(function(er){return!Number.isNaN(er)}))throw TypeError('CSSMatrix: "'+ut+'" must only have numbers.');if(mt.length===16){var dt=mt[0],vt=mt[1],St=mt[2],_t=mt[3],Et=mt[4],Pt=mt[5],Mt=mt[6],Rt=mt[7],Ut=mt[8],Ct=mt[9],Kt=mt[10],Gt=mt[11],It=mt[12],jt=mt[13],$t=mt[14],Jt=mt[15];ht.m11=dt,ht.a=dt,ht.m21=Et,ht.c=Et,ht.m31=Ut,ht.m41=It,ht.e=It,ht.m12=vt,ht.b=vt,ht.m22=Pt,ht.d=Pt,ht.m32=Ct,ht.m42=jt,ht.f=jt,ht.m13=St,ht.m23=Mt,ht.m33=Kt,ht.m43=$t,ht.m14=_t,ht.m24=Rt,ht.m34=Gt,ht.m44=Jt}else if(mt.length===6){var Wt=mt[0],tr=mt[1],mr=mt[2],Yt=mt[3],kt=mt[4],Ft=mt[5];ht.m11=Wt,ht.a=Wt,ht.m12=tr,ht.b=tr,ht.m21=mr,ht.c=mr,ht.m22=Yt,ht.d=Yt,ht.m41=kt,ht.e=kt,ht.m42=Ft,ht.f=Ft}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return ht}function o(ut){var ht=Object.keys(new gt);if(typeof ut=="object"&&ht.every(function(mt){return mt in ut}))return a([ut.m11,ut.m12,ut.m13,ut.m14,ut.m21,ut.m22,ut.m23,ut.m24,ut.m31,ut.m32,ut.m33,ut.m34,ut.m41,ut.m42,ut.m43,ut.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(ut)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function _(ut){if(typeof ut!="string")throw TypeError('CSSMatrix: "'+ut+'" is not a string.');var ht=String(ut).replace(/\s/g,""),mt=new gt,dt='CSSMatrix: invalid transform string "'+ut+'"';return ht.split(")").filter(function(vt){return vt}).forEach(function(vt){var St=vt.split("("),_t=St[0],Et=St[1];if(!Et)throw TypeError(dt);var Pt=Et.split(",").map(function(kt){return kt.includes("rad")?parseFloat(kt)*(180/Math.PI):parseFloat(kt)}),Mt=Pt[0],Rt=Pt[1],Ut=Pt[2],Ct=Pt[3],Kt=[Mt,Rt,Ut],Gt=[Mt,Rt,Ut,Ct];if(_t==="perspective"&&Mt&&[Rt,Ut].every(function(kt){return kt===void 0}))mt.m34=-1/Mt;else if(_t.includes("matrix")&&[6,16].includes(Pt.length)&&Pt.every(function(kt){return!Number.isNaN(+kt)})){var It=Pt.map(function(kt){return Math.abs(kt)<1e-6?0:kt});mt=mt.multiply(a(It))}else if(_t==="translate3d"&&Kt.every(function(kt){return!Number.isNaN(+kt)}))mt=mt.translate(Mt,Rt,Ut);else if(_t==="translate"&&Mt&&Ut===void 0)mt=mt.translate(Mt,Rt||0,0);else if(_t==="rotate3d"&&Gt.every(function(kt){return!Number.isNaN(+kt)})&&Ct)mt=mt.rotateAxisAngle(Mt,Rt,Ut,Ct);else if(_t==="rotate"&&Mt&&[Rt,Ut].every(function(kt){return kt===void 0}))mt=mt.rotate(0,0,Mt);else if(_t==="scale3d"&&Kt.every(function(kt){return!Number.isNaN(+kt)})&&Kt.some(function(kt){return kt!==1}))mt=mt.scale(Mt,Rt,Ut);else if(_t==="scale"&&!Number.isNaN(Mt)&&Mt!==1&&Ut===void 0){var jt=Number.isNaN(+Rt),$t=jt?Mt:Rt;mt=mt.scale(Mt,$t,1)}else if(_t==="skew"&&(Mt||!Number.isNaN(Mt)&&Rt)&&Ut===void 0)mt=mt.skew(Mt,Rt||0);else if(/[XYZ]/.test(_t)&&Mt&&[Rt,Ut].every(function(kt){return kt===void 0})&&["translate","rotate","scale","skew"].some(function(kt){return _t.includes(kt)}))if(["skewX","skewY"].includes(_t))mt=mt[_t](Mt);else{var Jt=_t.replace(/[XYZ]/,""),Wt=_t.replace(Jt,""),tr=["X","Y","Z"].indexOf(Wt),mr=Jt==="scale"?1:0,Yt=[tr===0?Mt:mr,tr===1?Mt:mr,tr===2?Mt:mr];mt=mt[Jt].apply(mt,Yt)}else throw TypeError(dt)}),mt}function $(ut,ht){return ht?[ut.a,ut.b,ut.c,ut.d,ut.e,ut.f]:[ut.m11,ut.m12,ut.m13,ut.m14,ut.m21,ut.m22,ut.m23,ut.m24,ut.m31,ut.m32,ut.m33,ut.m34,ut.m41,ut.m42,ut.m43,ut.m44]}function j(ut,ht,mt){var dt=new gt;return dt.m41=ut,dt.e=ut,dt.m42=ht,dt.f=ht,dt.m43=mt,dt}function et(ut,ht,mt){var dt=new gt,vt=Math.PI/180,St=ut*vt,_t=ht*vt,Et=mt*vt,Pt=Math.cos(St),Mt=-Math.sin(St),Rt=Math.cos(_t),Ut=-Math.sin(_t),Ct=Math.cos(Et),Kt=-Math.sin(Et),Gt=Rt*Ct,It=-Rt*Kt;dt.m11=Gt,dt.a=Gt,dt.m12=It,dt.b=It,dt.m13=Ut;var jt=Mt*Ut*Ct+Pt*Kt;dt.m21=jt,dt.c=jt;var $t=Pt*Ct-Mt*Ut*Kt;return dt.m22=$t,dt.d=$t,dt.m23=-Mt*Rt,dt.m31=Mt*Kt-Pt*Ut*Ct,dt.m32=Mt*Ct+Pt*Ut*Kt,dt.m33=Pt*Rt,dt}function rt(ut,ht,mt,dt){var vt=new gt,St=Math.sqrt(ut*ut+ht*ht+mt*mt);if(St===0)return vt;var _t=ut/St,Et=ht/St,Pt=mt/St,Mt=dt*(Math.PI/360),Rt=Math.sin(Mt),Ut=Math.cos(Mt),Ct=Rt*Rt,Kt=_t*_t,Gt=Et*Et,It=Pt*Pt,jt=1-2*(Gt+It)*Ct;vt.m11=jt,vt.a=jt;var $t=2*(_t*Et*Ct+Pt*Rt*Ut);vt.m12=$t,vt.b=$t,vt.m13=2*(_t*Pt*Ct-Et*Rt*Ut);var Jt=2*(Et*_t*Ct-Pt*Rt*Ut);vt.m21=Jt,vt.c=Jt;var Wt=1-2*(It+Kt)*Ct;return vt.m22=Wt,vt.d=Wt,vt.m23=2*(Et*Pt*Ct+_t*Rt*Ut),vt.m31=2*(Pt*_t*Ct+Et*Rt*Ut),vt.m32=2*(Pt*Et*Ct-_t*Rt*Ut),vt.m33=1-2*(Kt+Gt)*Ct,vt}function nt(ut,ht,mt){var dt=new gt;return dt.m11=ut,dt.a=ut,dt.m22=ht,dt.d=ht,dt.m33=mt,dt}function it(ut,ht){var mt=new gt;if(ut){var dt=ut*Math.PI/180,vt=Math.tan(dt);mt.m21=vt,mt.c=vt}if(ht){var St=ht*Math.PI/180,_t=Math.tan(St);mt.m12=_t,mt.b=_t}return mt}function ot(ut){return it(ut,0)}function at(ut){return it(0,ut)}function lt(ut,ht){var mt=ht.m11*ut.m11+ht.m12*ut.m21+ht.m13*ut.m31+ht.m14*ut.m41,dt=ht.m11*ut.m12+ht.m12*ut.m22+ht.m13*ut.m32+ht.m14*ut.m42,vt=ht.m11*ut.m13+ht.m12*ut.m23+ht.m13*ut.m33+ht.m14*ut.m43,St=ht.m11*ut.m14+ht.m12*ut.m24+ht.m13*ut.m34+ht.m14*ut.m44,_t=ht.m21*ut.m11+ht.m22*ut.m21+ht.m23*ut.m31+ht.m24*ut.m41,Et=ht.m21*ut.m12+ht.m22*ut.m22+ht.m23*ut.m32+ht.m24*ut.m42,Pt=ht.m21*ut.m13+ht.m22*ut.m23+ht.m23*ut.m33+ht.m24*ut.m43,Mt=ht.m21*ut.m14+ht.m22*ut.m24+ht.m23*ut.m34+ht.m24*ut.m44,Rt=ht.m31*ut.m11+ht.m32*ut.m21+ht.m33*ut.m31+ht.m34*ut.m41,Ut=ht.m31*ut.m12+ht.m32*ut.m22+ht.m33*ut.m32+ht.m34*ut.m42,Ct=ht.m31*ut.m13+ht.m32*ut.m23+ht.m33*ut.m33+ht.m34*ut.m43,Kt=ht.m31*ut.m14+ht.m32*ut.m24+ht.m33*ut.m34+ht.m34*ut.m44,Gt=ht.m41*ut.m11+ht.m42*ut.m21+ht.m43*ut.m31+ht.m44*ut.m41,It=ht.m41*ut.m12+ht.m42*ut.m22+ht.m43*ut.m32+ht.m44*ut.m42,jt=ht.m41*ut.m13+ht.m42*ut.m23+ht.m43*ut.m33+ht.m44*ut.m43,$t=ht.m41*ut.m14+ht.m42*ut.m24+ht.m43*ut.m34+ht.m44*ut.m44;return a([mt,dt,vt,St,_t,Et,Pt,Mt,Rt,Ut,Ct,Kt,Gt,It,jt,$t])}var gt=function(){for(var ht=[],mt=arguments.length;mt--;)ht[mt]=arguments[mt];var dt=this;if(dt.a=1,dt.b=0,dt.c=0,dt.d=1,dt.e=0,dt.f=0,dt.m11=1,dt.m12=0,dt.m13=0,dt.m14=0,dt.m21=0,dt.m22=1,dt.m23=0,dt.m24=0,dt.m31=0,dt.m32=0,dt.m33=1,dt.m34=0,dt.m41=0,dt.m42=0,dt.m43=0,dt.m44=1,ht.length){var vt=[16,6].some(function(St){return St===ht.length})?ht:ht[0];return dt.setMatrixValue(vt)}return dt},ct={isIdentity:{configurable:!0},is2D:{configurable:!0}};ct.isIdentity.get=function(){var ut=this;return ut.m11===1&&ut.m12===0&&ut.m13===0&&ut.m14===0&&ut.m21===0&&ut.m22===1&&ut.m23===0&&ut.m24===0&&ut.m31===0&&ut.m32===0&&ut.m33===1&&ut.m34===0&&ut.m41===0&&ut.m42===0&&ut.m43===0&&ut.m44===1},ct.is2D.get=function(){var ut=this;return ut.m31===0&&ut.m32===0&&ut.m33===1&&ut.m34===0&&ut.m43===0&&ut.m44===1},gt.prototype.setMatrixValue=function(ht){var mt=this;return typeof ht=="string"&&ht.length&&ht!=="none"?_(ht):[Array,Float64Array,Float32Array].some(function(dt){return ht instanceof dt})?a(ht):[gt,DOMMatrix,Object].some(function(dt){return ht instanceof dt})?o(ht):mt},gt.prototype.toFloat32Array=function(ht){return Float32Array.from($(this,ht))},gt.prototype.toFloat64Array=function(ht){return Float64Array.from($(this,ht))},gt.prototype.toString=function(){var ht=this,mt=ht.is2D,dt=ht.toFloat64Array(mt).join(", "),vt=mt?"matrix":"matrix3d";return vt+"("+dt+")"},gt.prototype.toJSON=function(){var ht=this,mt=ht.is2D,dt=ht.isIdentity;return Object.assign({},ht,{is2D:mt,isIdentity:dt})},gt.prototype.multiply=function(ht){return lt(this,ht)},gt.prototype.translate=function(ht,mt,dt){var vt=ht,St=mt,_t=dt;return St===void 0&&(St=0),_t===void 0&&(_t=0),lt(this,j(vt,St,_t))},gt.prototype.scale=function(ht,mt,dt){var vt=ht,St=mt,_t=dt;return St===void 0&&(St=ht),_t===void 0&&(_t=1),lt(this,nt(vt,St,_t))},gt.prototype.rotate=function(ht,mt,dt){var vt=ht,St=mt||0,_t=dt||0;return typeof ht=="number"&&mt===void 0&&dt===void 0&&(_t=vt,vt=0,St=0),lt(this,et(vt,St,_t))},gt.prototype.rotateAxisAngle=function(ht,mt,dt,vt){if([ht,mt,dt,vt].some(function(St){return Number.isNaN(+St)}))throw new TypeError("CSSMatrix: expecting 4 values");return lt(this,rt(ht,mt,dt,vt))},gt.prototype.skewX=function(ht){return lt(this,ot(ht))},gt.prototype.skewY=function(ht){return lt(this,at(ht))},gt.prototype.skew=function(ht,mt){return lt(this,it(ht,mt))},gt.prototype.transformPoint=function(ht){var mt=this,dt=mt.m11*ht.x+mt.m21*ht.y+mt.m31*ht.z+mt.m41*ht.w,vt=mt.m12*ht.x+mt.m22*ht.y+mt.m32*ht.z+mt.m42*ht.w,St=mt.m13*ht.x+mt.m23*ht.y+mt.m33*ht.z+mt.m43*ht.w,_t=mt.m14*ht.x+mt.m24*ht.y+mt.m34*ht.z+mt.m44*ht.w;return ht instanceof DOMPoint?new DOMPoint(dt,vt,St,_t):{x:dt,y:vt,z:St,w:_t}},Object.defineProperties(gt.prototype,ct),Object.assign(gt,{Translate:j,Rotate:et,RotateAxisAngle:rt,Scale:nt,SkewX:ot,SkewY:at,Skew:it,Multiply:lt,fromArray:a,fromMatrix:o,fromString:_,toArray:$});var yt="1.0.3",pt=yt;return Object.assign(gt,{Version:pt}),gt})}(dommatrix)),dommatrix.exports}var ponyfill={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(i,s){(function(a,o){o(s)})(commonjsGlobal,function(a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(ft){return"Symbol(".concat(ft,")")};function _(ft,xt){var Lt={label:0,sent:function(){if(pr[0]&1)throw pr[1];return pr[1]},trys:[],ops:[]},ir,cr,pr,kr;return kr={next:zr(0),throw:zr(1),return:zr(2)},typeof Symbol=="function"&&(kr[Symbol.iterator]=function(){return this}),kr;function zr(Br){return function(on){return Zr([Br,on])}}function Zr(Br){if(ir)throw new TypeError("Generator is already executing.");for(;kr&&(kr=0,Br[0]&&(Lt=0)),Lt;)try{if(ir=1,cr&&(pr=Br[0]&2?cr.return:Br[0]?cr.throw||((pr=cr.return)&&pr.call(cr),0):cr.next)&&!(pr=pr.call(cr,Br[1])).done)return pr;switch(cr=0,pr&&(Br=[Br[0]&2,pr.value]),Br[0]){case 0:case 1:pr=Br;break;case 4:return Lt.label++,{value:Br[1],done:!1};case 5:Lt.label++,cr=Br[1],Br=[0];continue;case 7:Br=Lt.ops.pop(),Lt.trys.pop();continue;default:if(pr=Lt.trys,!(pr=pr.length>0&&pr[pr.length-1])&&(Br[0]===6||Br[0]===2)){Lt=0;continue}if(Br[0]===3&&(!pr||Br[1]>pr[0]&&Br[1]<pr[3])){Lt.label=Br[1];break}if(Br[0]===6&&Lt.label<pr[1]){Lt.label=pr[1],pr=Br;break}if(pr&&Lt.label<pr[2]){Lt.label=pr[2],Lt.ops.push(Br);break}pr[2]&&Lt.ops.pop(),Lt.trys.pop();continue}Br=xt.call(ft,Lt)}catch(on){Br=[6,on],cr=0}finally{ir=pr=0}if(Br[0]&5)throw Br[1];return{value:Br[0]?Br[1]:void 0,done:!0}}}function $(ft){var xt=typeof Symbol=="function"&&Symbol.iterator,Lt=xt&&ft[xt],ir=0;if(Lt)return Lt.call(ft);if(ft&&typeof ft.length=="number")return{next:function(){return ft&&ir>=ft.length&&(ft=void 0),{value:ft&&ft[ir++],done:!ft}}};throw new TypeError(xt?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(ft){return this instanceof j?(this.v=ft,this):new j(ft)}function et(ft,xt,Lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ir=Lt.apply(ft,xt||[]),cr,pr=[];return cr={},kr("next"),kr("throw"),kr("return"),cr[Symbol.asyncIterator]=function(){return this},cr;function kr(pn){ir[pn]&&(cr[pn]=function(Jn){return new Promise(function(_s,Gn){pr.push([pn,Jn,_s,Gn])>1||zr(pn,Jn)})})}function zr(pn,Jn){try{Zr(ir[pn](Jn))}catch(_s){mn(pr[0][3],_s)}}function Zr(pn){pn.value instanceof j?Promise.resolve(pn.value.v).then(Br,on):mn(pr[0][2],pn)}function Br(pn){zr("next",pn)}function on(pn){zr("throw",pn)}function mn(pn,Jn){pn(Jn),pr.shift(),pr.length&&zr(pr[0][0],pr[0][1])}}function rt(ft){var xt,Lt;return xt={},ir("next"),ir("throw",function(cr){throw cr}),ir("return"),xt[Symbol.iterator]=function(){return this},xt;function ir(cr,pr){xt[cr]=ft[cr]?function(kr){return(Lt=!Lt)?{value:j(ft[cr](kr)),done:!1}:pr?pr(kr):kr}:pr}}function nt(ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xt=ft[Symbol.asyncIterator],Lt;return xt?xt.call(ft):(ft=typeof $=="function"?$(ft):ft[Symbol.iterator](),Lt={},ir("next"),ir("throw"),ir("return"),Lt[Symbol.asyncIterator]=function(){return this},Lt);function ir(pr){Lt[pr]=ft[pr]&&function(kr){return new Promise(function(zr,Zr){kr=ft[pr](kr),cr(zr,Zr,kr.done,kr.value)})}}function cr(pr,kr,zr,Zr){Promise.resolve(Zr).then(function(Br){pr({value:Br,done:zr})},kr)}}typeof SuppressedError=="function"&&SuppressedError;function it(){}function ot(ft){return typeof ft=="object"&&ft!==null||typeof ft=="function"}var at=it;function lt(ft,xt){try{Object.defineProperty(ft,"name",{value:xt,configurable:!0})}catch{}}var gt=Promise,ct=Promise.prototype.then,yt=Promise.reject.bind(gt);function pt(ft){return new gt(ft)}function ut(ft){return pt(function(xt){return xt(ft)})}function ht(ft){return yt(ft)}function mt(ft,xt,Lt){return ct.call(ft,xt,Lt)}function dt(ft,xt,Lt){mt(mt(ft,xt,Lt),void 0,at)}function vt(ft,xt){dt(ft,xt)}function St(ft,xt){dt(ft,void 0,xt)}function _t(ft,xt,Lt){return mt(ft,xt,Lt)}function Et(ft){mt(ft,void 0,at)}var Pt=function(ft){if(typeof queueMicrotask=="function")Pt=queueMicrotask;else{var xt=ut(void 0);Pt=function(Lt){return mt(xt,Lt)}}return Pt(ft)};function Mt(ft,xt,Lt){if(typeof ft!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(ft,xt,Lt)}function Rt(ft,xt,Lt){try{return ut(Mt(ft,xt,Lt))}catch(ir){return ht(ir)}}var Ut=16384,Ct=function(){function ft(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(ft.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),ft.prototype.push=function(xt){var Lt=this._back,ir=Lt;Lt._elements.length===Ut-1&&(ir={_elements:[],_next:void 0}),Lt._elements.push(xt),ir!==Lt&&(this._back=ir,Lt._next=ir),++this._size},ft.prototype.shift=function(){var xt=this._front,Lt=xt,ir=this._cursor,cr=ir+1,pr=xt._elements,kr=pr[ir];return cr===Ut&&(Lt=xt._next,cr=0),--this._size,this._cursor=cr,xt!==Lt&&(this._front=Lt),pr[ir]=void 0,kr},ft.prototype.forEach=function(xt){for(var Lt=this._cursor,ir=this._front,cr=ir._elements;(Lt!==cr.length||ir._next!==void 0)&&!(Lt===cr.length&&(ir=ir._next,cr=ir._elements,Lt=0,cr.length===0));)xt(cr[Lt]),++Lt},ft.prototype.peek=function(){var xt=this._front,Lt=this._cursor;return xt._elements[Lt]},ft}(),Kt=o("[[AbortSteps]]"),Gt=o("[[ErrorSteps]]"),It=o("[[CancelSteps]]"),jt=o("[[PullSteps]]"),$t=o("[[ReleaseSteps]]");function Jt(ft,xt){ft._ownerReadableStream=xt,xt._reader=ft,xt._state==="readable"?Yt(ft):xt._state==="closed"?Ft(ft):kt(ft,xt._storedError)}function Wt(ft,xt){var Lt=ft._ownerReadableStream;return vs(Lt,xt)}function tr(ft){var xt=ft._ownerReadableStream;xt._state==="readable"?er(ft,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Zt(ft,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),xt._readableStreamController[$t](),xt._reader=void 0,ft._ownerReadableStream=void 0}function mr(ft){return new TypeError("Cannot "+ft+" a stream using a released reader")}function Yt(ft){ft._closedPromise=pt(function(xt,Lt){ft._closedPromise_resolve=xt,ft._closedPromise_reject=Lt})}function kt(ft,xt){Yt(ft),er(ft,xt)}function Ft(ft){Yt(ft),At(ft)}function er(ft,xt){ft._closedPromise_reject!==void 0&&(Et(ft._closedPromise),ft._closedPromise_reject(xt),ft._closedPromise_resolve=void 0,ft._closedPromise_reject=void 0)}function Zt(ft,xt){kt(ft,xt)}function At(ft){ft._closedPromise_resolve!==void 0&&(ft._closedPromise_resolve(void 0),ft._closedPromise_resolve=void 0,ft._closedPromise_reject=void 0)}var Ot=Number.isFinite||function(ft){return typeof ft=="number"&&isFinite(ft)},Dt=Math.trunc||function(ft){return ft<0?Math.ceil(ft):Math.floor(ft)};function zt(ft){return typeof ft=="object"||typeof ft=="function"}function Xt(ft,xt){if(ft!==void 0&&!zt(ft))throw new TypeError("".concat(xt," is not an object."))}function wt(ft,xt){if(typeof ft!="function")throw new TypeError("".concat(xt," is not a function."))}function Vt(ft){return typeof ft=="object"&&ft!==null||typeof ft=="function"}function qt(ft,xt){if(!Vt(ft))throw new TypeError("".concat(xt," is not an object."))}function Nt(ft,xt,Lt){if(ft===void 0)throw new TypeError("Parameter ".concat(xt," is required in '").concat(Lt,"'."))}function Bt(ft,xt,Lt){if(ft===void 0)throw new TypeError("".concat(xt," is required in '").concat(Lt,"'."))}function Qt(ft){return Number(ft)}function sr(ft){return ft===0?0:ft}function lr(ft){return sr(Dt(ft))}function ar(ft,xt){var Lt=0,ir=Number.MAX_SAFE_INTEGER,cr=Number(ft);if(cr=sr(cr),!Ot(cr))throw new TypeError("".concat(xt," is not a finite number"));if(cr=lr(cr),cr<Lt||cr>ir)throw new TypeError("".concat(xt," is outside the accepted range of ").concat(Lt," to ").concat(ir,", inclusive"));return!Ot(cr)||cr===0?0:cr}function vr(ft,xt){if(!xo(ft))throw new TypeError("".concat(xt," is not a ReadableStream."))}function _r(ft){return new Vr(ft)}function Cr(ft,xt){ft._reader._readRequests.push(xt)}function Er(ft,xt,Lt){var ir=ft._reader,cr=ir._readRequests.shift();Lt?cr._closeSteps():cr._chunkSteps(xt)}function qr(ft){return ft._reader._readRequests.length}function Ur(ft){var xt=ft._reader;return!(xt===void 0||!Dr(xt))}var Vr=function(){function ft(xt){if(Nt(xt,1,"ReadableStreamDefaultReader"),vr(xt,"First parameter"),_o(xt))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Jt(this,xt),this._readRequests=new Ct}return Object.defineProperty(ft.prototype,"closed",{get:function(){return Dr(this)?this._closedPromise:ht(gn("closed"))},enumerable:!1,configurable:!0}),ft.prototype.cancel=function(xt){return xt===void 0&&(xt=void 0),Dr(this)?this._ownerReadableStream===void 0?ht(mr("cancel")):Wt(this,xt):ht(gn("cancel"))},ft.prototype.read=function(){if(!Dr(this))return ht(gn("read"));if(this._ownerReadableStream===void 0)return ht(mr("read from"));var xt,Lt,ir=pt(function(pr,kr){xt=pr,Lt=kr}),cr={_chunkSteps:function(pr){return xt({value:pr,done:!1})},_closeSteps:function(){return xt({value:void 0,done:!0})},_errorSteps:function(pr){return Lt(pr)}};return hr(this,cr),ir},ft.prototype.releaseLock=function(){if(!Dr(this))throw gn("releaseLock");this._ownerReadableStream!==void 0&&Or(this)},ft}();Object.defineProperties(Vr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),lt(Vr.prototype.cancel,"cancel"),lt(Vr.prototype.read,"read"),lt(Vr.prototype.releaseLock,"releaseLock"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Vr.prototype,o.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Dr(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_readRequests")?!1:ft instanceof Vr}function hr(ft,xt){var Lt=ft._ownerReadableStream;Lt._disturbed=!0,Lt._state==="closed"?xt._closeSteps():Lt._state==="errored"?xt._errorSteps(Lt._storedError):Lt._readableStreamController[jt](xt)}function Or(ft){tr(ft);var xt=new TypeError("Reader was released");Wr(ft,xt)}function Wr(ft,xt){var Lt=ft._readRequests;ft._readRequests=new Ct,Lt.forEach(function(ir){ir._errorSteps(xt)})}function gn(ft){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(ft," can only be used on a ReadableStreamDefaultReader"))}var Ar,Nr,Jr;function wr(ft){return ft.slice()}function dr(ft,xt,Lt,ir,cr){new Uint8Array(ft).set(new Uint8Array(Lt,ir,cr),xt)}var fr=function(ft){return typeof ft.transfer=="function"?fr=function(xt){return xt.transfer()}:typeof structuredClone=="function"?fr=function(xt){return structuredClone(xt,{transfer:[xt]})}:fr=function(xt){return xt},fr(ft)},Rr=function(ft){return typeof ft.detached=="boolean"?Rr=function(xt){return xt.detached}:Rr=function(xt){return xt.byteLength===0},Rr(ft)};function Yr(ft,xt,Lt){if(ft.slice)return ft.slice(xt,Lt);var ir=Lt-xt,cr=new ArrayBuffer(ir);return dr(cr,0,ft,xt,ir),cr}function Qr(ft,xt){var Lt=ft[xt];if(Lt!=null){if(typeof Lt!="function")throw new TypeError("".concat(String(xt)," is not a function"));return Lt}}function Pr(ft){var xt,Lt=(xt={},xt[o.iterator]=function(){return ft.iterator},xt),ir=function(){return et(this,arguments,function(){return _(this,function(pr){switch(pr.label){case 0:return[5,$(rt(nt(Lt)))];case 1:return[4,j.apply(void 0,[pr.sent()])];case 2:return[4,j.apply(void 0,[pr.sent()])];case 3:return[2,pr.sent()]}})})}(),cr=ir.next;return{iterator:ir,nextMethod:cr,done:!1}}var br=(Jr=(Ar=o.asyncIterator)!==null&&Ar!==void 0?Ar:(Nr=o.for)===null||Nr===void 0?void 0:Nr.call(o,"Symbol.asyncIterator"))!==null&&Jr!==void 0?Jr:"@@asyncIterator";function Lr(ft,xt,Lt){if(xt===void 0&&(xt="sync"),Lt===void 0)if(xt==="async"){if(Lt=Qr(ft,br),Lt===void 0){var ir=Qr(ft,o.iterator),cr=Lr(ft,"sync",ir);return Pr(cr)}}else Lt=Qr(ft,o.iterator);if(Lt===void 0)throw new TypeError("The object is not iterable");var pr=Mt(Lt,ft,[]);if(!ot(pr))throw new TypeError("The iterator method must return an object");var kr=pr.next;return{iterator:pr,nextMethod:kr,done:!1}}function Hr(ft){var xt=Mt(ft.nextMethod,ft.iterator,[]);if(!ot(xt))throw new TypeError("The iterator.next() method must return an object");return xt}function nn(ft){return!!ft.done}function rn(ft){return ft.value}var sn,hn=(sn={},sn[br]=function(){return this},sn);Object.defineProperty(hn,br,{enumerable:!1});var en=function(){function ft(xt,Lt){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=xt,this._preventCancel=Lt}return ft.prototype.next=function(){var xt=this,Lt=function(){return xt._nextSteps()};return this._ongoingPromise=this._ongoingPromise?_t(this._ongoingPromise,Lt,Lt):Lt(),this._ongoingPromise},ft.prototype.return=function(xt){var Lt=this,ir=function(){return Lt._returnSteps(xt)};return this._ongoingPromise?_t(this._ongoingPromise,ir,ir):ir()},ft.prototype._nextSteps=function(){var xt=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Lt=this._reader,ir,cr,pr=pt(function(zr,Zr){ir=zr,cr=Zr}),kr={_chunkSteps:function(zr){xt._ongoingPromise=void 0,Pt(function(){return ir({value:zr,done:!1})})},_closeSteps:function(){xt._ongoingPromise=void 0,xt._isFinished=!0,tr(Lt),ir({value:void 0,done:!0})},_errorSteps:function(zr){xt._ongoingPromise=void 0,xt._isFinished=!0,tr(Lt),cr(zr)}};return hr(Lt,kr),pr},ft.prototype._returnSteps=function(xt){if(this._isFinished)return Promise.resolve({value:xt,done:!0});this._isFinished=!0;var Lt=this._reader;if(!this._preventCancel){var ir=Wt(Lt,xt);return tr(Lt),_t(ir,function(){return{value:xt,done:!0}})}return tr(Lt),ut({value:xt,done:!0})},ft}(),xn={next:function(){return vn(this)?this._asyncIteratorImpl.next():ht(Rn("next"))},return:function(ft){return vn(this)?this._asyncIteratorImpl.return(ft):ht(Rn("return"))}};Object.setPrototypeOf(xn,hn);function Bn(ft,xt){var Lt=_r(ft),ir=new en(Lt,xt),cr=Object.create(xn);return cr._asyncIteratorImpl=ir,cr}function vn(ft){if(!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_asyncIteratorImpl"))return!1;try{return ft._asyncIteratorImpl instanceof en}catch{return!1}}function Rn(ft){return new TypeError("ReadableStreamAsyncIterator.".concat(ft," can only be used on a ReadableSteamAsyncIterator"))}var Vn=Number.isNaN||function(ft){return ft!==ft};function Fn(ft){return!(typeof ft!="number"||Vn(ft)||ft<0)}function Yn(ft){var xt=Yr(ft.buffer,ft.byteOffset,ft.byteOffset+ft.byteLength);return new Uint8Array(xt)}function jn(ft){var xt=ft._queue.shift();return ft._queueTotalSize-=xt.size,ft._queueTotalSize<0&&(ft._queueTotalSize=0),xt.value}function rs(ft,xt,Lt){if(!Fn(Lt)||Lt===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");ft._queue.push({value:xt,size:Lt}),ft._queueTotalSize+=Lt}function Ms(ft){var xt=ft._queue.peek();return xt.value}function us(ft){ft._queue=new Ct,ft._queueTotalSize=0}function xa(ft){return ft===DataView}function lo(ft){return xa(ft.constructor)}function $a(ft){return xa(ft)?1:ft.BYTES_PER_ELEMENT}var cs=function(){function ft(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ft.prototype,"view",{get:function(){if(!uo(this))throw Jo("view");return this._view},enumerable:!1,configurable:!0}),ft.prototype.respond=function(xt){if(!uo(this))throw Jo("respond");if(Nt(xt,1,"respond"),xt=ar(xt,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Rr(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");eo(this._associatedReadableByteStreamController,xt)},ft.prototype.respondWithNewView=function(xt){if(!uo(this))throw Jo("respondWithNewView");if(Nt(xt,1,"respondWithNewView"),!ArrayBuffer.isView(xt))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Rr(xt.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Ls(this._associatedReadableByteStreamController,xt)},ft}();Object.defineProperties(cs.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),lt(cs.prototype.respond,"respond"),lt(cs.prototype.respondWithNewView,"respondWithNewView"),typeof o.toStringTag=="symbol"&&Object.defineProperty(cs.prototype,o.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var bs=function(){function ft(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ft.prototype,"byobRequest",{get:function(){if(!ks(this))throw po("byobRequest");return Qo(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"desiredSize",{get:function(){if(!ks(this))throw po("desiredSize");return Zo(this)},enumerable:!1,configurable:!0}),ft.prototype.close=function(){if(!ks(this))throw po("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var xt=this._controlledReadableByteStream._state;if(xt!=="readable")throw new TypeError("The stream (in ".concat(xt," state) is not in the readable state and cannot be closed"));ho(this)},ft.prototype.enqueue=function(xt){if(!ks(this))throw po("enqueue");if(Nt(xt,1,"enqueue"),!ArrayBuffer.isView(xt))throw new TypeError("chunk must be an array buffer view");if(xt.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(xt.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Lt=this._controlledReadableByteStream._state;if(Lt!=="readable")throw new TypeError("The stream (in ".concat(Lt," state) is not in the readable state and cannot be enqueued to"));Io(this,xt)},ft.prototype.error=function(xt){if(xt===void 0&&(xt=void 0),!ks(this))throw po("error");ns(this,xt)},ft.prototype[It]=function(xt){du(this),us(this);var Lt=this._cancelAlgorithm(xt);return fo(this),Lt},ft.prototype[jt]=function(xt){var Lt=this._controlledReadableByteStream;if(this._queueTotalSize>0){gu(this,xt);return}var ir=this._autoAllocateChunkSize;if(ir!==void 0){var cr=void 0;try{cr=new ArrayBuffer(ir)}catch(kr){xt._errorSteps(kr);return}var pr={buffer:cr,bufferByteLength:ir,byteOffset:0,byteLength:ir,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(pr)}Cr(Lt,xt),ms(this)},ft.prototype[$t]=function(){if(this._pendingPullIntos.length>0){var xt=this._pendingPullIntos.peek();xt.readerType="none",this._pendingPullIntos=new Ct,this._pendingPullIntos.push(xt)}},ft}();Object.defineProperties(bs.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),lt(bs.prototype.close,"close"),lt(bs.prototype.enqueue,"enqueue"),lt(bs.prototype.error,"error"),typeof o.toStringTag=="symbol"&&Object.defineProperty(bs.prototype,o.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ks(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_controlledReadableByteStream")?!1:ft instanceof bs}function uo(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_associatedReadableByteStreamController")?!1:ft instanceof cs}function ms(ft){var xt=Ro(ft);if(xt){if(ft._pulling){ft._pullAgain=!0;return}ft._pulling=!0;var Lt=ft._pullAlgorithm();dt(Lt,function(){return ft._pulling=!1,ft._pullAgain&&(ft._pullAgain=!1,ms(ft)),null},function(ir){return ns(ft,ir),null})}}function du(ft){Wl(ft),ft._pendingPullIntos=new Ct}function co(ft,xt){var Lt=!1;ft._state==="closed"&&(Lt=!0);var ir=Ll(xt);xt.readerType==="default"?Er(ft,ir,Lt):bu(ft,ir,Lt)}function Ll(ft){var xt=ft.bytesFilled,Lt=ft.elementSize;return new ft.viewConstructor(ft.buffer,ft.byteOffset,xt/Lt)}function Po(ft,xt,Lt,ir){ft._queue.push({buffer:xt,byteOffset:Lt,byteLength:ir}),ft._queueTotalSize+=ir}function Nl(ft,xt,Lt,ir){var cr;try{cr=Yr(xt,Lt,Lt+ir)}catch(pr){throw ns(ft,pr),pr}Po(ft,cr,0,ir)}function Bl(ft,xt){xt.bytesFilled>0&&Nl(ft,xt.buffer,xt.byteOffset,xt.bytesFilled),Ds(ft)}function zl(ft,xt){var Lt=Math.min(ft._queueTotalSize,xt.byteLength-xt.bytesFilled),ir=xt.bytesFilled+Lt,cr=Lt,pr=!1,kr=ir%xt.elementSize,zr=ir-kr;zr>=xt.minimumFill&&(cr=zr-xt.bytesFilled,pr=!0);for(var Zr=ft._queue;cr>0;){var Br=Zr.peek(),on=Math.min(cr,Br.byteLength),mn=xt.byteOffset+xt.bytesFilled;dr(xt.buffer,mn,Br.buffer,Br.byteOffset,on),Br.byteLength===on?Zr.shift():(Br.byteOffset+=on,Br.byteLength-=on),ft._queueTotalSize-=on,fu(ft,on,xt),cr-=on}return pr}function fu(ft,xt,Lt){Lt.bytesFilled+=xt}function hu(ft){ft._queueTotalSize===0&&ft._closeRequested?(fo(ft),wo(ft._controlledReadableByteStream)):ms(ft)}function Wl(ft){ft._byobRequest!==null&&(ft._byobRequest._associatedReadableByteStreamController=void 0,ft._byobRequest._view=null,ft._byobRequest=null)}function Xo(ft){for(;ft._pendingPullIntos.length>0;){if(ft._queueTotalSize===0)return;var xt=ft._pendingPullIntos.peek();zl(ft,xt)&&(Ds(ft),co(ft._controlledReadableByteStream,xt))}}function pu(ft){for(var xt=ft._controlledReadableByteStream._reader;xt._readRequests.length>0;){if(ft._queueTotalSize===0)return;var Lt=xt._readRequests.shift();gu(ft,Lt)}}function mu(ft,xt,Lt,ir){var cr=ft._controlledReadableByteStream,pr=xt.constructor,kr=$a(pr),zr=xt.byteOffset,Zr=xt.byteLength,Br=Lt*kr,on;try{on=fr(xt.buffer)}catch(Gn){ir._errorSteps(Gn);return}var mn={buffer:on,bufferByteLength:on.byteLength,byteOffset:zr,byteLength:Zr,bytesFilled:0,minimumFill:Br,elementSize:kr,viewConstructor:pr,readerType:"byob"};if(ft._pendingPullIntos.length>0){ft._pendingPullIntos.push(mn),Sl(cr,ir);return}if(cr._state==="closed"){var pn=new pr(mn.buffer,mn.byteOffset,0);ir._closeSteps(pn);return}if(ft._queueTotalSize>0){if(zl(ft,mn)){var Jn=Ll(mn);hu(ft),ir._chunkSteps(Jn);return}if(ft._closeRequested){var _s=new TypeError("Insufficient bytes to fill elements in the given buffer");ns(ft,_s),ir._errorSteps(_s);return}}ft._pendingPullIntos.push(mn),Sl(cr,ir),ms(ft)}function Ul(ft,xt){xt.readerType==="none"&&Ds(ft);var Lt=ft._controlledReadableByteStream;if(Oo(Lt))for(;Yl(Lt)>0;){var ir=Ds(ft);co(Lt,ir)}}function Gu(ft,xt,Lt){if(fu(ft,xt,Lt),Lt.readerType==="none"){Bl(ft,Lt),Xo(ft);return}if(!(Lt.bytesFilled<Lt.minimumFill)){Ds(ft);var ir=Lt.bytesFilled%Lt.elementSize;if(ir>0){var cr=Lt.byteOffset+Lt.bytesFilled;Nl(ft,Lt.buffer,cr-ir,ir)}Lt.bytesFilled-=ir,co(ft._controlledReadableByteStream,Lt),Xo(ft)}}function Vl(ft,xt){var Lt=ft._pendingPullIntos.peek();Wl(ft);var ir=ft._controlledReadableByteStream._state;ir==="closed"?Ul(ft,Lt):Gu(ft,xt,Lt),ms(ft)}function Ds(ft){var xt=ft._pendingPullIntos.shift();return xt}function Ro(ft){var xt=ft._controlledReadableByteStream;if(xt._state!=="readable"||ft._closeRequested||!ft._started)return!1;if(Ur(xt)&&qr(xt)>0||Oo(xt)&&Yl(xt)>0)return!0;var Lt=Zo(ft);return Lt>0}function fo(ft){ft._pullAlgorithm=void 0,ft._cancelAlgorithm=void 0}function ho(ft){var xt=ft._controlledReadableByteStream;if(!(ft._closeRequested||xt._state!=="readable")){if(ft._queueTotalSize>0){ft._closeRequested=!0;return}if(ft._pendingPullIntos.length>0){var Lt=ft._pendingPullIntos.peek();if(Lt.bytesFilled%Lt.elementSize!==0){var ir=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ns(ft,ir),ir}}fo(ft),wo(xt)}}function Io(ft,xt){var Lt=ft._controlledReadableByteStream;if(!(ft._closeRequested||Lt._state!=="readable")){var ir=xt.buffer,cr=xt.byteOffset,pr=xt.byteLength;if(Rr(ir))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var kr=fr(ir);if(ft._pendingPullIntos.length>0){var zr=ft._pendingPullIntos.peek();if(Rr(zr.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Wl(ft),zr.buffer=fr(zr.buffer),zr.readerType==="none"&&Bl(ft,zr)}if(Ur(Lt))if(pu(ft),qr(Lt)===0)Po(ft,kr,cr,pr);else{ft._pendingPullIntos.length>0&&Ds(ft);var Zr=new Uint8Array(kr,cr,pr);Er(Lt,Zr,!1)}else Oo(Lt)?(Po(ft,kr,cr,pr),Xo(ft)):Po(ft,kr,cr,pr);ms(ft)}}function ns(ft,xt){var Lt=ft._controlledReadableByteStream;Lt._state==="readable"&&(du(ft),us(ft),fo(ft),Fu(Lt,xt))}function gu(ft,xt){var Lt=ft._queue.shift();ft._queueTotalSize-=Lt.byteLength,hu(ft);var ir=new Uint8Array(Lt.buffer,Lt.byteOffset,Lt.byteLength);xt._chunkSteps(ir)}function Qo(ft){if(ft._byobRequest===null&&ft._pendingPullIntos.length>0){var xt=ft._pendingPullIntos.peek(),Lt=new Uint8Array(xt.buffer,xt.byteOffset+xt.bytesFilled,xt.byteLength-xt.bytesFilled),ir=Object.create(cs.prototype);Gl(ir,ft,Lt),ft._byobRequest=ir}return ft._byobRequest}function Zo(ft){var xt=ft._controlledReadableByteStream._state;return xt==="errored"?null:xt==="closed"?0:ft._strategyHWM-ft._queueTotalSize}function eo(ft,xt){var Lt=ft._pendingPullIntos.peek(),ir=ft._controlledReadableByteStream._state;if(ir==="closed"){if(xt!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(xt===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Lt.bytesFilled+xt>Lt.byteLength)throw new RangeError("bytesWritten out of range")}Lt.buffer=fr(Lt.buffer),Vl(ft,xt)}function Ls(ft,xt){var Lt=ft._pendingPullIntos.peek(),ir=ft._controlledReadableByteStream._state;if(ir==="closed"){if(xt.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(xt.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Lt.byteOffset+Lt.bytesFilled!==xt.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Lt.bufferByteLength!==xt.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Lt.bytesFilled+xt.byteLength>Lt.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var cr=xt.byteLength;Lt.buffer=fr(xt.buffer),Vl(ft,cr)}function Hl(ft,xt,Lt,ir,cr,pr,kr){xt._controlledReadableByteStream=ft,xt._pullAgain=!1,xt._pulling=!1,xt._byobRequest=null,xt._queue=xt._queueTotalSize=void 0,us(xt),xt._closeRequested=!1,xt._started=!1,xt._strategyHWM=pr,xt._pullAlgorithm=ir,xt._cancelAlgorithm=cr,xt._autoAllocateChunkSize=kr,xt._pendingPullIntos=new Ct,ft._readableStreamController=xt;var zr=Lt();dt(ut(zr),function(){return xt._started=!0,ms(xt),null},function(Zr){return ns(xt,Zr),null})}function vu(ft,xt,Lt){var ir=Object.create(bs.prototype),cr,pr,kr;xt.start!==void 0?cr=function(){return xt.start(ir)}:cr=function(){},xt.pull!==void 0?pr=function(){return xt.pull(ir)}:pr=function(){return ut(void 0)},xt.cancel!==void 0?kr=function(Zr){return xt.cancel(Zr)}:kr=function(){return ut(void 0)};var zr=xt.autoAllocateChunkSize;if(zr===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hl(ft,ir,cr,pr,kr,Lt,zr)}function Gl(ft,xt,Lt){ft._associatedReadableByteStreamController=xt,ft._view=Lt}function Jo(ft){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(ft," can only be used on a ReadableStreamBYOBRequest"))}function po(ft){return new TypeError("ReadableByteStreamController.prototype.".concat(ft," can only be used on a ReadableByteStreamController"))}function yu(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.mode;return{mode:Lt===void 0?void 0:$o(Lt,"".concat(xt," has member 'mode' that"))}}function $o(ft,xt){if(ft="".concat(ft),ft!=="byob")throw new TypeError("".concat(xt," '").concat(ft,"' is not a valid enumeration value for ReadableStreamReaderMode"));return ft}function Kl(ft,xt){var Lt;Xt(ft,xt);var ir=(Lt=ft==null?void 0:ft.min)!==null&&Lt!==void 0?Lt:1;return{min:ar(ir,"".concat(xt," has member 'min' that"))}}function yl(ft){return new js(ft)}function Sl(ft,xt){ft._reader._readIntoRequests.push(xt)}function bu(ft,xt,Lt){var ir=ft._reader,cr=ir._readIntoRequests.shift();Lt?cr._closeSteps(xt):cr._chunkSteps(xt)}function Yl(ft){return ft._reader._readIntoRequests.length}function Oo(ft){var xt=ft._reader;return!(xt===void 0||!ds(xt))}var js=function(){function ft(xt){if(Nt(xt,1,"ReadableStreamBYOBReader"),vr(xt,"First parameter"),_o(xt))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ks(xt._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Jt(this,xt),this._readIntoRequests=new Ct}return Object.defineProperty(ft.prototype,"closed",{get:function(){return ds(this)?this._closedPromise:ht(xl("closed"))},enumerable:!1,configurable:!0}),ft.prototype.cancel=function(xt){return xt===void 0&&(xt=void 0),ds(this)?this._ownerReadableStream===void 0?ht(mr("cancel")):Wt(this,xt):ht(xl("cancel"))},ft.prototype.read=function(xt,Lt){if(Lt===void 0&&(Lt={}),!ds(this))return ht(xl("read"));if(!ArrayBuffer.isView(xt))return ht(new TypeError("view must be an array buffer view"));if(xt.byteLength===0)return ht(new TypeError("view must have non-zero byteLength"));if(xt.buffer.byteLength===0)return ht(new TypeError("view's buffer must have non-zero byteLength"));if(Rr(xt.buffer))return ht(new TypeError("view's buffer has been detached"));var ir;try{ir=Kl(Lt,"options")}catch(Br){return ht(Br)}var cr=ir.min;if(cr===0)return ht(new TypeError("options.min must be greater than 0"));if(lo(xt)){if(cr>xt.byteLength)return ht(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(cr>xt.length)return ht(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return ht(mr("read from"));var pr,kr,zr=pt(function(Br,on){pr=Br,kr=on}),Zr={_chunkSteps:function(Br){return pr({value:Br,done:!1})},_closeSteps:function(Br){return pr({value:Br,done:!0})},_errorSteps:function(Br){return kr(Br)}};return Ks(this,xt,cr,Zr),zr},ft.prototype.releaseLock=function(){if(!ds(this))throw xl("releaseLock");this._ownerReadableStream!==void 0&&qu(this)},ft}();Object.defineProperties(js.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),lt(js.prototype.cancel,"cancel"),lt(js.prototype.read,"read"),lt(js.prototype.releaseLock,"releaseLock"),typeof o.toStringTag=="symbol"&&Object.defineProperty(js.prototype,o.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ds(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_readIntoRequests")?!1:ft instanceof js}function Ks(ft,xt,Lt,ir){var cr=ft._ownerReadableStream;cr._disturbed=!0,cr._state==="errored"?ir._errorSteps(cr._storedError):mu(cr._readableStreamController,xt,Lt,ir)}function qu(ft){tr(ft);var xt=new TypeError("Reader was released");Xl(ft,xt)}function Xl(ft,xt){var Lt=ft._readIntoRequests;ft._readIntoRequests=new Ct,Lt.forEach(function(ir){ir._errorSteps(xt)})}function xl(ft){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(ft," can only be used on a ReadableStreamBYOBReader"))}function mo(ft,xt){var Lt=ft.highWaterMark;if(Lt===void 0)return xt;if(Vn(Lt)||Lt<0)throw new RangeError("Invalid highWaterMark");return Lt}function _l(ft){var xt=ft.size;return xt||function(){return 1}}function In(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.highWaterMark,ir=ft==null?void 0:ft.size;return{highWaterMark:Lt===void 0?void 0:Qt(Lt),size:ir===void 0?void 0:Mn(ir,"".concat(xt," has member 'size' that"))}}function Mn(ft,xt){return wt(ft,xt),function(Lt){return Qt(ft(Lt))}}function Ku(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.abort,ir=ft==null?void 0:ft.close,cr=ft==null?void 0:ft.start,pr=ft==null?void 0:ft.type,kr=ft==null?void 0:ft.write;return{abort:Lt===void 0?void 0:or(Lt,ft,"".concat(xt," has member 'abort' that")),close:ir===void 0?void 0:yr(ir,ft,"".concat(xt," has member 'close' that")),start:cr===void 0?void 0:Ir(cr,ft,"".concat(xt," has member 'start' that")),write:kr===void 0?void 0:Xr(kr,ft,"".concat(xt," has member 'write' that")),type:pr}}function or(ft,xt,Lt){return wt(ft,Lt),function(ir){return Rt(ft,xt,[ir])}}function yr(ft,xt,Lt){return wt(ft,Lt),function(){return Rt(ft,xt,[])}}function Ir(ft,xt,Lt){return wt(ft,Lt),function(ir){return Mt(ft,xt,[ir])}}function Xr(ft,xt,Lt){return wt(ft,Lt),function(ir,cr){return Rt(ft,xt,[ir,cr])}}function _n(ft,xt){if(!qn(ft))throw new TypeError("".concat(xt," is not a WritableStream."))}function $n(ft){if(typeof ft!="object"||ft===null)return!1;try{return typeof ft.aborted=="boolean"}catch{return!1}}var Nn=typeof AbortController=="function";function an(){if(Nn)return new AbortController}var Cn=function(){function ft(xt,Lt){xt===void 0&&(xt={}),Lt===void 0&&(Lt={}),xt===void 0?xt=null:qt(xt,"First parameter");var ir=In(Lt,"Second parameter"),cr=Ku(xt,"First parameter");Ys(this);var pr=cr.type;if(pr!==void 0)throw new RangeError("Invalid type is specified");var kr=_l(ir),zr=mo(ir,1);bm(this,cr,zr,kr)}return Object.defineProperty(ft.prototype,"locked",{get:function(){if(!qn(this))throw wu("locked");return Ns(this)},enumerable:!1,configurable:!0}),ft.prototype.abort=function(xt){return xt===void 0&&(xt=void 0),qn(this)?Ns(this)?ht(new TypeError("Cannot abort a stream that already has a writer")):go(this,xt):ht(wu("abort"))},ft.prototype.close=function(){return qn(this)?Ns(this)?ht(new TypeError("Cannot close a stream that already has a writer")):is(this)?ht(new TypeError("Cannot close an already-closing stream")):Yu(this):ht(wu("close"))},ft.prototype.getWriter=function(){if(!qn(this))throw wu("getWriter");return Xn(this)},ft}();Object.defineProperties(Cn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),lt(Cn.prototype.abort,"abort"),lt(Cn.prototype.close,"close"),lt(Cn.prototype.getWriter,"getWriter"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Cn.prototype,o.toStringTag,{value:"WritableStream",configurable:!0});function Xn(ft){return new to(ft)}function os(ft,xt,Lt,ir,cr,pr){cr===void 0&&(cr=1),pr===void 0&&(pr=function(){return 1});var kr=Object.create(Cn.prototype);Ys(kr);var zr=Object.create(vo.prototype);return Ju(kr,zr,ft,xt,Lt,ir,cr,pr),kr}function Ys(ft){ft._state="writable",ft._storedError=void 0,ft._writer=void 0,ft._writableStreamController=void 0,ft._writeRequests=new Ct,ft._inFlightWriteRequest=void 0,ft._closeRequest=void 0,ft._inFlightCloseRequest=void 0,ft._pendingAbortRequest=void 0,ft._backpressure=!1}function qn(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_writableStreamController")?!1:ft instanceof Cn}function Ns(ft){return ft._writer!==void 0}function go(ft,xt){var Lt;if(ft._state==="closed"||ft._state==="errored")return ut(void 0);ft._writableStreamController._abortReason=xt,(Lt=ft._writableStreamController._abortController)===null||Lt===void 0||Lt.abort(xt);var ir=ft._state;if(ir==="closed"||ir==="errored")return ut(void 0);if(ft._pendingAbortRequest!==void 0)return ft._pendingAbortRequest._promise;var cr=!1;ir==="erroring"&&(cr=!0,xt=void 0);var pr=pt(function(kr,zr){ft._pendingAbortRequest={_promise:void 0,_resolve:kr,_reject:zr,_reason:xt,_wasAlreadyErroring:cr}});return ft._pendingAbortRequest._promise=pr,cr||xu(ft,xt),pr}function Yu(ft){var xt=ft._state;if(xt==="closed"||xt==="errored")return ht(new TypeError("The stream (in ".concat(xt," state) is not in the writable state and cannot be closed")));var Lt=pt(function(cr,pr){var kr={_resolve:cr,_reject:pr};ft._closeRequest=kr}),ir=ft._writer;return ir!==void 0&&ft._backpressure&&xt==="writable"&&ap(ir),ep(ft._writableStreamController),Lt}function kp(ft){var xt=pt(function(Lt,ir){var cr={_resolve:Lt,_reject:ir};ft._writeRequests.push(cr)});return xt}function Su(ft,xt){var Lt=ft._state;if(Lt==="writable"){xu(ft,xt);return}fs(ft)}function xu(ft,xt){var Lt=ft._writableStreamController;ft._state="erroring",ft._storedError=xt;var ir=ft._writer;ir!==void 0&&Zl(ir,xt),!_u(ft)&&Lt._started&&fs(ft)}function fs(ft){ft._state="errored",ft._writableStreamController[Gt]();var xt=ft._storedError;if(ft._writeRequests.forEach(function(cr){cr._reject(xt)}),ft._writeRequests=new Ct,ft._pendingAbortRequest===void 0){Bs(ft);return}var Lt=ft._pendingAbortRequest;if(ft._pendingAbortRequest=void 0,Lt._wasAlreadyErroring){Lt._reject(xt),Bs(ft);return}var ir=ft._writableStreamController[Kt](Lt._reason);dt(ir,function(){return Lt._resolve(),Bs(ft),null},function(cr){return Lt._reject(cr),Bs(ft),null})}function mm(ft){ft._inFlightWriteRequest._resolve(void 0),ft._inFlightWriteRequest=void 0}function Ts(ft,xt){ft._inFlightWriteRequest._reject(xt),ft._inFlightWriteRequest=void 0,Su(ft,xt)}function gm(ft){ft._inFlightCloseRequest._resolve(void 0),ft._inFlightCloseRequest=void 0;var xt=ft._state;xt==="erroring"&&(ft._storedError=void 0,ft._pendingAbortRequest!==void 0&&(ft._pendingAbortRequest._resolve(),ft._pendingAbortRequest=void 0)),ft._state="closed";var Lt=ft._writer;Lt!==void 0&&eu(Lt)}function Tp(ft,xt){ft._inFlightCloseRequest._reject(xt),ft._inFlightCloseRequest=void 0,ft._pendingAbortRequest!==void 0&&(ft._pendingAbortRequest._reject(xt),ft._pendingAbortRequest=void 0),Su(ft,xt)}function is(ft){return!(ft._closeRequest===void 0&&ft._inFlightCloseRequest===void 0)}function _u(ft){return!(ft._inFlightWriteRequest===void 0&&ft._inFlightCloseRequest===void 0)}function Xu(ft){ft._inFlightCloseRequest=ft._closeRequest,ft._closeRequest=void 0}function zn(ft){ft._inFlightWriteRequest=ft._writeRequests.shift()}function Bs(ft){ft._closeRequest!==void 0&&(ft._closeRequest._reject(ft._storedError),ft._closeRequest=void 0);var xt=ft._writer;xt!==void 0&&Cu(xt,ft._storedError)}function Ql(ft,xt){var Lt=ft._writer;Lt!==void 0&&xt!==ft._backpressure&&(xt?zs(Lt):ap(Lt)),ft._backpressure=xt}var to=function(){function ft(xt){if(Nt(xt,1,"WritableStreamDefaultWriter"),_n(xt,"First parameter"),Ns(xt))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=xt,xt._writer=this;var Lt=xt._state;if(Lt==="writable")!is(xt)&&xt._backpressure?Au(this):Dp(this),Eu(this);else if(Lt==="erroring")sp(this,xt._storedError),Eu(this);else if(Lt==="closed")Dp(this),ip(this);else{var ir=xt._storedError;sp(this,ir),Mp(this,ir)}}return Object.defineProperty(ft.prototype,"closed",{get:function(){return ro(this)?this._closedPromise:ht(Fo("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"desiredSize",{get:function(){if(!ro(this))throw Fo("desiredSize");if(this._ownerWritableStream===void 0)throw Xs("desiredSize");return El(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"ready",{get:function(){return ro(this)?this._readyPromise:ht(Fo("ready"))},enumerable:!1,configurable:!0}),ft.prototype.abort=function(xt){return xt===void 0&&(xt=void 0),ro(this)?this._ownerWritableStream===void 0?ht(Xs("abort")):vm(this,xt):ht(Fo("abort"))},ft.prototype.close=function(){if(!ro(this))return ht(Fo("close"));var xt=this._ownerWritableStream;return xt===void 0?ht(Xs("close")):is(xt)?ht(new TypeError("Cannot close an already-closing stream")):Pp(this)},ft.prototype.releaseLock=function(){if(!ro(this))throw Fo("releaseLock");var xt=this._ownerWritableStream;xt!==void 0&&Ip(this)},ft.prototype.write=function(xt){return xt===void 0&&(xt=void 0),ro(this)?this._ownerWritableStream===void 0?ht(Xs("write to")):Qu(this,xt):ht(Fo("write"))},ft}();Object.defineProperties(to.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),lt(to.prototype.abort,"abort"),lt(to.prototype.close,"close"),lt(to.prototype.releaseLock,"releaseLock"),lt(to.prototype.write,"write"),typeof o.toStringTag=="symbol"&&Object.defineProperty(to.prototype,o.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function ro(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_ownerWritableStream")?!1:ft instanceof to}function vm(ft,xt){var Lt=ft._ownerWritableStream;return go(Lt,xt)}function Pp(ft){var xt=ft._ownerWritableStream;return Yu(xt)}function ym(ft){var xt=ft._ownerWritableStream,Lt=xt._state;return is(xt)||Lt==="closed"?ut(void 0):Lt==="errored"?ht(xt._storedError):Pp(ft)}function Rp(ft,xt){ft._closedPromiseState==="pending"?Cu(ft,xt):yo(ft,xt)}function Zl(ft,xt){ft._readyPromiseState==="pending"?Mo(ft,xt):Lp(ft,xt)}function El(ft){var xt=ft._ownerWritableStream,Lt=xt._state;return Lt==="errored"||Lt==="erroring"?null:Lt==="closed"?0:tp(xt._writableStreamController)}function Ip(ft){var xt=ft._ownerWritableStream,Lt=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Zl(ft,Lt),Rp(ft,Lt),xt._writer=void 0,ft._ownerWritableStream=void 0}function Qu(ft,xt){var Lt=ft._ownerWritableStream,ir=Lt._writableStreamController,cr=Sm(ir,xt);if(Lt!==ft._ownerWritableStream)return ht(Xs("write to"));var pr=Lt._state;if(pr==="errored")return ht(Lt._storedError);if(is(Lt)||pr==="closed")return ht(new TypeError("The stream is closing or closed and cannot be written to"));if(pr==="erroring")return ht(Lt._storedError);var kr=kp(Lt);return Ss(ir,xt,cr),kr}var Zu={},vo=function(){function ft(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ft.prototype,"abortReason",{get:function(){if(!Jl(this))throw np("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"signal",{get:function(){if(!Jl(this))throw np("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),ft.prototype.error=function(xt){if(xt===void 0&&(xt=void 0),!Jl(this))throw np("error");var Lt=this._controlledWritableStream._state;Lt==="writable"&&Fp(this,xt)},ft.prototype[Kt]=function(xt){var Lt=this._abortAlgorithm(xt);return Cl(this),Lt},ft.prototype[Gt]=function(){us(this)},ft}();Object.defineProperties(vo.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(vo.prototype,o.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Jl(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_controlledWritableStream")?!1:ft instanceof vo}function Ju(ft,xt,Lt,ir,cr,pr,kr,zr){xt._controlledWritableStream=ft,ft._writableStreamController=xt,xt._queue=void 0,xt._queueTotalSize=void 0,us(xt),xt._abortReason=void 0,xt._abortController=an(),xt._started=!1,xt._strategySizeAlgorithm=zr,xt._strategyHWM=kr,xt._writeAlgorithm=ir,xt._closeAlgorithm=cr,xt._abortAlgorithm=pr;var Zr=rp(xt);Ql(ft,Zr);var Br=Lt(),on=ut(Br);dt(on,function(){return xt._started=!0,Al(xt),null},function(mn){return xt._started=!0,Su(ft,mn),null})}function bm(ft,xt,Lt,ir){var cr=Object.create(vo.prototype),pr,kr,zr,Zr;xt.start!==void 0?pr=function(){return xt.start(cr)}:pr=function(){},xt.write!==void 0?kr=function(Br){return xt.write(Br,cr)}:kr=function(){return ut(void 0)},xt.close!==void 0?zr=function(){return xt.close()}:zr=function(){return ut(void 0)},xt.abort!==void 0?Zr=function(Br){return xt.abort(Br)}:Zr=function(){return ut(void 0)},Ju(ft,cr,pr,kr,zr,Zr,Lt,ir)}function Cl(ft){ft._writeAlgorithm=void 0,ft._closeAlgorithm=void 0,ft._abortAlgorithm=void 0,ft._strategySizeAlgorithm=void 0}function ep(ft){rs(ft,Zu,0),Al(ft)}function Sm(ft,xt){try{return ft._strategySizeAlgorithm(xt)}catch(Lt){return no(ft,Lt),1}}function tp(ft){return ft._strategyHWM-ft._queueTotalSize}function Ss(ft,xt,Lt){try{rs(ft,xt,Lt)}catch(pr){no(ft,pr);return}var ir=ft._controlledWritableStream;if(!is(ir)&&ir._state==="writable"){var cr=rp(ft);Ql(ir,cr)}Al(ft)}function Al(ft){var xt=ft._controlledWritableStream;if(ft._started&&xt._inFlightWriteRequest===void 0){var Lt=xt._state;if(Lt==="erroring"){fs(xt);return}if(ft._queue.length!==0){var ir=Ms(ft);ir===Zu?$p(ft):Op(ft,ir)}}}function no(ft,xt){ft._controlledWritableStream._state==="writable"&&Fp(ft,xt)}function $p(ft){var xt=ft._controlledWritableStream;Xu(xt),jn(ft);var Lt=ft._closeAlgorithm();Cl(ft),dt(Lt,function(){return gm(xt),null},function(ir){return Tp(xt,ir),null})}function Op(ft,xt){var Lt=ft._controlledWritableStream;zn(Lt);var ir=ft._writeAlgorithm(xt);dt(ir,function(){mm(Lt);var cr=Lt._state;if(jn(ft),!is(Lt)&&cr==="writable"){var pr=rp(ft);Ql(Lt,pr)}return Al(ft),null},function(cr){return Lt._state==="writable"&&Cl(ft),Ts(Lt,cr),null})}function rp(ft){var xt=tp(ft);return xt<=0}function Fp(ft,xt){var Lt=ft._controlledWritableStream;Cl(ft),xu(Lt,xt)}function wu(ft){return new TypeError("WritableStream.prototype.".concat(ft," can only be used on a WritableStream"))}function np(ft){return new TypeError("WritableStreamDefaultController.prototype.".concat(ft," can only be used on a WritableStreamDefaultController"))}function Fo(ft){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(ft," can only be used on a WritableStreamDefaultWriter"))}function Xs(ft){return new TypeError("Cannot "+ft+" a stream using a released writer")}function Eu(ft){ft._closedPromise=pt(function(xt,Lt){ft._closedPromise_resolve=xt,ft._closedPromise_reject=Lt,ft._closedPromiseState="pending"})}function Mp(ft,xt){Eu(ft),Cu(ft,xt)}function ip(ft){Eu(ft),eu(ft)}function Cu(ft,xt){ft._closedPromise_reject!==void 0&&(Et(ft._closedPromise),ft._closedPromise_reject(xt),ft._closedPromise_resolve=void 0,ft._closedPromise_reject=void 0,ft._closedPromiseState="rejected")}function yo(ft,xt){Mp(ft,xt)}function eu(ft){ft._closedPromise_resolve!==void 0&&(ft._closedPromise_resolve(void 0),ft._closedPromise_resolve=void 0,ft._closedPromise_reject=void 0,ft._closedPromiseState="resolved")}function Au(ft){ft._readyPromise=pt(function(xt,Lt){ft._readyPromise_resolve=xt,ft._readyPromise_reject=Lt}),ft._readyPromiseState="pending"}function sp(ft,xt){Au(ft),Mo(ft,xt)}function Dp(ft){Au(ft),ap(ft)}function Mo(ft,xt){ft._readyPromise_reject!==void 0&&(Et(ft._readyPromise),ft._readyPromise_reject(xt),ft._readyPromise_resolve=void 0,ft._readyPromise_reject=void 0,ft._readyPromiseState="rejected")}function zs(ft){Au(ft)}function Lp(ft,xt){sp(ft,xt)}function ap(ft){ft._readyPromise_resolve!==void 0&&(ft._readyPromise_resolve(void 0),ft._readyPromise_resolve=void 0,ft._readyPromise_reject=void 0,ft._readyPromiseState="fulfilled")}function xm(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal<"u")return commonjsGlobal}var op=xm();function _m(ft){if(!(typeof ft=="function"||typeof ft=="object")||ft.name!=="DOMException")return!1;try{return new ft,!0}catch{return!1}}function wm(){var ft=op==null?void 0:op.DOMException;return _m(ft)?ft:void 0}function Tl(){var ft=function(Lt,ir){this.message=Lt||"",this.name=ir||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return lt(ft,"DOMException"),ft.prototype=Object.create(Error.prototype),Object.defineProperty(ft.prototype,"constructor",{value:ft,writable:!0,configurable:!0}),ft}var Sr=wm()||Tl();function $r(ft,xt,Lt,ir,cr,pr){var kr=_r(ft),zr=Xn(xt);ft._disturbed=!0;var Zr=!1,Br=ut(void 0);return pt(function(on,mn){var pn;if(pr!==void 0){if(pn=function(){var ln=pr.reason!==void 0?pr.reason:new Sr("Aborted","AbortError"),On=[];ir||On.push(function(){return xt._state==="writable"?go(xt,ln):ut(void 0)}),cr||On.push(function(){return ft._state==="readable"?vs(ft,ln):ut(void 0)}),ws(function(){return Promise.all(On.map(function(Un){return Un()}))},!0,ln)},pr.aborted){pn();return}pr.addEventListener("abort",pn)}function Jn(){return pt(function(ln,On){function Un(Ps){Ps?ln():mt(_s(),Un,On)}Un(!1)})}function _s(){return Zr?ut(!0):mt(zr._readyPromise,function(){return pt(function(ln,On){hr(kr,{_chunkSteps:function(Un){Br=mt(Qu(zr,Un),void 0,it),ln(!1)},_closeSteps:function(){return ln(!0)},_errorSteps:On})})})}if(as(ft,kr._closedPromise,function(ln){return ir?io(!0,ln):ws(function(){return go(xt,ln)},!0,ln),null}),as(xt,zr._closedPromise,function(ln){return cr?io(!0,ln):ws(function(){return vs(ft,ln)},!0,ln),null}),Zs(ft,kr._closedPromise,function(){return Lt?io():ws(function(){return ym(zr)}),null}),is(xt)||xt._state==="closed"){var Gn=new TypeError("the destination writable stream closed before all data could be piped to it");cr?io(!0,Gn):ws(function(){return vs(ft,Gn)},!0,Gn)}Et(Jn());function Qs(){var ln=Br;return mt(Br,function(){return ln!==Br?Qs():void 0})}function as(ln,On,Un){ln._state==="errored"?Un(ln._storedError):St(On,Un)}function Zs(ln,On,Un){ln._state==="closed"?Un():vt(On,Un)}function ws(ln,On,Un){if(Zr)return;Zr=!0,xt._state==="writable"&&!is(xt)?vt(Qs(),Ps):Ps();function Ps(){return dt(ln(),function(){return Wn(On,Un)},function(Rs){return Wn(!0,Rs)}),null}}function io(ln,On){Zr||(Zr=!0,xt._state==="writable"&&!is(xt)?vt(Qs(),function(){return Wn(ln,On)}):Wn(ln,On))}function Wn(ln,On){return Ip(zr),tr(kr),pr!==void 0&&pr.removeEventListener("abort",pn),ln?mn(On):on(void 0),null}})}var Tr=function(){function ft(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ft.prototype,"desiredSize",{get:function(){if(!Kr(this))throw Lo("desiredSize");return gs(this)},enumerable:!1,configurable:!0}),ft.prototype.close=function(){if(!Kr(this))throw Lo("close");if(!Pl(this))throw new TypeError("The stream is not in a state that permits close");kn(this)},ft.prototype.enqueue=function(xt){if(xt===void 0&&(xt=void 0),!Kr(this))throw Lo("enqueue");if(!Pl(this))throw new TypeError("The stream is not in a state that permits enqueue");return bo(this,xt)},ft.prototype.error=function(xt){if(xt===void 0&&(xt=void 0),!Kr(this))throw Lo("error");Ws(this,xt)},ft.prototype[It]=function(xt){us(this);var Lt=this._cancelAlgorithm(xt);return Hn(this),Lt},ft.prototype[jt]=function(xt){var Lt=this._controlledReadableStream;if(this._queue.length>0){var ir=jn(this);this._closeRequested&&this._queue.length===0?(Hn(this),wo(Lt)):cn(this),xt._chunkSteps(ir)}else Cr(Lt,xt),cn(this)},ft.prototype[$t]=function(){},ft}();Object.defineProperties(Tr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),lt(Tr.prototype.close,"close"),lt(Tr.prototype.enqueue,"enqueue"),lt(Tr.prototype.error,"error"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,o.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Kr(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_controlledReadableStream")?!1:ft instanceof Tr}function cn(ft){var xt=Pn(ft);if(xt){if(ft._pulling){ft._pullAgain=!0;return}ft._pulling=!0;var Lt=ft._pullAlgorithm();dt(Lt,function(){return ft._pulling=!1,ft._pullAgain&&(ft._pullAgain=!1,cn(ft)),null},function(ir){return Ws(ft,ir),null})}}function Pn(ft){var xt=ft._controlledReadableStream;if(!Pl(ft)||!ft._started)return!1;if(_o(xt)&&qr(xt)>0)return!0;var Lt=gs(ft);return Lt>0}function Hn(ft){ft._pullAlgorithm=void 0,ft._cancelAlgorithm=void 0,ft._strategySizeAlgorithm=void 0}function kn(ft){if(Pl(ft)){var xt=ft._controlledReadableStream;ft._closeRequested=!0,ft._queue.length===0&&(Hn(ft),wo(xt))}}function bo(ft,xt){if(Pl(ft)){var Lt=ft._controlledReadableStream;if(_o(Lt)&&qr(Lt)>0)Er(Lt,xt,!1);else{var ir=void 0;try{ir=ft._strategySizeAlgorithm(xt)}catch(cr){throw Ws(ft,cr),cr}try{rs(ft,xt,ir)}catch(cr){throw Ws(ft,cr),cr}}cn(ft)}}function Ws(ft,xt){var Lt=ft._controlledReadableStream;Lt._state==="readable"&&(us(ft),Hn(ft),Fu(Lt,xt))}function gs(ft){var xt=ft._controlledReadableStream._state;return xt==="errored"?null:xt==="closed"?0:ft._strategyHWM-ft._queueTotalSize}function ku(ft){return!Pn(ft)}function Pl(ft){var xt=ft._controlledReadableStream._state;return!ft._closeRequested&&xt==="readable"}function Do(ft,xt,Lt,ir,cr,pr,kr){xt._controlledReadableStream=ft,xt._queue=void 0,xt._queueTotalSize=void 0,us(xt),xt._started=!1,xt._closeRequested=!1,xt._pullAgain=!1,xt._pulling=!1,xt._strategySizeAlgorithm=kr,xt._strategyHWM=pr,xt._pullAlgorithm=ir,xt._cancelAlgorithm=cr,ft._readableStreamController=xt;var zr=Lt();dt(ut(zr),function(){return xt._started=!0,cn(xt),null},function(Zr){return Ws(xt,Zr),null})}function Tu(ft,xt,Lt,ir){var cr=Object.create(Tr.prototype),pr,kr,zr;xt.start!==void 0?pr=function(){return xt.start(cr)}:pr=function(){},xt.pull!==void 0?kr=function(){return xt.pull(cr)}:kr=function(){return ut(void 0)},xt.cancel!==void 0?zr=function(Zr){return xt.cancel(Zr)}:zr=function(){return ut(void 0)},Do(ft,cr,pr,kr,zr,Lt,ir)}function Lo(ft){return new TypeError("ReadableStreamDefaultController.prototype.".concat(ft," can only be used on a ReadableStreamDefaultController"))}function Dn(ft,xt){return ks(ft._readableStreamController)?jp(ft):Em(ft)}function Em(ft,xt){var Lt=_r(ft),ir=!1,cr=!1,pr=!1,kr=!1,zr,Zr,Br,on,mn,pn=pt(function(as){mn=as});function Jn(){if(ir)return cr=!0,ut(void 0);ir=!0;var as={_chunkSteps:function(Zs){Pt(function(){cr=!1;var ws=Zs,io=Zs;pr||bo(Br._readableStreamController,ws),kr||bo(on._readableStreamController,io),ir=!1,cr&&Jn()})},_closeSteps:function(){ir=!1,pr||kn(Br._readableStreamController),kr||kn(on._readableStreamController),(!pr||!kr)&&mn(void 0)},_errorSteps:function(){ir=!1}};return hr(Lt,as),ut(void 0)}function _s(as){if(pr=!0,zr=as,kr){var Zs=wr([zr,Zr]),ws=vs(ft,Zs);mn(ws)}return pn}function Gn(as){if(kr=!0,Zr=as,pr){var Zs=wr([zr,Zr]),ws=vs(ft,Zs);mn(ws)}return pn}function Qs(){}return Br=Us(Qs,Jn,_s),on=Us(Qs,Jn,Gn),St(Lt._closedPromise,function(as){return Ws(Br._readableStreamController,as),Ws(on._readableStreamController,as),(!pr||!kr)&&mn(void 0),null}),[Br,on]}function jp(ft){var xt=_r(ft),Lt=!1,ir=!1,cr=!1,pr=!1,kr=!1,zr,Zr,Br,on,mn,pn=pt(function(Wn){mn=Wn});function Jn(Wn){St(Wn._closedPromise,function(ln){return Wn!==xt||(ns(Br._readableStreamController,ln),ns(on._readableStreamController,ln),(!pr||!kr)&&mn(void 0)),null})}function _s(){ds(xt)&&(tr(xt),xt=_r(ft),Jn(xt));var Wn={_chunkSteps:function(ln){Pt(function(){ir=!1,cr=!1;var On=ln,Un=ln;if(!pr&&!kr)try{Un=Yn(ln)}catch(Ps){ns(Br._readableStreamController,Ps),ns(on._readableStreamController,Ps),mn(vs(ft,Ps));return}pr||Io(Br._readableStreamController,On),kr||Io(on._readableStreamController,Un),Lt=!1,ir?Qs():cr&&as()})},_closeSteps:function(){Lt=!1,pr||ho(Br._readableStreamController),kr||ho(on._readableStreamController),Br._readableStreamController._pendingPullIntos.length>0&&eo(Br._readableStreamController,0),on._readableStreamController._pendingPullIntos.length>0&&eo(on._readableStreamController,0),(!pr||!kr)&&mn(void 0)},_errorSteps:function(){Lt=!1}};hr(xt,Wn)}function Gn(Wn,ln){Dr(xt)&&(tr(xt),xt=yl(ft),Jn(xt));var On=ln?on:Br,Un=ln?Br:on,Ps={_chunkSteps:function(Rs){Pt(function(){ir=!1,cr=!1;var so=ln?kr:pr,su=ln?pr:kr;if(su)so||Ls(On._readableStreamController,Rs);else{var vp=void 0;try{vp=Yn(Rs)}catch(yp){ns(On._readableStreamController,yp),ns(Un._readableStreamController,yp),mn(vs(ft,yp));return}so||Ls(On._readableStreamController,Rs),Io(Un._readableStreamController,vp)}Lt=!1,ir?Qs():cr&&as()})},_closeSteps:function(Rs){Lt=!1;var so=ln?kr:pr,su=ln?pr:kr;so||ho(On._readableStreamController),su||ho(Un._readableStreamController),Rs!==void 0&&(so||Ls(On._readableStreamController,Rs),!su&&Un._readableStreamController._pendingPullIntos.length>0&&eo(Un._readableStreamController,0)),(!so||!su)&&mn(void 0)},_errorSteps:function(){Lt=!1}};Ks(xt,Wn,1,Ps)}function Qs(){if(Lt)return ir=!0,ut(void 0);Lt=!0;var Wn=Qo(Br._readableStreamController);return Wn===null?_s():Gn(Wn._view,!1),ut(void 0)}function as(){if(Lt)return cr=!0,ut(void 0);Lt=!0;var Wn=Qo(on._readableStreamController);return Wn===null?_s():Gn(Wn._view,!0),ut(void 0)}function Zs(Wn){if(pr=!0,zr=Wn,kr){var ln=wr([zr,Zr]),On=vs(ft,ln);mn(On)}return pn}function ws(Wn){if(kr=!0,Zr=Wn,pr){var ln=wr([zr,Zr]),On=vs(ft,ln);mn(On)}return pn}function io(){}return Br=tu(io,Qs,Zs),on=tu(io,as,ws),Jn(xt),[Br,on]}function Pu(ft){return ot(ft)&&typeof ft.getReader<"u"}function Cm(ft){return Pu(ft)?km(ft.getReader()):Am(ft)}function Am(ft){var xt,Lt=Lr(ft,"async"),ir=it;function cr(){var kr;try{kr=Hr(Lt)}catch(Zr){return ht(Zr)}var zr=ut(kr);return _t(zr,function(Zr){if(!ot(Zr))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var Br=nn(Zr);if(Br)kn(xt._readableStreamController);else{var on=rn(Zr);bo(xt._readableStreamController,on)}})}function pr(kr){var zr=Lt.iterator,Zr;try{Zr=Qr(zr,"return")}catch(mn){return ht(mn)}if(Zr===void 0)return ut(void 0);var Br;try{Br=Mt(Zr,zr,[kr])}catch(mn){return ht(mn)}var on=ut(Br);return _t(on,function(mn){if(!ot(mn))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return xt=Us(ir,cr,pr,0),xt}function km(ft){var xt,Lt=it;function ir(){var pr;try{pr=ft.read()}catch(kr){return ht(kr)}return _t(pr,function(kr){if(!ot(kr))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(kr.done)kn(xt._readableStreamController);else{var zr=kr.value;bo(xt._readableStreamController,zr)}})}function cr(pr){try{return ut(ft.cancel(pr))}catch(kr){return ht(kr)}}return xt=Us(Lt,ir,cr,0),xt}function Ru(ft,xt){Xt(ft,xt);var Lt=ft,ir=Lt==null?void 0:Lt.autoAllocateChunkSize,cr=Lt==null?void 0:Lt.cancel,pr=Lt==null?void 0:Lt.pull,kr=Lt==null?void 0:Lt.start,zr=Lt==null?void 0:Lt.type;return{autoAllocateChunkSize:ir===void 0?void 0:ar(ir,"".concat(xt," has member 'autoAllocateChunkSize' that")),cancel:cr===void 0?void 0:So(cr,Lt,"".concat(xt," has member 'cancel' that")),pull:pr===void 0?void 0:Iu(pr,Lt,"".concat(xt," has member 'pull' that")),start:kr===void 0?void 0:Np(kr,Lt,"".concat(xt," has member 'start' that")),type:zr===void 0?void 0:$u(zr,"".concat(xt," has member 'type' that"))}}function So(ft,xt,Lt){return wt(ft,Lt),function(ir){return Rt(ft,xt,[ir])}}function Iu(ft,xt,Lt){return wt(ft,Lt),function(ir){return Rt(ft,xt,[ir])}}function Np(ft,xt,Lt){return wt(ft,Lt),function(ir){return Mt(ft,xt,[ir])}}function $u(ft,xt){if(ft="".concat(ft),ft!=="bytes")throw new TypeError("".concat(xt," '").concat(ft,"' is not a valid enumeration value for ReadableStreamType"));return ft}function Bp(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.preventCancel;return{preventCancel:!!Lt}}function lp(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.preventAbort,ir=ft==null?void 0:ft.preventCancel,cr=ft==null?void 0:ft.preventClose,pr=ft==null?void 0:ft.signal;return pr!==void 0&&Ou(pr,"".concat(xt," has member 'signal' that")),{preventAbort:!!Lt,preventCancel:!!ir,preventClose:!!cr,signal:pr}}function Ou(ft,xt){if(!$n(ft))throw new TypeError("".concat(xt," is not an AbortSignal."))}function zp(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.readable;Bt(Lt,"readable","ReadableWritablePair"),vr(Lt,"".concat(xt," has member 'readable' that"));var ir=ft==null?void 0:ft.writable;return Bt(ir,"writable","ReadableWritablePair"),_n(ir,"".concat(xt," has member 'writable' that")),{readable:Lt,writable:ir}}var Qn=function(){function ft(xt,Lt){xt===void 0&&(xt={}),Lt===void 0&&(Lt={}),xt===void 0?xt=null:qt(xt,"First parameter");var ir=In(Lt,"Second parameter"),cr=Ru(xt,"First parameter");if(up(this),cr.type==="bytes"){if(ir.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var pr=mo(ir,0);vu(this,cr,pr)}else{var kr=_l(ir),pr=mo(ir,1);Tu(this,cr,pr,kr)}}return Object.defineProperty(ft.prototype,"locked",{get:function(){if(!xo(this))throw jo("locked");return _o(this)},enumerable:!1,configurable:!0}),ft.prototype.cancel=function(xt){return xt===void 0&&(xt=void 0),xo(this)?_o(this)?ht(new TypeError("Cannot cancel a stream that already has a reader")):vs(this,xt):ht(jo("cancel"))},ft.prototype.getReader=function(xt){if(xt===void 0&&(xt=void 0),!xo(this))throw jo("getReader");var Lt=yu(xt,"First parameter");return Lt.mode===void 0?_r(this):yl(this)},ft.prototype.pipeThrough=function(xt,Lt){if(Lt===void 0&&(Lt={}),!xo(this))throw jo("pipeThrough");Nt(xt,1,"pipeThrough");var ir=zp(xt,"First parameter"),cr=lp(Lt,"Second parameter");if(_o(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ns(ir.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var pr=$r(this,ir.writable,cr.preventClose,cr.preventAbort,cr.preventCancel,cr.signal);return Et(pr),ir.readable},ft.prototype.pipeTo=function(xt,Lt){if(Lt===void 0&&(Lt={}),!xo(this))return ht(jo("pipeTo"));if(xt===void 0)return ht("Parameter 1 is required in 'pipeTo'.");if(!qn(xt))return ht(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ir;try{ir=lp(Lt,"Second parameter")}catch(cr){return ht(cr)}return _o(this)?ht(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ns(xt)?ht(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):$r(this,xt,ir.preventClose,ir.preventAbort,ir.preventCancel,ir.signal)},ft.prototype.tee=function(){if(!xo(this))throw jo("tee");var xt=Dn(this);return wr(xt)},ft.prototype.values=function(xt){if(xt===void 0&&(xt=void 0),!xo(this))throw jo("values");var Lt=Bp(xt,"First parameter");return Bn(this,Lt.preventCancel)},ft.prototype[br]=function(xt){return this.values(xt)},ft.from=function(xt){return Cm(xt)},ft}();Object.defineProperties(Qn,{from:{enumerable:!0}}),Object.defineProperties(Qn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),lt(Qn.from,"from"),lt(Qn.prototype.cancel,"cancel"),lt(Qn.prototype.getReader,"getReader"),lt(Qn.prototype.pipeThrough,"pipeThrough"),lt(Qn.prototype.pipeTo,"pipeTo"),lt(Qn.prototype.tee,"tee"),lt(Qn.prototype.values,"values"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Qn.prototype,o.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Qn.prototype,br,{value:Qn.prototype.values,writable:!0,configurable:!0});function Us(ft,xt,Lt,ir,cr){ir===void 0&&(ir=1),cr===void 0&&(cr=function(){return 1});var pr=Object.create(Qn.prototype);up(pr);var kr=Object.create(Tr.prototype);return Do(pr,kr,ft,xt,Lt,ir,cr),pr}function tu(ft,xt,Lt){var ir=Object.create(Qn.prototype);up(ir);var cr=Object.create(bs.prototype);return Hl(ir,cr,ft,xt,Lt,0,void 0),ir}function up(ft){ft._state="readable",ft._reader=void 0,ft._storedError=void 0,ft._disturbed=!1}function xo(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_readableStreamController")?!1:ft instanceof Qn}function _o(ft){return ft._reader!==void 0}function vs(ft,xt){if(ft._disturbed=!0,ft._state==="closed")return ut(void 0);if(ft._state==="errored")return ht(ft._storedError);wo(ft);var Lt=ft._reader;if(Lt!==void 0&&ds(Lt)){var ir=Lt._readIntoRequests;Lt._readIntoRequests=new Ct,ir.forEach(function(pr){pr._closeSteps(void 0)})}var cr=ft._readableStreamController[It](xt);return _t(cr,it)}function wo(ft){ft._state="closed";var xt=ft._reader;if(xt!==void 0&&(At(xt),Dr(xt))){var Lt=xt._readRequests;xt._readRequests=new Ct,Lt.forEach(function(ir){ir._closeSteps()})}}function Fu(ft,xt){ft._state="errored",ft._storedError=xt;var Lt=ft._reader;Lt!==void 0&&(er(Lt,xt),Dr(Lt)?Wr(Lt,xt):Xl(Lt,xt))}function jo(ft){return new TypeError("ReadableStream.prototype.".concat(ft," can only be used on a ReadableStream"))}function cp(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.highWaterMark;return Bt(Lt,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Qt(Lt)}}var Wp=function(ft){return ft.byteLength};lt(Wp,"size");var Mu=function(){function ft(xt){Nt(xt,1,"ByteLengthQueuingStrategy"),xt=cp(xt,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=xt.highWaterMark}return Object.defineProperty(ft.prototype,"highWaterMark",{get:function(){if(!ss(this))throw Zn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"size",{get:function(){if(!ss(this))throw Zn("size");return Wp},enumerable:!1,configurable:!0}),ft}();Object.defineProperties(Mu.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(Mu.prototype,o.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Zn(ft){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(ft," can only be used on a ByteLengthQueuingStrategy"))}function ss(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_byteLengthQueuingStrategyHighWaterMark")?!1:ft instanceof Mu}var Up=function(){return 1};lt(Up,"size");var Du=function(){function ft(xt){Nt(xt,1,"CountQueuingStrategy"),xt=cp(xt,"First parameter"),this._countQueuingStrategyHighWaterMark=xt.highWaterMark}return Object.defineProperty(ft.prototype,"highWaterMark",{get:function(){if(!Vp(this))throw dp("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"size",{get:function(){if(!Vp(this))throw dp("size");return Up},enumerable:!1,configurable:!0}),ft}();Object.defineProperties(Du.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(Du.prototype,o.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function dp(ft){return new TypeError("CountQueuingStrategy.prototype.".concat(ft," can only be used on a CountQueuingStrategy"))}function Vp(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_countQueuingStrategyHighWaterMark")?!1:ft instanceof Du}function fp(ft,xt){Xt(ft,xt);var Lt=ft==null?void 0:ft.cancel,ir=ft==null?void 0:ft.flush,cr=ft==null?void 0:ft.readableType,pr=ft==null?void 0:ft.start,kr=ft==null?void 0:ft.transform,zr=ft==null?void 0:ft.writableType;return{cancel:Lt===void 0?void 0:nu(Lt,ft,"".concat(xt," has member 'cancel' that")),flush:ir===void 0?void 0:ru(ir,ft,"".concat(xt," has member 'flush' that")),readableType:cr,start:pr===void 0?void 0:hp(pr,ft,"".concat(xt," has member 'start' that")),transform:kr===void 0?void 0:Rl(kr,ft,"".concat(xt," has member 'transform' that")),writableType:zr}}function ru(ft,xt,Lt){return wt(ft,Lt),function(ir){return Rt(ft,xt,[ir])}}function hp(ft,xt,Lt){return wt(ft,Lt),function(ir){return Mt(ft,xt,[ir])}}function Rl(ft,xt,Lt){return wt(ft,Lt),function(ir,cr){return Rt(ft,xt,[ir,cr])}}function nu(ft,xt,Lt){return wt(ft,Lt),function(ir){return Rt(ft,xt,[ir])}}var Eo=function(){function ft(xt,Lt,ir){xt===void 0&&(xt={}),Lt===void 0&&(Lt={}),ir===void 0&&(ir={}),xt===void 0&&(xt=null);var cr=In(Lt,"Second parameter"),pr=In(ir,"Third parameter"),kr=fp(xt,"First parameter");if(kr.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(kr.writableType!==void 0)throw new RangeError("Invalid writableType specified");var zr=mo(pr,0),Zr=_l(pr),Br=mo(cr,1),on=_l(cr),mn,pn=pt(function(Jn){mn=Jn});Lu(this,pn,Br,on,zr,Zr),Gp(this,kr),kr.start!==void 0?mn(kr.start(this._transformStreamController)):mn(void 0)}return Object.defineProperty(ft.prototype,"readable",{get:function(){if(!No(this))throw qp("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"writable",{get:function(){if(!No(this))throw qp("writable");return this._writable},enumerable:!1,configurable:!0}),ft}();Object.defineProperties(Eo.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(Eo.prototype,o.toStringTag,{value:"TransformStream",configurable:!0});function Lu(ft,xt,Lt,ir,cr,pr){function kr(){return xt}function zr(pn){return Tm(ft,pn)}function Zr(pn){return Pm(ft,pn)}function Br(){return Rm(ft)}ft._writable=os(kr,zr,Br,Zr,Lt,ir);function on(){return Wo(ft)}function mn(pn){return Im(ft,pn)}ft._readable=Us(kr,on,mn,cr,pr),ft._backpressure=void 0,ft._backpressureChangePromise=void 0,ft._backpressureChangePromise_resolve=void 0,ju(ft,!0),ft._transformStreamController=void 0}function No(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_transformStreamController")?!1:ft instanceof Eo}function Hp(ft,xt){Ws(ft._readable._readableStreamController,xt),pp(ft,xt)}function pp(ft,xt){rr(ft._transformStreamController),no(ft._writable._writableStreamController,xt),mp(ft)}function mp(ft){ft._backpressure&&ju(ft,!1)}function ju(ft,xt){ft._backpressureChangePromise!==void 0&&ft._backpressureChangePromise_resolve(),ft._backpressureChangePromise=pt(function(Lt){ft._backpressureChangePromise_resolve=Lt}),ft._backpressure=xt}var Co=function(){function ft(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ft.prototype,"desiredSize",{get:function(){if(!Bo(this))throw Bu("desiredSize");var xt=this._controlledTransformStream._readable._readableStreamController;return gs(xt)},enumerable:!1,configurable:!0}),ft.prototype.enqueue=function(xt){if(xt===void 0&&(xt=void 0),!Bo(this))throw Bu("enqueue");zo(this,xt)},ft.prototype.error=function(xt){if(xt===void 0&&(xt=void 0),!Bo(this))throw Bu("error");Nu(this,xt)},ft.prototype.terminate=function(){if(!Bo(this))throw Bu("terminate");En(this)},ft}();Object.defineProperties(Co.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),lt(Co.prototype.enqueue,"enqueue"),lt(Co.prototype.error,"error"),lt(Co.prototype.terminate,"terminate"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Co.prototype,o.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Bo(ft){return!ot(ft)||!Object.prototype.hasOwnProperty.call(ft,"_controlledTransformStream")?!1:ft instanceof Co}function iu(ft,xt,Lt,ir,cr){xt._controlledTransformStream=ft,ft._transformStreamController=xt,xt._transformAlgorithm=Lt,xt._flushAlgorithm=ir,xt._cancelAlgorithm=cr,xt._finishPromise=void 0,xt._finishPromise_resolve=void 0,xt._finishPromise_reject=void 0}function Gp(ft,xt){var Lt=Object.create(Co.prototype),ir,cr,pr;xt.transform!==void 0?ir=function(kr){return xt.transform(kr,Lt)}:ir=function(kr){try{return zo(Lt,kr),ut(void 0)}catch(zr){return ht(zr)}},xt.flush!==void 0?cr=function(){return xt.flush(Lt)}:cr=function(){return ut(void 0)},xt.cancel!==void 0?pr=function(kr){return xt.cancel(kr)}:pr=function(){return ut(void 0)},iu(ft,Lt,ir,cr,pr)}function rr(ft){ft._transformAlgorithm=void 0,ft._flushAlgorithm=void 0,ft._cancelAlgorithm=void 0}function zo(ft,xt){var Lt=ft._controlledTransformStream,ir=Lt._readable._readableStreamController;if(!Pl(ir))throw new TypeError("Readable side is not in a state that permits enqueue");try{bo(ir,xt)}catch(pr){throw pp(Lt,pr),Lt._readable._storedError}var cr=ku(ir);cr!==Lt._backpressure&&ju(Lt,!0)}function Nu(ft,xt){Hp(ft._controlledTransformStream,xt)}function xs(ft,xt){var Lt=ft._transformAlgorithm(xt);return _t(Lt,void 0,function(ir){throw Hp(ft._controlledTransformStream,ir),ir})}function En(ft){var xt=ft._controlledTransformStream,Lt=xt._readable._readableStreamController;kn(Lt);var ir=new TypeError("TransformStream terminated");pp(xt,ir)}function Tm(ft,xt){var Lt=ft._transformStreamController;if(ft._backpressure){var ir=ft._backpressureChangePromise;return _t(ir,function(){var cr=ft._writable,pr=cr._state;if(pr==="erroring")throw cr._storedError;return xs(Lt,xt)})}return xs(Lt,xt)}function Pm(ft,xt){var Lt=ft._transformStreamController;if(Lt._finishPromise!==void 0)return Lt._finishPromise;var ir=ft._readable;Lt._finishPromise=pt(function(pr,kr){Lt._finishPromise_resolve=pr,Lt._finishPromise_reject=kr});var cr=Lt._cancelAlgorithm(xt);return rr(Lt),dt(cr,function(){return ir._state==="errored"?Il(Lt,ir._storedError):(Ws(ir._readableStreamController,xt),gp(Lt)),null},function(pr){return Ws(ir._readableStreamController,pr),Il(Lt,pr),null}),Lt._finishPromise}function Rm(ft){var xt=ft._transformStreamController;if(xt._finishPromise!==void 0)return xt._finishPromise;var Lt=ft._readable;xt._finishPromise=pt(function(cr,pr){xt._finishPromise_resolve=cr,xt._finishPromise_reject=pr});var ir=xt._flushAlgorithm();return rr(xt),dt(ir,function(){return Lt._state==="errored"?Il(xt,Lt._storedError):(kn(Lt._readableStreamController),gp(xt)),null},function(cr){return Ws(Lt._readableStreamController,cr),Il(xt,cr),null}),xt._finishPromise}function Wo(ft){return ju(ft,!1),ft._backpressureChangePromise}function Im(ft,xt){var Lt=ft._transformStreamController;if(Lt._finishPromise!==void 0)return Lt._finishPromise;var ir=ft._writable;Lt._finishPromise=pt(function(pr,kr){Lt._finishPromise_resolve=pr,Lt._finishPromise_reject=kr});var cr=Lt._cancelAlgorithm(xt);return rr(Lt),dt(cr,function(){return ir._state==="errored"?Il(Lt,ir._storedError):(no(ir._writableStreamController,xt),mp(ft),gp(Lt)),null},function(pr){return no(ir._writableStreamController,pr),mp(ft),Il(Lt,pr),null}),Lt._finishPromise}function Bu(ft){return new TypeError("TransformStreamDefaultController.prototype.".concat(ft," can only be used on a TransformStreamDefaultController"))}function gp(ft){ft._finishPromise_resolve!==void 0&&(ft._finishPromise_resolve(),ft._finishPromise_resolve=void 0,ft._finishPromise_reject=void 0)}function Il(ft,xt){ft._finishPromise_reject!==void 0&&(Et(ft._finishPromise),ft._finishPromise_reject(xt),ft._finishPromise_resolve=void 0,ft._finishPromise_reject=void 0)}function qp(ft){return new TypeError("TransformStream.prototype.".concat(ft," can only be used on a TransformStream"))}a.ByteLengthQueuingStrategy=Mu,a.CountQueuingStrategy=Du,a.ReadableByteStreamController=bs,a.ReadableStream=Qn,a.ReadableStreamBYOBReader=js,a.ReadableStreamBYOBRequest=cs,a.ReadableStreamDefaultController=Tr,a.ReadableStreamDefaultReader=Vr,a.TransformStream=Eo,a.TransformStreamDefaultController=Co,a.WritableStream=Cn,a.WritableStreamDefaultController=vo,a.WritableStreamDefaultWriter=to})}(ponyfill,ponyfill.exports)),ponyfill.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,a){module.exports=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=Nt,s.arraysToBytes=Bt,s.assert=mr,s.bytesToString=Vt,s.createPromiseCapability=Jr,s.createValidAbsoluteUrl=kt,s.escapeString=Vr,s.getModificationDate=Nr,s.getVerbosityLevel=$t,s.info=Jt,s.isArrayBuffer=gn,s.isArrayEqual=Ar,s.isAscii=Dr,s.objectFromMap=lr,s.objectSize=sr,s.setVerbosityLevel=jt,s.shadow=Ft,s.string32=Qt,s.stringToBytes=qt,s.stringToPDFString=Ur,s.stringToUTF16BEString=hr,s.stringToUTF8String=Or,s.unreachable=tr,s.utf8StringToString=Wr,s.warn=Wt,a(2);const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const _=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=_;const $=1.35;s.LINE_FACTOR=$;const j=.35;s.LINE_DESCENT_FACTOR=j;const et={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=et;const rt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=rt;const nt="pdfjs_internal_editor_";s.AnnotationEditorPrefix=nt;const it={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=it;const ot={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=ot;const at={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=at;const lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=lt;const gt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=gt;const ct={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=ct;const yt={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=yt;const pt={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=pt;const ut={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=ut;const ht={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=ht;const mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=mt;const dt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=dt;const vt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=vt;const St={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=St;const _t={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=_t;const Et={O:"PageOpen",C:"PageClose"};s.PageActionEventType=Et;const Pt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};s.StreamType=Pt;const Mt={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};s.FontType=Mt;const Rt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=Rt;const Ut={NONE:0,BINARY:1,STREAM:2};s.CMapCompressionType=Ut;const Ct={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=Ct;const Kt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=Kt;const Gt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Gt;let It=Rt.WARNINGS;function jt(wr){Number.isInteger(wr)&&(It=wr)}function $t(){return It}function Jt(wr){It>=Rt.INFOS&&console.log(`Info: ${wr}`)}function Wt(wr){It>=Rt.WARNINGS&&console.log(`Warning: ${wr}`)}function tr(wr){throw new Error(wr)}function mr(wr,dr){wr||tr(dr)}function Yt(wr){if(!wr)return!1;switch(wr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kt(wr){let dr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,fr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!wr)return null;try{if(fr&&typeof wr=="string"){if(fr.addDefaultProtocol&&wr.startsWith("www.")){const Yr=wr.match(/\./g);Yr&&Yr.length>=2&&(wr=`http://${wr}`)}if(fr.tryConvertEncoding)try{wr=Or(wr)}catch{}}const Rr=dr?new URL(wr,dr):new URL(wr);if(Yt(Rr))return Rr}catch{}return null}function Ft(wr,dr,fr){return Object.defineProperty(wr,dr,{value:fr,enumerable:!0,configurable:!0,writable:!1}),fr}const er=function(){function dr(fr,Rr){this.constructor===dr&&tr("Cannot initialize BaseException."),this.message=fr,this.name=Rr}return dr.prototype=new Error,dr.constructor=dr,dr}();s.BaseException=er;class Zt extends er{constructor(dr,fr){super(dr,"PasswordException"),this.code=fr}}s.PasswordException=Zt;class At extends er{constructor(dr,fr){super(dr,"UnknownErrorException"),this.details=fr}}s.UnknownErrorException=At;class Ot extends er{constructor(dr){super(dr,"InvalidPDFException")}}s.InvalidPDFException=Ot;class Dt extends er{constructor(dr){super(dr,"MissingPDFException")}}s.MissingPDFException=Dt;class zt extends er{constructor(dr,fr){super(dr,"UnexpectedResponseException"),this.status=fr}}s.UnexpectedResponseException=zt;class Xt extends er{constructor(dr){super(dr,"FormatError")}}s.FormatError=Xt;class wt extends er{constructor(dr){super(dr,"AbortException")}}s.AbortException=wt;function Vt(wr){(typeof wr!="object"||wr===null||wr.length===void 0)&&tr("Invalid argument for bytesToString");const dr=wr.length,fr=8192;if(dr<fr)return String.fromCharCode.apply(null,wr);const Rr=[];for(let Yr=0;Yr<dr;Yr+=fr){const Qr=Math.min(Yr+fr,dr),Pr=wr.subarray(Yr,Qr);Rr.push(String.fromCharCode.apply(null,Pr))}return Rr.join("")}function qt(wr){typeof wr!="string"&&tr("Invalid argument for stringToBytes");const dr=wr.length,fr=new Uint8Array(dr);for(let Rr=0;Rr<dr;++Rr)fr[Rr]=wr.charCodeAt(Rr)&255;return fr}function Nt(wr){if(wr.length!==void 0)return wr.length;if(wr.byteLength!==void 0)return wr.byteLength;tr("Invalid argument for arrayByteLength")}function Bt(wr){const dr=wr.length;if(dr===1&&wr[0]instanceof Uint8Array)return wr[0];let fr=0;for(let Qr=0;Qr<dr;Qr++)fr+=Nt(wr[Qr]);let Rr=0;const Yr=new Uint8Array(fr);for(let Qr=0;Qr<dr;Qr++){let Pr=wr[Qr];Pr instanceof Uint8Array||(typeof Pr=="string"?Pr=qt(Pr):Pr=new Uint8Array(Pr));const br=Pr.byteLength;Yr.set(Pr,Rr),Rr+=br}return Yr}function Qt(wr){return String.fromCharCode(wr>>24&255,wr>>16&255,wr>>8&255,wr&255)}function sr(wr){return Object.keys(wr).length}function lr(wr){const dr=Object.create(null);for(const[fr,Rr]of wr)dr[fr]=Rr;return dr}function ar(){const wr=new Uint8Array(4);return wr[0]=1,new Uint32Array(wr.buffer,0,1)[0]===1}function vr(){try{return new Function(""),!0}catch{return!1}}class _r{static get isLittleEndian(){return Ft(this,"isLittleEndian",ar())}static get isEvalSupported(){return Ft(this,"isEvalSupported",vr())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}s.FeatureTest=_r;const Cr=[...Array(256).keys()].map(wr=>wr.toString(16).padStart(2,"0"));class Er{static makeHexColor(dr,fr,Rr){return`#${Cr[dr]}${Cr[fr]}${Cr[Rr]}`}static scaleMinMax(dr,fr){let Rr;dr[0]?(dr[0]<0&&(Rr=fr[0],fr[0]=fr[1],fr[1]=Rr),fr[0]*=dr[0],fr[1]*=dr[0],dr[3]<0&&(Rr=fr[2],fr[2]=fr[3],fr[3]=Rr),fr[2]*=dr[3],fr[3]*=dr[3]):(Rr=fr[0],fr[0]=fr[2],fr[2]=Rr,Rr=fr[1],fr[1]=fr[3],fr[3]=Rr,dr[1]<0&&(Rr=fr[2],fr[2]=fr[3],fr[3]=Rr),fr[2]*=dr[1],fr[3]*=dr[1],dr[2]<0&&(Rr=fr[0],fr[0]=fr[1],fr[1]=Rr),fr[0]*=dr[2],fr[1]*=dr[2]),fr[0]+=dr[4],fr[1]+=dr[4],fr[2]+=dr[5],fr[3]+=dr[5]}static transform(dr,fr){return[dr[0]*fr[0]+dr[2]*fr[1],dr[1]*fr[0]+dr[3]*fr[1],dr[0]*fr[2]+dr[2]*fr[3],dr[1]*fr[2]+dr[3]*fr[3],dr[0]*fr[4]+dr[2]*fr[5]+dr[4],dr[1]*fr[4]+dr[3]*fr[5]+dr[5]]}static applyTransform(dr,fr){const Rr=dr[0]*fr[0]+dr[1]*fr[2]+fr[4],Yr=dr[0]*fr[1]+dr[1]*fr[3]+fr[5];return[Rr,Yr]}static applyInverseTransform(dr,fr){const Rr=fr[0]*fr[3]-fr[1]*fr[2],Yr=(dr[0]*fr[3]-dr[1]*fr[2]+fr[2]*fr[5]-fr[4]*fr[3])/Rr,Qr=(-dr[0]*fr[1]+dr[1]*fr[0]+fr[4]*fr[1]-fr[5]*fr[0])/Rr;return[Yr,Qr]}static getAxialAlignedBoundingBox(dr,fr){const Rr=Er.applyTransform(dr,fr),Yr=Er.applyTransform(dr.slice(2,4),fr),Qr=Er.applyTransform([dr[0],dr[3]],fr),Pr=Er.applyTransform([dr[2],dr[1]],fr);return[Math.min(Rr[0],Yr[0],Qr[0],Pr[0]),Math.min(Rr[1],Yr[1],Qr[1],Pr[1]),Math.max(Rr[0],Yr[0],Qr[0],Pr[0]),Math.max(Rr[1],Yr[1],Qr[1],Pr[1])]}static inverseTransform(dr){const fr=dr[0]*dr[3]-dr[1]*dr[2];return[dr[3]/fr,-dr[1]/fr,-dr[2]/fr,dr[0]/fr,(dr[2]*dr[5]-dr[4]*dr[3])/fr,(dr[4]*dr[1]-dr[5]*dr[0])/fr]}static apply3dTransform(dr,fr){return[dr[0]*fr[0]+dr[1]*fr[1]+dr[2]*fr[2],dr[3]*fr[0]+dr[4]*fr[1]+dr[5]*fr[2],dr[6]*fr[0]+dr[7]*fr[1]+dr[8]*fr[2]]}static singularValueDecompose2dScale(dr){const fr=[dr[0],dr[2],dr[1],dr[3]],Rr=dr[0]*fr[0]+dr[1]*fr[2],Yr=dr[0]*fr[1]+dr[1]*fr[3],Qr=dr[2]*fr[0]+dr[3]*fr[2],Pr=dr[2]*fr[1]+dr[3]*fr[3],br=(Rr+Pr)/2,Lr=Math.sqrt((Rr+Pr)**2-4*(Rr*Pr-Qr*Yr))/2,Hr=br+Lr||1,nn=br-Lr||1;return[Math.sqrt(Hr),Math.sqrt(nn)]}static normalizeRect(dr){const fr=dr.slice(0);return dr[0]>dr[2]&&(fr[0]=dr[2],fr[2]=dr[0]),dr[1]>dr[3]&&(fr[1]=dr[3],fr[3]=dr[1]),fr}static intersect(dr,fr){const Rr=Math.max(Math.min(dr[0],dr[2]),Math.min(fr[0],fr[2])),Yr=Math.min(Math.max(dr[0],dr[2]),Math.max(fr[0],fr[2]));if(Rr>Yr)return null;const Qr=Math.max(Math.min(dr[1],dr[3]),Math.min(fr[1],fr[3])),Pr=Math.min(Math.max(dr[1],dr[3]),Math.max(fr[1],fr[3]));return Qr>Pr?null:[Rr,Qr,Yr,Pr]}static bezierBoundingBox(dr,fr,Rr,Yr,Qr,Pr,br,Lr){const Hr=[],nn=[[],[]];let rn,sn,hn,en,xn,Bn,vn,Rn;for(let jn=0;jn<2;++jn){if(jn===0?(sn=6*dr-12*Rr+6*Qr,rn=-3*dr+9*Rr-9*Qr+3*br,hn=3*Rr-3*dr):(sn=6*fr-12*Yr+6*Pr,rn=-3*fr+9*Yr-9*Pr+3*Lr,hn=3*Yr-3*fr),Math.abs(rn)<1e-12){if(Math.abs(sn)<1e-12)continue;en=-hn/sn,0<en&&en<1&&Hr.push(en);continue}vn=sn*sn-4*hn*rn,Rn=Math.sqrt(vn),!(vn<0)&&(xn=(-sn+Rn)/(2*rn),0<xn&&xn<1&&Hr.push(xn),Bn=(-sn-Rn)/(2*rn),0<Bn&&Bn<1&&Hr.push(Bn))}let Vn=Hr.length,Fn;const Yn=Vn;for(;Vn--;)en=Hr[Vn],Fn=1-en,nn[0][Vn]=Fn*Fn*Fn*dr+3*Fn*Fn*en*Rr+3*Fn*en*en*Qr+en*en*en*br,nn[1][Vn]=Fn*Fn*Fn*fr+3*Fn*Fn*en*Yr+3*Fn*en*en*Pr+en*en*en*Lr;return nn[0][Yn]=dr,nn[1][Yn]=fr,nn[0][Yn+1]=br,nn[1][Yn+1]=Lr,nn[0].length=nn[1].length=Yn+2,[Math.min(...nn[0]),Math.min(...nn[1]),Math.max(...nn[0]),Math.max(...nn[1])]}}s.Util=Er;const qr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ur(wr){if(wr[0]>="ï"){let fr;if(wr[0]==="þ"&&wr[1]==="ÿ"?fr="utf-16be":wr[0]==="ÿ"&&wr[1]==="þ"?fr="utf-16le":wr[0]==="ï"&&wr[1]==="»"&&wr[2]==="¿"&&(fr="utf-8"),fr)try{const Rr=new TextDecoder(fr,{fatal:!0}),Yr=qt(wr);return Rr.decode(Yr)}catch(Rr){Wt(`stringToPDFString: "${Rr}".`)}}const dr=[];for(let fr=0,Rr=wr.length;fr<Rr;fr++){const Yr=qr[wr.charCodeAt(fr)];dr.push(Yr?String.fromCharCode(Yr):wr.charAt(fr))}return dr.join("")}function Vr(wr){return wr.replace(/([()\\\n\r])/g,dr=>dr===`
`?"\\n":dr==="\r"?"\\r":`\\${dr}`)}function Dr(wr){return/^[\x00-\x7F]*$/.test(wr)}function hr(wr){const dr=["þÿ"];for(let fr=0,Rr=wr.length;fr<Rr;fr++){const Yr=wr.charCodeAt(fr);dr.push(String.fromCharCode(Yr>>8&255),String.fromCharCode(Yr&255))}return dr.join("")}function Or(wr){return decodeURIComponent(escape(wr))}function Wr(wr){return unescape(encodeURIComponent(wr))}function gn(wr){return typeof wr=="object"&&wr!==null&&wr.byteLength!==void 0}function Ar(wr,dr){if(wr.length!==dr.length)return!1;for(let fr=0,Rr=wr.length;fr<Rr;fr++)if(wr[fr]!==dr[fr])return!1;return!0}function Nr(){let wr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[wr.getUTCFullYear().toString(),(wr.getUTCMonth()+1).toString().padStart(2,"0"),wr.getUTCDate().toString().padStart(2,"0"),wr.getUTCHours().toString().padStart(2,"0"),wr.getUTCMinutes().toString().padStart(2,"0"),wr.getUTCSeconds().toString().padStart(2,"0")].join("")}function Jr(){const wr=Object.create(null);let dr=!1;return Object.defineProperty(wr,"settled",{get(){return dr}}),wr.promise=new Promise(function(fr,Rr){wr.resolve=function(Yr){dr=!0,fr(Yr)},wr.reject=function(Yr){dr=!0,Rr(Yr)}}),wr}},(i,s,a)=>{var o=a(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!o.isNodeJS||(globalThis.btoa=function($){return Buffer.from($,"binary").toString("base64")})}(),function(){globalThis.atob||!o.isNodeJS||(globalThis.atob=function($){return Buffer.from($,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!o.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!o.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||a(4)}(),function(){Uint8Array.prototype.at||a(76)}(),function(){globalThis.structuredClone||a(86)}())},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=a},(i,s,a)=>{a(5);var o=a(75);i.exports=o("Array","at")},(i,s,a)=>{var o=a(6),_=a(41),$=a(65),j=a(63),et=a(70);o({target:"Array",proto:!0},{at:function(nt){var it=_(this),ot=$(it),at=j(nt),lt=at>=0?at:ot+at;return lt<0||lt>=ot?void 0:it[lt]}}),et("at")},(i,s,a)=>{var o=a(7),_=a(8).f,$=a(45),j=a(49),et=a(39),rt=a(57),nt=a(69);i.exports=function(it,ot){var at=it.target,lt=it.global,gt=it.stat,ct,yt,pt,ut,ht,mt;if(lt?yt=o:gt?yt=o[at]||et(at,{}):yt=(o[at]||{}).prototype,yt)for(pt in ot){if(ht=ot[pt],it.dontCallGetSet?(mt=_(yt,pt),ut=mt&&mt.value):ut=yt[pt],ct=nt(lt?pt:at+(gt?".":"#")+pt,it.forced),!ct&&ut!==void 0){if(typeof ht==typeof ut)continue;rt(ht,ut)}(it.sham||ut&&ut.sham)&&$(ht,"sham",!0),j(yt,pt,ht,it)}}},i=>{var s=function(a){return a&&a.Math==Math&&a};i.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(i,s,a)=>{var o=a(9),_=a(11),$=a(13),j=a(14),et=a(15),rt=a(20),nt=a(40),it=a(43),ot=Object.getOwnPropertyDescriptor;s.f=o?ot:function(lt,gt){if(lt=et(lt),gt=rt(gt),it)try{return ot(lt,gt)}catch{}if(nt(lt,gt))return j(!_($.f,lt,gt),lt[gt])}},(i,s,a)=>{var o=a(10);i.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},i=>{i.exports=function(s){try{return!!s()}catch{return!0}}},(i,s,a)=>{var o=a(12),_=Function.prototype.call;i.exports=o?_.bind(_):function(){return _.apply(_,arguments)}},(i,s,a)=>{var o=a(10);i.exports=!o(function(){var _=(function(){}).bind();return typeof _!="function"||_.hasOwnProperty("prototype")})},(i,s)=>{var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,_=o&&!a.call({1:2},1);s.f=_?function(j){var et=o(this,j);return!!et&&et.enumerable}:a},i=>{i.exports=function(s,a){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:a}}},(i,s,a)=>{var o=a(16),_=a(19);i.exports=function($){return o(_($))}},(i,s,a)=>{var o=a(17),_=a(10),$=a(18),j=Object,et=o("".split);i.exports=_(function(){return!j("z").propertyIsEnumerable(0)})?function(rt){return $(rt)=="String"?et(rt,""):j(rt)}:j},(i,s,a)=>{var o=a(12),_=Function.prototype,$=_.bind,j=_.call,et=o&&$.bind(j,j);i.exports=o?function(rt){return rt&&et(rt)}:function(rt){return rt&&function(){return j.apply(rt,arguments)}}},(i,s,a)=>{var o=a(17),_=o({}.toString),$=o("".slice);i.exports=function(j){return $(_(j),8,-1)}},i=>{var s=TypeError;i.exports=function(a){if(a==null)throw s("Can't call method on "+a);return a}},(i,s,a)=>{var o=a(21),_=a(24);i.exports=function($){var j=o($,"string");return _(j)?j:j+""}},(i,s,a)=>{var o=a(11),_=a(22),$=a(24),j=a(31),et=a(34),rt=a(35),nt=TypeError,it=rt("toPrimitive");i.exports=function(ot,at){if(!_(ot)||$(ot))return ot;var lt=j(ot,it),gt;if(lt){if(at===void 0&&(at="default"),gt=o(lt,ot,at),!_(gt)||$(gt))return gt;throw nt("Can't convert object to primitive value")}return at===void 0&&(at="number"),et(ot,at)}},(i,s,a)=>{var o=a(23);i.exports=function(_){return typeof _=="object"?_!==null:o(_)}},i=>{i.exports=function(s){return typeof s=="function"}},(i,s,a)=>{var o=a(25),_=a(23),$=a(26),j=a(27),et=Object;i.exports=j?function(rt){return typeof rt=="symbol"}:function(rt){var nt=o("Symbol");return _(nt)&&$(nt.prototype,et(rt))}},(i,s,a)=>{var o=a(7),_=a(23),$=function(j){return _(j)?j:void 0};i.exports=function(j,et){return arguments.length<2?$(o[j]):o[j]&&o[j][et]}},(i,s,a)=>{var o=a(17);i.exports=o({}.isPrototypeOf)},(i,s,a)=>{var o=a(28);i.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(i,s,a)=>{var o=a(29),_=a(10);i.exports=!!Object.getOwnPropertySymbols&&!_(function(){var $=Symbol();return!String($)||!(Object($)instanceof Symbol)||!Symbol.sham&&o&&o<41})},(i,s,a)=>{var o=a(7),_=a(30),$=o.process,j=o.Deno,et=$&&$.versions||j&&j.version,rt=et&&et.v8,nt,it;rt&&(nt=rt.split("."),it=nt[0]>0&&nt[0]<4?1:+(nt[0]+nt[1])),!it&&_&&(nt=_.match(/Edge\/(\d+)/),(!nt||nt[1]>=74)&&(nt=_.match(/Chrome\/(\d+)/),nt&&(it=+nt[1]))),i.exports=it},(i,s,a)=>{var o=a(25);i.exports=o("navigator","userAgent")||""},(i,s,a)=>{var o=a(32);i.exports=function(_,$){var j=_[$];return j==null?void 0:o(j)}},(i,s,a)=>{var o=a(23),_=a(33),$=TypeError;i.exports=function(j){if(o(j))return j;throw $(_(j)+" is not a function")}},i=>{var s=String;i.exports=function(a){try{return s(a)}catch{return"Object"}}},(i,s,a)=>{var o=a(11),_=a(23),$=a(22),j=TypeError;i.exports=function(et,rt){var nt,it;if(rt==="string"&&_(nt=et.toString)&&!$(it=o(nt,et))||_(nt=et.valueOf)&&!$(it=o(nt,et))||rt!=="string"&&_(nt=et.toString)&&!$(it=o(nt,et)))return it;throw j("Can't convert object to primitive value")}},(i,s,a)=>{var o=a(7),_=a(36),$=a(40),j=a(42),et=a(28),rt=a(27),nt=_("wks"),it=o.Symbol,ot=it&&it.for,at=rt?it:it&&it.withoutSetter||j;i.exports=function(lt){if(!$(nt,lt)||!(et||typeof nt[lt]=="string")){var gt="Symbol."+lt;et&&$(it,lt)?nt[lt]=it[lt]:rt&&ot?nt[lt]=ot(gt):nt[lt]=at(gt)}return nt[lt]}},(i,s,a)=>{var o=a(37),_=a(38);(i.exports=function($,j){return _[$]||(_[$]=j!==void 0?j:{})})("versions",[]).push({version:"3.24.1",mode:o?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},i=>{i.exports=!1},(i,s,a)=>{var o=a(7),_=a(39),$="__core-js_shared__",j=o[$]||_($,{});i.exports=j},(i,s,a)=>{var o=a(7),_=Object.defineProperty;i.exports=function($,j){try{_(o,$,{value:j,configurable:!0,writable:!0})}catch{o[$]=j}return j}},(i,s,a)=>{var o=a(17),_=a(41),$=o({}.hasOwnProperty);i.exports=Object.hasOwn||function(et,rt){return $(_(et),rt)}},(i,s,a)=>{var o=a(19),_=Object;i.exports=function($){return _(o($))}},(i,s,a)=>{var o=a(17),_=0,$=Math.random(),j=o(1 .toString);i.exports=function(et){return"Symbol("+(et===void 0?"":et)+")_"+j(++_+$,36)}},(i,s,a)=>{var o=a(9),_=a(10),$=a(44);i.exports=!o&&!_(function(){return Object.defineProperty($("div"),"a",{get:function(){return 7}}).a!=7})},(i,s,a)=>{var o=a(7),_=a(22),$=o.document,j=_($)&&_($.createElement);i.exports=function(et){return j?$.createElement(et):{}}},(i,s,a)=>{var o=a(9),_=a(46),$=a(14);i.exports=o?function(j,et,rt){return _.f(j,et,$(1,rt))}:function(j,et,rt){return j[et]=rt,j}},(i,s,a)=>{var o=a(9),_=a(43),$=a(47),j=a(48),et=a(20),rt=TypeError,nt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,ot="enumerable",at="configurable",lt="writable";s.f=o?$?function(ct,yt,pt){if(j(ct),yt=et(yt),j(pt),typeof ct=="function"&&yt==="prototype"&&"value"in pt&&lt in pt&&!pt[lt]){var ut=it(ct,yt);ut&&ut[lt]&&(ct[yt]=pt.value,pt={configurable:at in pt?pt[at]:ut[at],enumerable:ot in pt?pt[ot]:ut[ot],writable:!1})}return nt(ct,yt,pt)}:nt:function(ct,yt,pt){if(j(ct),yt=et(yt),j(pt),_)try{return nt(ct,yt,pt)}catch{}if("get"in pt||"set"in pt)throw rt("Accessors not supported");return"value"in pt&&(ct[yt]=pt.value),ct}},(i,s,a)=>{var o=a(9),_=a(10);i.exports=o&&_(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(i,s,a)=>{var o=a(22),_=String,$=TypeError;i.exports=function(j){if(o(j))return j;throw $(_(j)+" is not an object")}},(i,s,a)=>{var o=a(23),_=a(46),$=a(50),j=a(39);i.exports=function(et,rt,nt,it){it||(it={});var ot=it.enumerable,at=it.name!==void 0?it.name:rt;if(o(nt)&&$(nt,at,it),it.global)ot?et[rt]=nt:j(rt,nt);else{try{it.unsafe?et[rt]&&(ot=!0):delete et[rt]}catch{}ot?et[rt]=nt:_.f(et,rt,{value:nt,enumerable:!1,configurable:!it.nonConfigurable,writable:!it.nonWritable})}return et}},(i,s,a)=>{var o=a(10),_=a(23),$=a(40),j=a(9),et=a(51).CONFIGURABLE,rt=a(52),nt=a(53),it=nt.enforce,ot=nt.get,at=Object.defineProperty,lt=j&&!o(function(){return at(function(){},"length",{value:8}).length!==8}),gt=String(String).split("String"),ct=i.exports=function(yt,pt,ut){String(pt).slice(0,7)==="Symbol("&&(pt="["+String(pt).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),ut&&ut.getter&&(pt="get "+pt),ut&&ut.setter&&(pt="set "+pt),(!$(yt,"name")||et&&yt.name!==pt)&&(j?at(yt,"name",{value:pt,configurable:!0}):yt.name=pt),lt&&ut&&$(ut,"arity")&&yt.length!==ut.arity&&at(yt,"length",{value:ut.arity});try{ut&&$(ut,"constructor")&&ut.constructor?j&&at(yt,"prototype",{writable:!1}):yt.prototype&&(yt.prototype=void 0)}catch{}var ht=it(yt);return $(ht,"source")||(ht.source=gt.join(typeof pt=="string"?pt:"")),yt};Function.prototype.toString=ct(function(){return _(this)&&ot(this).source||rt(this)},"toString")},(i,s,a)=>{var o=a(9),_=a(40),$=Function.prototype,j=o&&Object.getOwnPropertyDescriptor,et=_($,"name"),rt=et&&(function(){}).name==="something",nt=et&&(!o||o&&j($,"name").configurable);i.exports={EXISTS:et,PROPER:rt,CONFIGURABLE:nt}},(i,s,a)=>{var o=a(17),_=a(23),$=a(38),j=o(Function.toString);_($.inspectSource)||($.inspectSource=function(et){return j(et)}),i.exports=$.inspectSource},(i,s,a)=>{var o=a(54),_=a(7),$=a(17),j=a(22),et=a(45),rt=a(40),nt=a(38),it=a(55),ot=a(56),at="Object already initialized",lt=_.TypeError,gt=_.WeakMap,ct,yt,pt,ut=function(Et){return pt(Et)?yt(Et):ct(Et,{})},ht=function(Et){return function(Pt){var Mt;if(!j(Pt)||(Mt=yt(Pt)).type!==Et)throw lt("Incompatible receiver, "+Et+" required");return Mt}};if(o||nt.state){var mt=nt.state||(nt.state=new gt),dt=$(mt.get),vt=$(mt.has),St=$(mt.set);ct=function(Et,Pt){if(vt(mt,Et))throw new lt(at);return Pt.facade=Et,St(mt,Et,Pt),Pt},yt=function(Et){return dt(mt,Et)||{}},pt=function(Et){return vt(mt,Et)}}else{var _t=it("state");ot[_t]=!0,ct=function(Et,Pt){if(rt(Et,_t))throw new lt(at);return Pt.facade=Et,et(Et,_t,Pt),Pt},yt=function(Et){return rt(Et,_t)?Et[_t]:{}},pt=function(Et){return rt(Et,_t)}}i.exports={set:ct,get:yt,has:pt,enforce:ut,getterFor:ht}},(i,s,a)=>{var o=a(7),_=a(23),$=a(52),j=o.WeakMap;i.exports=_(j)&&/native code/.test($(j))},(i,s,a)=>{var o=a(36),_=a(42),$=o("keys");i.exports=function(j){return $[j]||($[j]=_(j))}},i=>{i.exports={}},(i,s,a)=>{var o=a(40),_=a(58),$=a(8),j=a(46);i.exports=function(et,rt,nt){for(var it=_(rt),ot=j.f,at=$.f,lt=0;lt<it.length;lt++){var gt=it[lt];!o(et,gt)&&!(nt&&o(nt,gt))&&ot(et,gt,at(rt,gt))}}},(i,s,a)=>{var o=a(25),_=a(17),$=a(59),j=a(68),et=a(48),rt=_([].concat);i.exports=o("Reflect","ownKeys")||function(it){var ot=$.f(et(it)),at=j.f;return at?rt(ot,at(it)):ot}},(i,s,a)=>{var o=a(60),_=a(67),$=_.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(et){return o(et,$)}},(i,s,a)=>{var o=a(17),_=a(40),$=a(15),j=a(61).indexOf,et=a(56),rt=o([].push);i.exports=function(nt,it){var ot=$(nt),at=0,lt=[],gt;for(gt in ot)!_(et,gt)&&_(ot,gt)&&rt(lt,gt);for(;it.length>at;)_(ot,gt=it[at++])&&(~j(lt,gt)||rt(lt,gt));return lt}},(i,s,a)=>{var o=a(15),_=a(62),$=a(65),j=function(et){return function(rt,nt,it){var ot=o(rt),at=$(ot),lt=_(it,at),gt;if(et&&nt!=nt){for(;at>lt;)if(gt=ot[lt++],gt!=gt)return!0}else for(;at>lt;lt++)if((et||lt in ot)&&ot[lt]===nt)return et||lt||0;return!et&&-1}};i.exports={includes:j(!0),indexOf:j(!1)}},(i,s,a)=>{var o=a(63),_=Math.max,$=Math.min;i.exports=function(j,et){var rt=o(j);return rt<0?_(rt+et,0):$(rt,et)}},(i,s,a)=>{var o=a(64);i.exports=function(_){var $=+_;return $!==$||$===0?0:o($)}},i=>{var s=Math.ceil,a=Math.floor;i.exports=Math.trunc||function(_){var $=+_;return($>0?a:s)($)}},(i,s,a)=>{var o=a(66);i.exports=function(_){return o(_.length)}},(i,s,a)=>{var o=a(63),_=Math.min;i.exports=function($){return $>0?_(o($),9007199254740991):0}},i=>{i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(i,s)=>{s.f=Object.getOwnPropertySymbols},(i,s,a)=>{var o=a(10),_=a(23),$=/#|\.prototype\./,j=function(ot,at){var lt=rt[et(ot)];return lt==it?!0:lt==nt?!1:_(at)?o(at):!!at},et=j.normalize=function(ot){return String(ot).replace($,".").toLowerCase()},rt=j.data={},nt=j.NATIVE="N",it=j.POLYFILL="P";i.exports=j},(i,s,a)=>{var o=a(35),_=a(71),$=a(46).f,j=o("unscopables"),et=Array.prototype;et[j]==null&&$(et,j,{configurable:!0,value:_(null)}),i.exports=function(rt){et[j][rt]=!0}},(i,s,a)=>{var o=a(48),_=a(72),$=a(67),j=a(56),et=a(74),rt=a(44),nt=a(55),it=">",ot="<",at="prototype",lt="script",gt=nt("IE_PROTO"),ct=function(){},yt=function(dt){return ot+lt+it+dt+ot+"/"+lt+it},pt=function(dt){dt.write(yt("")),dt.close();var vt=dt.parentWindow.Object;return dt=null,vt},ut=function(){var dt=rt("iframe"),vt="java"+lt+":",St;return dt.style.display="none",et.appendChild(dt),dt.src=String(vt),St=dt.contentWindow.document,St.open(),St.write(yt("document.F=Object")),St.close(),St.F},ht,mt=function(){try{ht=new ActiveXObject("htmlfile")}catch{}mt=typeof document<"u"?document.domain&&ht?pt(ht):ut():pt(ht);for(var dt=$.length;dt--;)delete mt[at][$[dt]];return mt()};j[gt]=!0,i.exports=Object.create||function(vt,St){var _t;return vt!==null?(ct[at]=o(vt),_t=new ct,ct[at]=null,_t[gt]=vt):_t=mt(),St===void 0?_t:_.f(_t,St)}},(i,s,a)=>{var o=a(9),_=a(47),$=a(46),j=a(48),et=a(15),rt=a(73);s.f=o&&!_?Object.defineProperties:function(it,ot){j(it);for(var at=et(ot),lt=rt(ot),gt=lt.length,ct=0,yt;gt>ct;)$.f(it,yt=lt[ct++],at[yt]);return it}},(i,s,a)=>{var o=a(60),_=a(67);i.exports=Object.keys||function(j){return o(j,_)}},(i,s,a)=>{var o=a(25);i.exports=o("document","documentElement")},(i,s,a)=>{var o=a(7),_=a(17);i.exports=function($,j){return _(o[$].prototype[j])}},(i,s,a)=>{a(77)},(i,s,a)=>{var o=a(78),_=a(65),$=a(63),j=o.aTypedArray,et=o.exportTypedArrayMethod;et("at",function(nt){var it=j(this),ot=_(it),at=$(nt),lt=at>=0?at:ot+at;return lt<0||lt>=ot?void 0:it[lt]})},(i,s,a)=>{var o=a(79),_=a(9),$=a(7),j=a(23),et=a(22),rt=a(40),nt=a(80),it=a(33),ot=a(45),at=a(49),lt=a(46).f,gt=a(26),ct=a(82),yt=a(84),pt=a(35),ut=a(42),ht=a(53),mt=ht.enforce,dt=ht.get,vt=$.Int8Array,St=vt&&vt.prototype,_t=$.Uint8ClampedArray,Et=_t&&_t.prototype,Pt=vt&&ct(vt),Mt=St&&ct(St),Rt=Object.prototype,Ut=$.TypeError,Ct=pt("toStringTag"),Kt=ut("TYPED_ARRAY_TAG"),Gt="TypedArrayConstructor",It=o&&!!yt&&nt($.opera)!=="Opera",jt=!1,$t,Jt,Wt,tr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},mr={BigInt64Array:8,BigUint64Array:8},Yt=function(zt){if(!et(zt))return!1;var Xt=nt(zt);return Xt==="DataView"||rt(tr,Xt)||rt(mr,Xt)},kt=function(Dt){var zt=ct(Dt);if(et(zt)){var Xt=dt(zt);return Xt&&rt(Xt,Gt)?Xt[Gt]:kt(zt)}},Ft=function(Dt){if(!et(Dt))return!1;var zt=nt(Dt);return rt(tr,zt)||rt(mr,zt)},er=function(Dt){if(Ft(Dt))return Dt;throw Ut("Target is not a typed array")},Zt=function(Dt){if(j(Dt)&&(!yt||gt(Pt,Dt)))return Dt;throw Ut(it(Dt)+" is not a typed array constructor")},At=function(Dt,zt,Xt,wt){if(_){if(Xt)for(var Vt in tr){var qt=$[Vt];if(qt&&rt(qt.prototype,Dt))try{delete qt.prototype[Dt]}catch{try{qt.prototype[Dt]=zt}catch{}}}(!Mt[Dt]||Xt)&&at(Mt,Dt,Xt?zt:It&&St[Dt]||zt,wt)}},Ot=function(Dt,zt,Xt){var wt,Vt;if(_){if(yt){if(Xt){for(wt in tr)if(Vt=$[wt],Vt&&rt(Vt,Dt))try{delete Vt[Dt]}catch{}}if(!Pt[Dt]||Xt)try{return at(Pt,Dt,Xt?zt:It&&Pt[Dt]||zt)}catch{}else return}for(wt in tr)Vt=$[wt],Vt&&(!Vt[Dt]||Xt)&&at(Vt,Dt,zt)}};for($t in tr)Jt=$[$t],Wt=Jt&&Jt.prototype,Wt?mt(Wt)[Gt]=Jt:It=!1;for($t in mr)Jt=$[$t],Wt=Jt&&Jt.prototype,Wt&&(mt(Wt)[Gt]=Jt);if((!It||!j(Pt)||Pt===Function.prototype)&&(Pt=function(){throw Ut("Incorrect invocation")},It))for($t in tr)$[$t]&&yt($[$t],Pt);if((!It||!Mt||Mt===Rt)&&(Mt=Pt.prototype,It))for($t in tr)$[$t]&&yt($[$t].prototype,Mt);if(It&&ct(Et)!==Mt&&yt(Et,Mt),_&&!rt(Mt,Ct)){jt=!0,lt(Mt,Ct,{get:function(){return et(this)?this[Kt]:void 0}});for($t in tr)$[$t]&&ot($[$t],Kt,$t)}i.exports={NATIVE_ARRAY_BUFFER_VIEWS:It,TYPED_ARRAY_TAG:jt&&Kt,aTypedArray:er,aTypedArrayConstructor:Zt,exportTypedArrayMethod:At,exportTypedArrayStaticMethod:Ot,getTypedArrayConstructor:kt,isView:Yt,isTypedArray:Ft,TypedArray:Pt,TypedArrayPrototype:Mt}},i=>{i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(i,s,a)=>{var o=a(81),_=a(23),$=a(18),j=a(35),et=j("toStringTag"),rt=Object,nt=$(function(){return arguments}())=="Arguments",it=function(ot,at){try{return ot[at]}catch{}};i.exports=o?$:function(ot){var at,lt,gt;return ot===void 0?"Undefined":ot===null?"Null":typeof(lt=it(at=rt(ot),et))=="string"?lt:nt?$(at):(gt=$(at))=="Object"&&_(at.callee)?"Arguments":gt}},(i,s,a)=>{var o=a(35),_=o("toStringTag"),$={};$[_]="z",i.exports=String($)==="[object z]"},(i,s,a)=>{var o=a(40),_=a(23),$=a(41),j=a(55),et=a(83),rt=j("IE_PROTO"),nt=Object,it=nt.prototype;i.exports=et?nt.getPrototypeOf:function(ot){var at=$(ot);if(o(at,rt))return at[rt];var lt=at.constructor;return _(lt)&&at instanceof lt?lt.prototype:at instanceof nt?it:null}},(i,s,a)=>{var o=a(10);i.exports=!o(function(){function _(){}return _.prototype.constructor=null,Object.getPrototypeOf(new _)!==_.prototype})},(i,s,a)=>{var o=a(17),_=a(48),$=a(85);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var j=!1,et={},rt;try{rt=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(et,[]),j=et instanceof Array}catch{}return function(it,ot){return _(it),$(ot),j?rt(it,ot):it.__proto__=ot,it}}():void 0)},(i,s,a)=>{var o=a(23),_=String,$=TypeError;i.exports=function(j){if(typeof j=="object"||o(j))return j;throw $("Can't set "+_(j)+" as a prototype")}},(i,s,a)=>{a(87),a(93),a(95),a(117),a(119);var o=a(128);i.exports=o.structuredClone},(i,s,a)=>{var o=a(15),_=a(70),$=a(88),j=a(53),et=a(46).f,rt=a(89),nt=a(37),it=a(9),ot="Array Iterator",at=j.set,lt=j.getterFor(ot);i.exports=rt(Array,"Array",function(ct,yt){at(this,{type:ot,target:o(ct),index:0,kind:yt})},function(){var ct=lt(this),yt=ct.target,pt=ct.kind,ut=ct.index++;return!yt||ut>=yt.length?(ct.target=void 0,{value:void 0,done:!0}):pt=="keys"?{value:ut,done:!1}:pt=="values"?{value:yt[ut],done:!1}:{value:[ut,yt[ut]],done:!1}},"values");var gt=$.Arguments=$.Array;if(_("keys"),_("values"),_("entries"),!nt&&it&&gt.name!=="values")try{et(gt,"name",{value:"values"})}catch{}},i=>{i.exports={}},(i,s,a)=>{var o=a(6),_=a(11),$=a(37),j=a(51),et=a(23),rt=a(90),nt=a(82),it=a(84),ot=a(92),at=a(45),lt=a(49),gt=a(35),ct=a(88),yt=a(91),pt=j.PROPER,ut=j.CONFIGURABLE,ht=yt.IteratorPrototype,mt=yt.BUGGY_SAFARI_ITERATORS,dt=gt("iterator"),vt="keys",St="values",_t="entries",Et=function(){return this};i.exports=function(Pt,Mt,Rt,Ut,Ct,Kt,Gt){rt(Rt,Mt,Ut);var It=function(er){if(er===Ct&&tr)return tr;if(!mt&&er in Jt)return Jt[er];switch(er){case vt:return function(){return new Rt(this,er)};case St:return function(){return new Rt(this,er)};case _t:return function(){return new Rt(this,er)}}return function(){return new Rt(this)}},jt=Mt+" Iterator",$t=!1,Jt=Pt.prototype,Wt=Jt[dt]||Jt["@@iterator"]||Ct&&Jt[Ct],tr=!mt&&Wt||It(Ct),mr=Mt=="Array"&&Jt.entries||Wt,Yt,kt,Ft;if(mr&&(Yt=nt(mr.call(new Pt)),Yt!==Object.prototype&&Yt.next&&(!$&&nt(Yt)!==ht&&(it?it(Yt,ht):et(Yt[dt])||lt(Yt,dt,Et)),ot(Yt,jt,!0,!0),$&&(ct[jt]=Et))),pt&&Ct==St&&Wt&&Wt.name!==St&&(!$&&ut?at(Jt,"name",St):($t=!0,tr=function(){return _(Wt,this)})),Ct)if(kt={values:It(St),keys:Kt?tr:It(vt),entries:It(_t)},Gt)for(Ft in kt)(mt||$t||!(Ft in Jt))&&lt(Jt,Ft,kt[Ft]);else o({target:Mt,proto:!0,forced:mt||$t},kt);return(!$||Gt)&&Jt[dt]!==tr&&lt(Jt,dt,tr,{name:Ct}),ct[Mt]=tr,kt}},(i,s,a)=>{var o=a(91).IteratorPrototype,_=a(71),$=a(14),j=a(92),et=a(88),rt=function(){return this};i.exports=function(nt,it,ot,at){var lt=it+" Iterator";return nt.prototype=_(o,{next:$(+!at,ot)}),j(nt,lt,!1,!0),et[lt]=rt,nt}},(i,s,a)=>{var o=a(10),_=a(23),$=a(71),j=a(82),et=a(49),rt=a(35),nt=a(37),it=rt("iterator"),ot=!1,at,lt,gt;[].keys&&(gt=[].keys(),"next"in gt?(lt=j(j(gt)),lt!==Object.prototype&&(at=lt)):ot=!0);var ct=at==null||o(function(){var yt={};return at[it].call(yt)!==yt});ct?at={}:nt&&(at=$(at)),_(at[it])||et(at,it,function(){return this}),i.exports={IteratorPrototype:at,BUGGY_SAFARI_ITERATORS:ot}},(i,s,a)=>{var o=a(46).f,_=a(40),$=a(35),j=$("toStringTag");i.exports=function(et,rt,nt){et&&!nt&&(et=et.prototype),et&&!_(et,j)&&o(et,j,{configurable:!0,value:rt})}},(i,s,a)=>{var o=a(81),_=a(49),$=a(94);o||_(Object.prototype,"toString",$,{unsafe:!0})},(i,s,a)=>{var o=a(81),_=a(80);i.exports=o?{}.toString:function(){return"[object "+_(this)+"]"}},(i,s,a)=>{a(96)},(i,s,a)=>{var o=a(97),_=a(114);o("Map",function($){return function(){return $(this,arguments.length?arguments[0]:void 0)}},_)},(i,s,a)=>{var o=a(6),_=a(7),$=a(17),j=a(69),et=a(49),rt=a(98),nt=a(105),it=a(111),ot=a(23),at=a(22),lt=a(10),gt=a(112),ct=a(92),yt=a(113);i.exports=function(pt,ut,ht){var mt=pt.indexOf("Map")!==-1,dt=pt.indexOf("Weak")!==-1,vt=mt?"set":"add",St=_[pt],_t=St&&St.prototype,Et=St,Pt={},Mt=function(jt){var $t=$(_t[jt]);et(_t,jt,jt=="add"?function(Wt){return $t(this,Wt===0?0:Wt),this}:jt=="delete"?function(Jt){return dt&&!at(Jt)?!1:$t(this,Jt===0?0:Jt)}:jt=="get"?function(Wt){return dt&&!at(Wt)?void 0:$t(this,Wt===0?0:Wt)}:jt=="has"?function(Wt){return dt&&!at(Wt)?!1:$t(this,Wt===0?0:Wt)}:function(Wt,tr){return $t(this,Wt===0?0:Wt,tr),this})},Rt=j(pt,!ot(St)||!(dt||_t.forEach&&!lt(function(){new St().entries().next()})));if(Rt)Et=ht.getConstructor(ut,pt,mt,vt),rt.enable();else if(j(pt,!0)){var Ut=new Et,Ct=Ut[vt](dt?{}:-0,1)!=Ut,Kt=lt(function(){Ut.has(1)}),Gt=gt(function(jt){new St(jt)}),It=!dt&&lt(function(){for(var jt=new St,$t=5;$t--;)jt[vt]($t,$t);return!jt.has(-0)});Gt||(Et=ut(function(jt,$t){it(jt,_t);var Jt=yt(new St,jt,Et);return $t!=null&&nt($t,Jt[vt],{that:Jt,AS_ENTRIES:mt}),Jt}),Et.prototype=_t,_t.constructor=Et),(Kt||It)&&(Mt("delete"),Mt("has"),mt&&Mt("get")),(It||Ct)&&Mt(vt),dt&&_t.clear&&delete _t.clear}return Pt[pt]=Et,o({global:!0,constructor:!0,forced:Et!=St},Pt),ct(Et,pt),dt||ht.setStrong(Et,pt,mt),Et}},(i,s,a)=>{var o=a(6),_=a(17),$=a(56),j=a(22),et=a(40),rt=a(46).f,nt=a(59),it=a(99),ot=a(102),at=a(42),lt=a(104),gt=!1,ct=at("meta"),yt=0,pt=function(St){rt(St,ct,{value:{objectID:"O"+yt++,weakData:{}}})},ut=function(St,_t){if(!j(St))return typeof St=="symbol"?St:(typeof St=="string"?"S":"P")+St;if(!et(St,ct)){if(!ot(St))return"F";if(!_t)return"E";pt(St)}return St[ct].objectID},ht=function(St,_t){if(!et(St,ct)){if(!ot(St))return!0;if(!_t)return!1;pt(St)}return St[ct].weakData},mt=function(St){return lt&&gt&&ot(St)&&!et(St,ct)&&pt(St),St},dt=function(){vt.enable=function(){},gt=!0;var St=nt.f,_t=_([].splice),Et={};Et[ct]=1,St(Et).length&&(nt.f=function(Pt){for(var Mt=St(Pt),Rt=0,Ut=Mt.length;Rt<Ut;Rt++)if(Mt[Rt]===ct){_t(Mt,Rt,1);break}return Mt},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:it.f}))},vt=i.exports={enable:dt,fastKey:ut,getWeakData:ht,onFreeze:mt};$[ct]=!0},(i,s,a)=>{var o=a(18),_=a(15),$=a(59).f,j=a(100),et=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],rt=function(nt){try{return $(nt)}catch{return j(et)}};i.exports.f=function(it){return et&&o(it)=="Window"?rt(it):$(_(it))}},(i,s,a)=>{var o=a(62),_=a(65),$=a(101),j=Array,et=Math.max;i.exports=function(rt,nt,it){for(var ot=_(rt),at=o(nt,ot),lt=o(it===void 0?ot:it,ot),gt=j(et(lt-at,0)),ct=0;at<lt;at++,ct++)$(gt,ct,rt[at]);return gt.length=ct,gt}},(i,s,a)=>{var o=a(20),_=a(46),$=a(14);i.exports=function(j,et,rt){var nt=o(et);nt in j?_.f(j,nt,$(0,rt)):j[nt]=rt}},(i,s,a)=>{var o=a(10),_=a(22),$=a(18),j=a(103),et=Object.isExtensible,rt=o(function(){});i.exports=rt||j?function(it){return!_(it)||j&&$(it)=="ArrayBuffer"?!1:et?et(it):!0}:et},(i,s,a)=>{var o=a(10);i.exports=o(function(){if(typeof ArrayBuffer=="function"){var _=new ArrayBuffer(8);Object.isExtensible(_)&&Object.defineProperty(_,"a",{value:8})}})},(i,s,a)=>{var o=a(10);i.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},(i,s,a)=>{var o=a(106),_=a(11),$=a(48),j=a(33),et=a(107),rt=a(65),nt=a(26),it=a(108),ot=a(109),at=a(110),lt=TypeError,gt=function(yt,pt){this.stopped=yt,this.result=pt},ct=gt.prototype;i.exports=function(yt,pt,ut){var ht=ut&&ut.that,mt=!!(ut&&ut.AS_ENTRIES),dt=!!(ut&&ut.IS_RECORD),vt=!!(ut&&ut.IS_ITERATOR),St=!!(ut&&ut.INTERRUPTED),_t=o(pt,ht),Et,Pt,Mt,Rt,Ut,Ct,Kt,Gt=function(jt){return Et&&at(Et,"normal",jt),new gt(!0,jt)},It=function(jt){return mt?($(jt),St?_t(jt[0],jt[1],Gt):_t(jt[0],jt[1])):St?_t(jt,Gt):_t(jt)};if(dt)Et=yt.iterator;else if(vt)Et=yt;else{if(Pt=ot(yt),!Pt)throw lt(j(yt)+" is not iterable");if(et(Pt)){for(Mt=0,Rt=rt(yt);Rt>Mt;Mt++)if(Ut=It(yt[Mt]),Ut&&nt(ct,Ut))return Ut;return new gt(!1)}Et=it(yt,Pt)}for(Ct=dt?yt.next:Et.next;!(Kt=_(Ct,Et)).done;){try{Ut=It(Kt.value)}catch(jt){at(Et,"throw",jt)}if(typeof Ut=="object"&&Ut&&nt(ct,Ut))return Ut}return new gt(!1)}},(i,s,a)=>{var o=a(17),_=a(32),$=a(12),j=o(o.bind);i.exports=function(et,rt){return _(et),rt===void 0?et:$?j(et,rt):function(){return et.apply(rt,arguments)}}},(i,s,a)=>{var o=a(35),_=a(88),$=o("iterator"),j=Array.prototype;i.exports=function(et){return et!==void 0&&(_.Array===et||j[$]===et)}},(i,s,a)=>{var o=a(11),_=a(32),$=a(48),j=a(33),et=a(109),rt=TypeError;i.exports=function(nt,it){var ot=arguments.length<2?et(nt):it;if(_(ot))return $(o(ot,nt));throw rt(j(nt)+" is not iterable")}},(i,s,a)=>{var o=a(80),_=a(31),$=a(88),j=a(35),et=j("iterator");i.exports=function(rt){if(rt!=null)return _(rt,et)||_(rt,"@@iterator")||$[o(rt)]}},(i,s,a)=>{var o=a(11),_=a(48),$=a(31);i.exports=function(j,et,rt){var nt,it;_(j);try{if(nt=$(j,"return"),!nt){if(et==="throw")throw rt;return rt}nt=o(nt,j)}catch(ot){it=!0,nt=ot}if(et==="throw")throw rt;if(it)throw nt;return _(nt),rt}},(i,s,a)=>{var o=a(26),_=TypeError;i.exports=function($,j){if(o(j,$))return $;throw _("Incorrect invocation")}},(i,s,a)=>{var o=a(35),_=o("iterator"),$=!1;try{var j=0,et={next:function(){return{done:!!j++}},return:function(){$=!0}};et[_]=function(){return this},Array.from(et,function(){throw 2})}catch{}i.exports=function(rt,nt){if(!nt&&!$)return!1;var it=!1;try{var ot={};ot[_]=function(){return{next:function(){return{done:it=!0}}}},rt(ot)}catch{}return it}},(i,s,a)=>{var o=a(23),_=a(22),$=a(84);i.exports=function(j,et,rt){var nt,it;return $&&o(nt=et.constructor)&&nt!==rt&&_(it=nt.prototype)&&it!==rt.prototype&&$(j,it),j}},(i,s,a)=>{var o=a(46).f,_=a(71),$=a(115),j=a(106),et=a(111),rt=a(105),nt=a(89),it=a(116),ot=a(9),at=a(98).fastKey,lt=a(53),gt=lt.set,ct=lt.getterFor;i.exports={getConstructor:function(yt,pt,ut,ht){var mt=yt(function(Et,Pt){et(Et,dt),gt(Et,{type:pt,index:_(null),first:void 0,last:void 0,size:0}),ot||(Et.size=0),Pt!=null&&rt(Pt,Et[ht],{that:Et,AS_ENTRIES:ut})}),dt=mt.prototype,vt=ct(pt),St=function(Et,Pt,Mt){var Rt=vt(Et),Ut=_t(Et,Pt),Ct,Kt;return Ut?Ut.value=Mt:(Rt.last=Ut={index:Kt=at(Pt,!0),key:Pt,value:Mt,previous:Ct=Rt.last,next:void 0,removed:!1},Rt.first||(Rt.first=Ut),Ct&&(Ct.next=Ut),ot?Rt.size++:Et.size++,Kt!=="F"&&(Rt.index[Kt]=Ut)),Et},_t=function(Et,Pt){var Mt=vt(Et),Rt=at(Pt),Ut;if(Rt!=="F")return Mt.index[Rt];for(Ut=Mt.first;Ut;Ut=Ut.next)if(Ut.key==Pt)return Ut};return $(dt,{clear:function(){for(var Pt=this,Mt=vt(Pt),Rt=Mt.index,Ut=Mt.first;Ut;)Ut.removed=!0,Ut.previous&&(Ut.previous=Ut.previous.next=void 0),delete Rt[Ut.index],Ut=Ut.next;Mt.first=Mt.last=void 0,ot?Mt.size=0:Pt.size=0},delete:function(Et){var Pt=this,Mt=vt(Pt),Rt=_t(Pt,Et);if(Rt){var Ut=Rt.next,Ct=Rt.previous;delete Mt.index[Rt.index],Rt.removed=!0,Ct&&(Ct.next=Ut),Ut&&(Ut.previous=Ct),Mt.first==Rt&&(Mt.first=Ut),Mt.last==Rt&&(Mt.last=Ct),ot?Mt.size--:Pt.size--}return!!Rt},forEach:function(Pt){for(var Mt=vt(this),Rt=j(Pt,arguments.length>1?arguments[1]:void 0),Ut;Ut=Ut?Ut.next:Mt.first;)for(Rt(Ut.value,Ut.key,this);Ut&&Ut.removed;)Ut=Ut.previous},has:function(Pt){return!!_t(this,Pt)}}),$(dt,ut?{get:function(Pt){var Mt=_t(this,Pt);return Mt&&Mt.value},set:function(Pt,Mt){return St(this,Pt===0?0:Pt,Mt)}}:{add:function(Pt){return St(this,Pt=Pt===0?0:Pt,Pt)}}),ot&&o(dt,"size",{get:function(){return vt(this).size}}),mt},setStrong:function(yt,pt,ut){var ht=pt+" Iterator",mt=ct(pt),dt=ct(ht);nt(yt,pt,function(vt,St){gt(this,{type:ht,target:vt,state:mt(vt),kind:St,last:void 0})},function(){for(var vt=dt(this),St=vt.kind,_t=vt.last;_t&&_t.removed;)_t=_t.previous;return!vt.target||!(vt.last=_t=_t?_t.next:vt.state.first)?(vt.target=void 0,{value:void 0,done:!0}):St=="keys"?{value:_t.key,done:!1}:St=="values"?{value:_t.value,done:!1}:{value:[_t.key,_t.value],done:!1}},ut?"entries":"values",!ut,!0),it(pt)}}},(i,s,a)=>{var o=a(49);i.exports=function(_,$,j){for(var et in $)o(_,et,$[et],j);return _}},(i,s,a)=>{var o=a(25),_=a(46),$=a(35),j=a(9),et=$("species");i.exports=function(rt){var nt=o(rt),it=_.f;j&&nt&&!nt[et]&&it(nt,et,{configurable:!0,get:function(){return this}})}},(i,s,a)=>{a(118)},(i,s,a)=>{var o=a(97),_=a(114);o("Set",function($){return function(){return $(this,arguments.length?arguments[0]:void 0)}},_)},(i,s,a)=>{var o=a(37),_=a(6),$=a(7),j=a(25),et=a(17),rt=a(10),nt=a(42),it=a(23),ot=a(120),at=a(22),lt=a(24),gt=a(105),ct=a(48),yt=a(80),pt=a(40),ut=a(101),ht=a(45),mt=a(65),dt=a(121),vt=a(122),St=a(124),_t=a(29),Et=a(125),Pt=a(126),Mt=a(127),Rt=$.Object,Ut=$.Date,Ct=$.Error,Kt=$.EvalError,Gt=$.RangeError,It=$.ReferenceError,jt=$.SyntaxError,$t=$.TypeError,Jt=$.URIError,Wt=$.PerformanceMark,tr=$.WebAssembly,mr=tr&&tr.CompileError||Ct,Yt=tr&&tr.LinkError||Ct,kt=tr&&tr.RuntimeError||Ct,Ft=j("DOMException"),er=j("Set"),Zt=j("Map"),At=Zt.prototype,Ot=et(At.has),Dt=et(At.get),zt=et(At.set),Xt=et(er.prototype.add),wt=j("Object","keys"),Vt=et([].push),qt=et((!0).valueOf),Nt=et(1 .valueOf),Bt=et("".valueOf),Qt=et(Ut.prototype.getTime),sr=nt("structuredClone"),lr="DataCloneError",ar="Transferring",vr=function(Ar){return!rt(function(){var Nr=new $.Set([7]),Jr=Ar(Nr),wr=Ar(Rt(7));return Jr==Nr||!Jr.has(7)||typeof wr!="object"||wr!=7})&&Ar},_r=function(Ar,Nr){return!rt(function(){var Jr=new Nr,wr=Ar({a:Jr,b:Jr});return!(wr&&wr.a===wr.b&&wr.a instanceof Nr&&wr.a.stack===Jr.stack)})},Cr=function(Ar){return!rt(function(){var Nr=Ar(new $.AggregateError([1],sr,{cause:3}));return Nr.name!="AggregateError"||Nr.errors[0]!=1||Nr.message!=sr||Nr.cause!=3})},Er=$.structuredClone,qr=o||!_r(Er,Ct)||!_r(Er,Ft)||!Cr(Er),Ur=!Er&&vr(function(Ar){return new Wt(sr,{detail:Ar}).detail}),Vr=vr(Er)||Ur,Dr=function(Ar){throw new Ft("Uncloneable type: "+Ar,lr)},hr=function(Ar,Nr){throw new Ft((Nr||"Cloning")+" of "+Ar+" cannot be properly polyfilled in this engine",lr)},Or=function(Ar,Nr){if(lt(Ar)&&Dr("Symbol"),!at(Ar))return Ar;if(Nr){if(Ot(Nr,Ar))return Dt(Nr,Ar)}else Nr=new Zt;var Jr=yt(Ar),wr=!1,dr,fr,Rr,Yr,Qr,Pr,br,Lr,Hr,nn;switch(Jr){case"Array":Rr=[],wr=!0;break;case"Object":Rr={},wr=!0;break;case"Map":Rr=new Zt,wr=!0;break;case"Set":Rr=new er,wr=!0;break;case"RegExp":Rr=new RegExp(Ar.source,vt(Ar));break;case"Error":switch(fr=Ar.name,fr){case"AggregateError":Rr=j("AggregateError")([]);break;case"EvalError":Rr=Kt();break;case"RangeError":Rr=Gt();break;case"ReferenceError":Rr=It();break;case"SyntaxError":Rr=jt();break;case"TypeError":Rr=$t();break;case"URIError":Rr=Jt();break;case"CompileError":Rr=mr();break;case"LinkError":Rr=Yt();break;case"RuntimeError":Rr=kt();break;default:Rr=Ct()}wr=!0;break;case"DOMException":Rr=new Ft(Ar.message,Ar.name),wr=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":dr=$[Jr],at(dr)||hr(Jr),Rr=new dr(Or(Ar.buffer,Nr),Ar.byteOffset,Jr==="DataView"?Ar.byteLength:Ar.length);break;case"DOMQuad":try{Rr=new DOMQuad(Or(Ar.p1,Nr),Or(Ar.p2,Nr),Or(Ar.p3,Nr),Or(Ar.p4,Nr))}catch{Vr?Rr=Vr(Ar):hr(Jr)}break;case"FileList":if(dr=$.DataTransfer,ot(dr)){for(Yr=new dr,Qr=0,Pr=mt(Ar);Qr<Pr;Qr++)Yr.items.add(Or(Ar[Qr],Nr));Rr=Yr.files}else Vr?Rr=Vr(Ar):hr(Jr);break;case"ImageData":try{Rr=new ImageData(Or(Ar.data,Nr),Ar.width,Ar.height,{colorSpace:Ar.colorSpace})}catch{Vr?Rr=Vr(Ar):hr(Jr)}break;default:if(Vr)Rr=Vr(Ar);else switch(Jr){case"BigInt":Rr=Rt(Ar.valueOf());break;case"Boolean":Rr=Rt(qt(Ar));break;case"Number":Rr=Rt(Nt(Ar));break;case"String":Rr=Rt(Bt(Ar));break;case"Date":Rr=new Ut(Qt(Ar));break;case"ArrayBuffer":dr=$.DataView,!dr&&typeof Ar.slice!="function"&&hr(Jr);try{if(typeof Ar.slice=="function")Rr=Ar.slice(0);else for(Pr=Ar.byteLength,Rr=new ArrayBuffer(Pr),Hr=new dr(Ar),nn=new dr(Rr),Qr=0;Qr<Pr;Qr++)nn.setUint8(Qr,Hr.getUint8(Qr))}catch{throw new Ft("ArrayBuffer is detached",lr)}break;case"SharedArrayBuffer":Rr=Ar;break;case"Blob":try{Rr=Ar.slice(0,Ar.size,Ar.type)}catch{hr(Jr)}break;case"DOMPoint":case"DOMPointReadOnly":dr=$[Jr];try{Rr=dr.fromPoint?dr.fromPoint(Ar):new dr(Ar.x,Ar.y,Ar.z,Ar.w)}catch{hr(Jr)}break;case"DOMRect":case"DOMRectReadOnly":dr=$[Jr];try{Rr=dr.fromRect?dr.fromRect(Ar):new dr(Ar.x,Ar.y,Ar.width,Ar.height)}catch{hr(Jr)}break;case"DOMMatrix":case"DOMMatrixReadOnly":dr=$[Jr];try{Rr=dr.fromMatrix?dr.fromMatrix(Ar):new dr(Ar)}catch{hr(Jr)}break;case"AudioData":case"VideoFrame":it(Ar.clone)||hr(Jr);try{Rr=Ar.clone()}catch{Dr(Jr)}break;case"File":try{Rr=new File([Ar],Ar.name,Ar)}catch{hr(Jr)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":hr(Jr);default:Dr(Jr)}}if(zt(Nr,Ar,Rr),wr)switch(Jr){case"Array":case"Object":for(br=wt(Ar),Qr=0,Pr=mt(br);Qr<Pr;Qr++)Lr=br[Qr],ut(Rr,Lr,Or(Ar[Lr],Nr));break;case"Map":Ar.forEach(function(rn,sn){zt(Rr,Or(sn,Nr),Or(rn,Nr))});break;case"Set":Ar.forEach(function(rn){Xt(Rr,Or(rn,Nr))});break;case"Error":ht(Rr,"message",Or(Ar.message,Nr)),pt(Ar,"cause")&&ht(Rr,"cause",Or(Ar.cause,Nr)),fr=="AggregateError"&&(Rr.errors=Or(Ar.errors,Nr));case"DOMException":St&&ht(Rr,"stack",Or(Ar.stack,Nr))}return Rr},Wr=Er&&!rt(function(){if(Pt&&_t>92||Mt&&_t>94||Et&&_t>97)return!1;var Ar=new ArrayBuffer(8),Nr=Er(Ar,{transfer:[Ar]});return Ar.byteLength!=0||Nr.byteLength!=8}),gn=function(Ar,Nr){if(!at(Ar))throw $t("Transfer option cannot be converted to a sequence");var Jr=[];gt(Ar,function(Hr){Vt(Jr,ct(Hr))});var wr=0,dr=mt(Jr),fr,Rr,Yr,Qr,Pr,br,Lr;if(Wr)for(Qr=Er(Jr,{transfer:Jr});wr<dr;)zt(Nr,Jr[wr],Qr[wr++]);else for(;wr<dr;){if(fr=Jr[wr++],Ot(Nr,fr))throw new Ft("Duplicate transferable",lr);switch(Rr=yt(fr),Rr){case"ImageBitmap":Yr=$.OffscreenCanvas,ot(Yr)||hr(Rr,ar);try{br=new Yr(fr.width,fr.height),Lr=br.getContext("bitmaprenderer"),Lr.transferFromImageBitmap(fr),Pr=br.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!it(fr.clone)||!it(fr.close))&&hr(Rr,ar);try{Pr=fr.clone(),fr.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":hr(Rr,ar)}if(Pr===void 0)throw new Ft("This object cannot be transferred: "+Rr,lr);zt(Nr,fr,Pr)}};_({global:!0,enumerable:!0,sham:!Wr,forced:qr},{structuredClone:function(Nr){var Jr=dt(arguments.length,1)>1&&arguments[1]!=null?ct(arguments[1]):void 0,wr=Jr?Jr.transfer:void 0,dr;return wr!==void 0&&(dr=new Zt,gn(wr,dr)),Or(Nr,dr)}})},(i,s,a)=>{var o=a(17),_=a(10),$=a(23),j=a(80),et=a(25),rt=a(52),nt=function(){},it=[],ot=et("Reflect","construct"),at=/^\s*(?:class|function)\b/,lt=o(at.exec),gt=!at.exec(nt),ct=function(ut){if(!$(ut))return!1;try{return ot(nt,it,ut),!0}catch{return!1}},yt=function(ut){if(!$(ut))return!1;switch(j(ut)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gt||!!lt(at,rt(ut))}catch{return!0}};yt.sham=!0,i.exports=!ot||_(function(){var pt;return ct(ct.call)||!ct(Object)||!ct(function(){pt=!0})||pt})?yt:ct},i=>{var s=TypeError;i.exports=function(a,o){if(a<o)throw s("Not enough arguments");return a}},(i,s,a)=>{var o=a(11),_=a(40),$=a(26),j=a(123),et=RegExp.prototype;i.exports=function(rt){var nt=rt.flags;return nt===void 0&&!("flags"in et)&&!_(rt,"flags")&&$(et,rt)?o(j,rt):nt}},(i,s,a)=>{var o=a(48);i.exports=function(){var _=o(this),$="";return _.hasIndices&&($+="d"),_.global&&($+="g"),_.ignoreCase&&($+="i"),_.multiline&&($+="m"),_.dotAll&&($+="s"),_.unicode&&($+="u"),_.unicodeSets&&($+="v"),_.sticky&&($+="y"),$}},(i,s,a)=>{var o=a(10),_=a(14);i.exports=!o(function(){var $=Error("a");return"stack"in $?(Object.defineProperty($,"stack",_(1,7)),$.stack!==7):!0})},(i,s,a)=>{var o=a(126),_=a(127);i.exports=!o&&!_&&typeof window=="object"&&typeof document=="object"},i=>{i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(i,s,a)=>{var o=a(18),_=a(7);i.exports=o(_.process)=="process"},(i,s,a)=>{var o=a(7);i.exports=o},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(i,s){_checkPrivateRedeclaration(i,s),s.add(i)}function _classPrivateMethodGet(i,s,a){if(!s.has(i))throw new TypeError("attempted to get private field on non-instance");return a}function _classPrivateFieldInitSpec(i,s,a){_checkPrivateRedeclaration(i,s),s.set(i,a)}function _checkPrivateRedeclaration(i,s){if(s.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(i,s,a){var o=_classExtractFieldDescriptor(i,s,"set");return _classApplyDescriptorSet(i,o,a),a}function _classPrivateFieldGet(i,s){var a=_classExtractFieldDescriptor(i,s,"get");return _classApplyDescriptorGet(i,a)}function _classExtractFieldDescriptor(i,s,a){if(!s.has(i))throw new TypeError("attempted to "+a+" private field on non-instance");return s.get(i)}function _classStaticPrivateFieldSpecSet(i,s,a,o){return _classCheckPrivateStaticAccess(i,s),_classCheckPrivateStaticFieldDescriptor(a,"set"),_classApplyDescriptorSet(i,a,o),o}function _classApplyDescriptorSet(i,s,a){if(s.set)s.set.call(i,a);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=a}}function _classStaticPrivateFieldSpecGet(i,s,a){return _classCheckPrivateStaticAccess(i,s),_classCheckPrivateStaticFieldDescriptor(a,"get"),_classApplyDescriptorGet(i,a)}function _classCheckPrivateStaticFieldDescriptor(i,s){if(i===void 0)throw new TypeError("attempted to "+s+" private static field before its declaration")}function _classCheckPrivateStaticAccess(i,s){if(i!==s)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(i,s){return s.get?s.get.call(i):s.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:i,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:a}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=i,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=a}let createPDFNetworkStream;function setPDFNetworkStreamFactory(i){createPDFNetworkStream=i}function getDocument(i){const s=new PDFDocumentLoadingTask;let a;if(typeof i=="string"||i instanceof URL)a={url:i};else if((0,_util.isArrayBuffer)(i))a={data:i};else if(i instanceof PDFDataRangeTransport)a={range:i};else{if(typeof i!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");a=i}const o=Object.create(null);let _=null,$=null;for(const et in a){const rt=a[et];switch(et){case"url":if(typeof window<"u")try{o[et]=new URL(rt,window.location).href;continue}catch(nt){(0,_util.warn)(`Cannot create valid URL: "${nt}".`)}else if(typeof rt=="string"||rt instanceof URL){o[et]=rt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":_=rt;continue;case"worker":$=rt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&rt instanceof Buffer)o[et]=new Uint8Array(rt);else{if(rt instanceof Uint8Array)break;if(typeof rt=="string")o[et]=(0,_util.stringToBytes)(rt);else if(typeof rt=="object"&&rt!==null&&!isNaN(rt.length))o[et]=new Uint8Array(rt);else if((0,_util.isArrayBuffer)(rt))o[et]=new Uint8Array(rt);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}o[et]=rt}if(o.CMapReaderFactory=o.CMapReaderFactory||DefaultCMapReaderFactory,o.StandardFontDataFactory=o.StandardFontDataFactory||DefaultStandardFontDataFactory,o.ignoreErrors=o.stopAtErrors!==!0,o.fontExtraProperties=o.fontExtraProperties===!0,o.pdfBug=o.pdfBug===!0,o.enableXfa=o.enableXfa===!0,(!Number.isInteger(o.rangeChunkSize)||o.rangeChunkSize<1)&&(o.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof o.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(o.docBaseUrl))&&(o.docBaseUrl=null),(!Number.isInteger(o.maxImageSize)||o.maxImageSize<-1)&&(o.maxImageSize=-1),typeof o.cMapUrl!="string"&&(o.cMapUrl=null),typeof o.standardFontDataUrl!="string"&&(o.standardFontDataUrl=null),typeof o.useWorkerFetch!="boolean"&&(o.useWorkerFetch=o.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&o.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof o.isEvalSupported!="boolean"&&(o.isEvalSupported=!0),typeof o.disableFontFace!="boolean"&&(o.disableFontFace=_is_node.isNodeJS),typeof o.useSystemFonts!="boolean"&&(o.useSystemFonts=!_is_node.isNodeJS&&!o.disableFontFace),(typeof o.ownerDocument!="object"||o.ownerDocument===null)&&(o.ownerDocument=globalThis.document),typeof o.disableRange!="boolean"&&(o.disableRange=!1),typeof o.disableStream!="boolean"&&(o.disableStream=!1),typeof o.disableAutoFetch!="boolean"&&(o.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(o.verbosity),!$){const et={verbosity:o.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};$=et.port?PDFWorker.fromPort(et):new PDFWorker(et),s._worker=$}const j=s.docId;return $.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const et=_fetchDocument($,o,_,j),rt=new Promise(function(nt){let it;_?it=new _transport_stream.PDFDataTransportStream({length:o.length,initialData:o.initialData,progressiveDone:o.progressiveDone,contentDispositionFilename:o.contentDispositionFilename,disableRange:o.disableRange,disableStream:o.disableStream},_):o.data||(it=createPDFNetworkStream({url:o.url,length:o.length,httpHeaders:o.httpHeaders,withCredentials:o.withCredentials,rangeChunkSize:o.rangeChunkSize,disableRange:o.disableRange,disableStream:o.disableStream})),nt(it)});return Promise.all([et,rt]).then(function(nt){let[it,ot]=nt;if(s.destroyed)throw new Error("Loading aborted");const at=new _message_handler.MessageHandler(j,it,$.port),lt=new WorkerTransport(at,s,ot,o);s._transport=lt,at.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(i,s,a,o){if(i.destroyed)throw new Error("Worker was destroyed");a&&(s.length=a.length,s.initialData=a.initialData,s.progressiveDone=a.progressiveDone,s.contentDispositionFilename=a.contentDispositionFilename);const _=await i.messageHandler.sendWithPromise("GetDocRequest",{docId:o,apiVersion:"2.16.105",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(s.data&&(s.data=null),i.destroyed)throw new Error("Worker was destroyed");return _}class PDFDocumentLoadingTask{constructor(){var s,a;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(s=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),a=s++,s)),a}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var s;this.destroyed=!0,await((s=this._transport)===null||s===void 0?void 0:s.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(s,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=s,this.initialData=a,this.progressiveDone=o,this.contentDispositionFilename=_,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,a){for(const o of this._rangeListeners)o(s,a)}onDataProgress(s,a){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(s,a)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const a of this._progressiveReadListeners)a(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,a){this._pdfInfo=s,this._transport=a,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,a,o,_){let $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=s,this._pageInfo=a,this._ownerDocument=_,this._transport=o,this._stats=$?new _display_utils.StatTimer:null,this._pdfBug=$,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:s,rotation:a=this.rotate,offsetX:o=0,offsetY:_=0,dontFlip:$=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:a,offsetX:o,offsetY:_,dontFlip:$})}getAnnotations(){let{intent:s="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=this._transport.getRenderingIntent(s);let o=this._annotationPromises.get(a.cacheKey);return o||(o=this._transport.getAnnotations(this._pageIndex,a.renderingIntent),this._annotationPromises.set(a.cacheKey,o),o=o.then(_=>{for(const $ of _)$.titleObj!==void 0&&Object.defineProperty($,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),$.titleObj.str}}),$.contentsObj!==void 0&&Object.defineProperty($,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),$.contentsObj.str}});return _})),o}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var s;return((s=this._transport._htmlForXfa)===null||s===void 0?void 0:s.children[this._pageIndex])||null}render(s){var a,o,_;let{canvasContext:$,viewport:j,intent:et="display",annotationMode:rt=_util.AnnotationMode.ENABLE,transform:nt=null,imageLayer:it=null,canvasFactory:ot=null,background:at=null,optionalContentConfigPromise:lt=null,annotationCanvasMap:gt=null,pageColors:ct=null,printAnnotationStorage:yt=null}=s;((a=arguments[0])===null||a===void 0?void 0:a.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_FORMS)),((o=arguments[0])===null||o===void 0?void 0:o.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const pt=this._transport.getRenderingIntent(et,rt,yt);this.pendingCleanup=!1,lt||(lt=this._transport.getOptionalContentConfig());let ut=this._intentStates.get(pt.cacheKey);ut||(ut=Object.create(null),this._intentStates.set(pt.cacheKey,ut)),ut.streamReaderCancelTimeout&&(clearTimeout(ut.streamReaderCancelTimeout),ut.streamReaderCancelTimeout=null);const ht=ot||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),mt=!!(pt.renderingIntent&_util.RenderingIntentFlag.PRINT);ut.displayReadyCapability||(ut.displayReadyCapability=(0,_util.createPromiseCapability)(),ut.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(pt));const dt=_t=>{ut.renderTasks.delete(vt),(this.cleanupAfterRender||mt)&&(this.pendingCleanup=!0),this._tryCleanup(),_t?(vt.capability.reject(_t),this._abortOperatorList({intentState:ut,reason:_t instanceof Error?_t:new Error(_t)})):vt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},vt=new InternalRenderTask({callback:dt,params:{canvasContext:$,viewport:j,transform:nt,imageLayer:it,background:at},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:gt,operatorList:ut.operatorList,pageIndex:this._pageIndex,canvasFactory:ht,useRequestAnimationFrame:!mt,pdfBug:this._pdfBug,pageColors:ct});((_=ut).renderTasks||(_.renderTasks=new Set)).add(vt);const St=vt.task;return Promise.all([ut.displayReadyCapability.promise,lt]).then(_t=>{let[Et,Pt]=_t;if(this.pendingCleanup){dt();return}this._stats&&this._stats.time("Rendering"),vt.initializeGraphics({transparency:Et,optionalContentConfig:Pt}),vt.operatorListChanged()}).catch(dt),St}getOperatorList(){let{intent:s="display",annotationMode:a=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function _(){j.operatorList.lastChunk&&(j.opListReadCapability.resolve(j.operatorList),j.renderTasks.delete(et))}const $=this._transport.getRenderingIntent(s,a,o,!0);let j=this._intentStates.get($.cacheKey);j||(j=Object.create(null),this._intentStates.set($.cacheKey,j));let et;if(!j.opListReadCapability){var rt;et=Object.create(null),et.operatorListChanged=_,j.opListReadCapability=(0,_util.createPromiseCapability)(),((rt=j).renderTasks||(rt.renderTasks=new Set)).add(et),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList($)}return j.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:s=!1,includeMarkedContent:a=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:s!==!0,includeMarkedContent:a===!0},{highWaterMark:100,size(_){return _.items.length}})}getTextContent(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const a=this.streamTextContent(s);return new Promise(function(o,_){function $(){j.read().then(function(rt){let{value:nt,done:it}=rt;if(it){o(et);return}Object.assign(et.styles,nt.styles),et.items.push(...nt.items),$()},_)}const j=a.getReader(),et={items:[],styles:Object.create(null)};$()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const a of this._intentStates.values())if(this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0}),!a.opListReadCapability)for(const o of a.renderTasks)s.push(o.completed),o.cancel();this.objs.clear();for(const a of this._bitmaps)a.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:a,operatorList:o}of this._intentStates.values())if(a.size>0||!o.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const a of this._bitmaps)a.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,a){const o=this._intentStates.get(a);o&&(this._stats&&this._stats.timeEnd("Page Request"),o.displayReadyCapability&&o.displayReadyCapability.resolve(s))}_renderPageChunk(s,a){for(let o=0,_=s.length;o<_;o++)a.operatorList.fnArray.push(s.fnArray[o]),a.operatorList.argsArray.push(s.argsArray[o]);a.operatorList.lastChunk=s.lastChunk,a.operatorList.separateAnnots=s.separateAnnots;for(const o of a.renderTasks)o.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList(s){let{renderingIntent:a,cacheKey:o,annotationStorageMap:_}=s;const j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:o,annotationStorage:_}).getReader(),et=this._intentStates.get(o);et.streamReader=j;const rt=()=>{j.read().then(nt=>{let{value:it,done:ot}=nt;if(ot){et.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(it,et),rt())},nt=>{if(et.streamReader=null,!this._transport.destroyed){if(et.operatorList){et.operatorList.lastChunk=!0;for(const it of et.renderTasks)it.operatorListChanged();this._tryCleanup()}if(et.displayReadyCapability)et.displayReadyCapability.reject(nt);else if(et.opListReadCapability)et.opListReadCapability.reject(nt);else throw nt}})};rt()}_abortOperatorList(s){let{intentState:a,reason:o,force:_=!1}=s;if(a.streamReader){if(!_){if(a.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:o,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[$,j]of this._intentStates)if(j===a){this._intentStates.delete($);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,a){const o={data:structuredClone(s,a)};this._deferred.then(()=>{for(const _ of this._listeners)_.call(this,o)})}addEventListener(s,a){this._listeners.push(a)}removeEventListener(s,a){const o=this._listeners.indexOf(a);this._listeners.splice(o,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const i=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;i&&(PDFWorkerUtil.fallbackWorkerSrc=i.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(i,s){let a;try{if(a=new URL(i),!a.origin||a.origin==="null")return!1}catch{return!1}const o=new URL(s,a);return a.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(i){const s=`importScripts("${i}");`;return URL.createObjectURL(new Blob([s]))}}class PDFWorker{constructor(){let{name:i=null,port:s=null,verbosity:a=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(s&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=i,this.destroyed=!1,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s){_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:i}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));const s=new Worker(i),a=new _message_handler.MessageHandler("main","worker",s),o=()=>{s.removeEventListener("error",_),a.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_=()=>{this._webWorker||o()};s.addEventListener("error",_),a.on("test",j=>{if(s.removeEventListener("error",_),this.destroyed){o();return}j?(this._messageHandler=a,this._port=s,this._webWorker=s,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),a.destroy(),s.terminate())}),a.on("ready",j=>{if(s.removeEventListener("error",_),this.destroyed){o();return}try{$()}catch{this._setupFakeWorker()}});const $=()=>{const j=new Uint8Array;a.send("test",j,[j.buffer])};$();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const a=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(a+"_worker",a,s);i.setup(o,s);const _=new _message_handler.MessageHandler(a,a+"_worker",s);this._messageHandler=_,this._readyCapability.resolve(),_.send("configure",{verbosity:this.verbosity})}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!(i!=null&&i.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(i.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(i.port):new PDFWorker(i)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var i;return((i=globalThis.pdfjsWorker)===null||i===void 0?void 0:i.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;var _workerPorts={value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(s,a,o,_){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=s,this.loadingTask=a,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:a.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:_.ownerDocument,styleElement:_.styleElement}),this._params=_,_.useWorkerFetch||(this.CMapReaderFactory=new _.CMapReaderFactory({baseUrl:_.cMapUrl,isCompressed:_.cMapPacked}),this.StandardFontDataFactory=new _.StandardFontDataFactory({baseUrl:_.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,$=_util.RenderingIntentFlag.DISPLAY,j=null;switch(s){case"any":$=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":$=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(a){case _util.AnnotationMode.DISABLE:$+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:$+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:$+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,j=($&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${a}`)}return _&&($+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:$,cacheKey:`${$}_${_annotation_storage.AnnotationStorage.getHash(j)}`,annotationStorageMap:j}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const o of _classPrivateFieldGet(this,_pageCache).values())s.push(o._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const a=this.messageHandler.sendWithPromise("Terminate",null);return s.push(a),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:a}=this;s.on("GetReader",(o,_)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=$=>{this._lastProgress={loaded:$.loaded,total:$.total}},_.onPull=()=>{this._fullReader.read().then(function($){let{value:j,done:et}=$;if(et){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(j),"GetReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(j),1,[j])}).catch($=>{_.error($)})},_.onCancel=$=>{this._fullReader.cancel($),_.ready.catch(j=>{if(!this.destroyed)throw j})}}),s.on("ReaderHeadersReady",o=>{const _=(0,_util.createPromiseCapability)(),$=this._fullReader;return $.headersReady.then(()=>{if(!$.isStreamingSupported||!$.isRangeSupported){if(this._lastProgress){var j;(j=a.onProgress)===null||j===void 0||j.call(a,this._lastProgress)}$.onProgress=et=>{var rt;(rt=a.onProgress)===null||rt===void 0||rt.call(a,{loaded:et.loaded,total:et.total})}}_.resolve({isStreamingSupported:$.isStreamingSupported,isRangeSupported:$.isRangeSupported,contentLength:$.contentLength})},_.reject),_.promise}),s.on("GetRangeReader",(o,_)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const $=this._networkStream.getRangeReader(o.begin,o.end);if(!$){_.close();return}_.onPull=()=>{$.read().then(function(j){let{value:et,done:rt}=j;if(rt){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(et),"GetRangeReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(et),1,[et])}).catch(j=>{_.error(j)})},_.onCancel=j=>{$.cancel(j),_.ready.catch(et=>{if(!this.destroyed)throw et})}}),s.on("GetDoc",o=>{let{pdfInfo:_}=o;this._numPages=_.numPages,this._htmlForXfa=_.htmlForXfa,delete _.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(_,this))}),s.on("DocException",function(o){let _;switch(o.name){case"PasswordException":_=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":_=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":_=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":_=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":_=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(_)}),s.on("PasswordRequest",o=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){const _=$=>{$ instanceof Error?this._passwordCapability.reject($):this._passwordCapability.resolve({password:$})};try{a.onPassword(_,o.code)}catch($){this._passwordCapability.reject($)}}else this._passwordCapability.reject(new _util.PasswordException(o.message,o.code));return this._passwordCapability.promise}),s.on("DataLoaded",o=>{var _;(_=a.onProgress)===null||_===void 0||_.call(a,{loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),s.on("StartRenderPage",o=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),s.on("commonobj",o=>{var _;let[$,j,et]=o;if(!this.destroyed&&!this.commonObjs.has($))switch(j){case"Font":const rt=this._params;if("error"in et){const ot=et.error;(0,_util.warn)(`Error during font loading: ${ot}`),this.commonObjs.resolve($,ot);break}let nt=null;rt.pdfBug&&(_=globalThis.FontInspector)!==null&&_!==void 0&&_.enabled&&(nt={registerFont(ot,at){globalThis.FontInspector.fontAdded(ot,at)}});const it=new _font_loader.FontFaceObject(et,{isEvalSupported:rt.isEvalSupported,disableFontFace:rt.disableFontFace,ignoreErrors:rt.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:nt});this.fontLoader.bind(it).catch(ot=>s.sendWithPromise("FontFallback",{id:$})).finally(()=>{!rt.fontExtraProperties&&it.data&&(it.data=null),this.commonObjs.resolve($,it)});break;case"FontPath":case"Image":this.commonObjs.resolve($,et);break;default:throw new Error(`Got unknown common object type ${j}`)}}),s.on("obj",o=>{let[_,$,j,et]=o;if(this.destroyed)return;const rt=_classPrivateFieldGet(this,_pageCache).get($);if(!rt.objs.has(_))switch(j){case"Image":rt.objs.resolve(_,et);const it=8e6;if(et){let ot;if(et.bitmap){const{bitmap:at,width:lt,height:gt}=et;ot=lt*gt*4,rt._bitmaps.add(at)}else{var nt;ot=((nt=et.data)===null||nt===void 0?void 0:nt.length)||0}ot>it&&(rt.cleanupAfterRender=!0)}break;case"Pattern":rt.objs.resolve(_,et);break;default:throw new Error(`Got unknown object type ${j}`)}}),s.on("DocProgress",o=>{var _;this.destroyed||(_=a.onProgress)===null||_===void 0||_.call(a,{loaded:o.loaded,total:o.total})}),s.on("DocStats",o=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(o.streamTypes),fontTypes:Object.freeze(o.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(s){var a,o;let{featureId:_}=s;this.destroyed||(a=(o=this.loadingTask).onUnsupportedFeature)===null||a===void 0||a.call(o,_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const a=s-1,o=_classPrivateFieldGet(this,_pagePromises).get(a);if(o)return o;const _=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then($=>{if(this.destroyed)throw new Error("Transport destroyed");const j=new PDFPageProxy(a,$,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(a,j),j});return _classPrivateFieldGet(this,_pagePromises).set(a,_),_}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:a})}saveDocument(){var s,a;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(s=(a=this._fullReader)===null||a===void 0?void 0:a.filename)!==null&&s!==void 0?s:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>{var a,o,_,$;return{info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:(a=(o=this._fullReader)===null||o===void 0?void 0:o.filename)!==null&&a!==void 0?a:null,contentLength:(_=($=this._fullReader)===null||$===void 0?void 0:$.contentLength)!==null&&_!==void 0?_:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const a of _classPrivateFieldGet(this,_pageCache).values())if(!a.cleanup())throw new Error(`startCleanup: Page ${a.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(a){const _=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);return _.capability.promise.then(()=>a(_.data)),null}const o=_classPrivateFieldGet(this,_objs)[s];if(!(o!=null&&o.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return o.data}has(s){const a=_classPrivateFieldGet(this,_objs)[s];return(a==null?void 0:a.capability.settled)||!1}resolve(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);o.data=a,o.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(i){const s=_classPrivateFieldGet(this,_objs)[i];return s||(_classPrivateFieldGet(this,_objs)[i]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(s){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,s),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:s}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!s)return!1;const{annotationCanvasMap:a}=_classPrivateFieldGet(this,_internalRenderTask);return s.form||s.canvas&&(a==null?void 0:a.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(s){let{callback:a,params:o,objs:_,commonObjs:$,annotationCanvasMap:j,operatorList:et,pageIndex:rt,canvasFactory:nt,useRequestAnimationFrame:it=!1,pdfBug:ot=!1,pageColors:at=null}=s;this.callback=a,this.params=o,this.objs=_,this.commonObjs=$,this.annotationCanvasMap=j,this.operatorListIdx=null,this.operatorList=et,this._pageIndex=rt,this.canvasFactory=nt,this._pdfBug=ot,this.pageColors=at,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=it===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(s){var a;let{transparency:o=!1,optionalContentConfig:_}=s;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(a=globalThis.StepperManager)!==null&&a!==void 0&&a.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:$,viewport:j,transform:et,imageLayer:rt,background:nt}=this.params;this.gfx=new _canvas.CanvasGraphics($,this.commonObjs,this.objs,this.canvasFactory,rt,_,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:et,viewport:j,transparency:o,background:nt}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=a(1),_=a(131),$=a(135);function j(mt,dt,vt){lt(mt,dt),dt.set(mt,vt)}function et(mt,dt){var vt=it(mt,dt,"get");return rt(mt,vt)}function rt(mt,dt){return dt.get?dt.get.call(mt):dt.value}function nt(mt,dt,vt){var St=it(mt,dt,"set");return ot(mt,St,vt),vt}function it(mt,dt,vt){if(!dt.has(mt))throw new TypeError("attempted to "+vt+" private field on non-instance");return dt.get(mt)}function ot(mt,dt,vt){if(dt.set)dt.set.call(mt,vt);else{if(!dt.writable)throw new TypeError("attempted to set read only private field");dt.value=vt}}function at(mt,dt){lt(mt,dt),dt.add(mt)}function lt(mt,dt){if(dt.has(mt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gt(mt,dt,vt){if(!dt.has(mt))throw new TypeError("attempted to get private field on non-instance");return vt}var ct=new WeakSet;class yt{constructor(){at(this,ct),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,vt){const St=this._storage.get(dt);return St===void 0?vt:Object.assign(vt,St)}getRawValue(dt){return this._storage.get(dt)}remove(dt){if(this._storage.delete(dt),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const vt of this._storage.values())if(vt instanceof _.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,vt){const St=this._storage.get(dt);let _t=!1;if(St!==void 0)for(const[Et,Pt]of Object.entries(vt))St[Et]!==Pt&&(_t=!0,St[Et]=Pt);else _t=!0,this._storage.set(dt,vt);_t&&gt(this,ct,pt).call(this),vt instanceof _.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(vt.constructor._type)}has(dt){return this._storage.has(dt)}getAll(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ht(this)}get serializable(){if(this._storage.size===0)return null;const dt=new Map;for(const[vt,St]of this._storage){const _t=St instanceof _.AnnotationEditor?St.serialize():St;_t&&dt.set(vt,_t)}return dt}static getHash(dt){if(!dt)return"";const vt=new $.MurmurHash3_64;for(const[St,_t]of dt)vt.update(`${St}:${JSON.stringify(_t)}`);return vt.hexdigest()}}s.AnnotationStorage=yt;function pt(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var ut=new WeakMap;class ht extends yt{constructor(dt){super(),j(this,ut,{writable:!0,value:null}),nt(this,ut,structuredClone(dt.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return et(this,ut)}}s.PrintAnnotationStorage=ht},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=a(132),_=a(1);function $(mt,dt,vt){return dt in mt?Object.defineProperty(mt,dt,{value:vt,enumerable:!0,configurable:!0,writable:!0}):mt[dt]=vt,mt}function j(mt,dt,vt){et(mt,dt),dt.set(mt,vt)}function et(mt,dt){if(dt.has(mt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rt(mt,dt,vt){var St=ot(mt,dt,"set");return nt(mt,St,vt),vt}function nt(mt,dt,vt){if(dt.set)dt.set.call(mt,vt);else{if(!dt.writable)throw new TypeError("attempted to set read only private field");dt.value=vt}}function it(mt,dt){var vt=ot(mt,dt,"get");return at(mt,vt)}function ot(mt,dt,vt){if(!dt.has(mt))throw new TypeError("attempted to "+vt+" private field on non-instance");return dt.get(mt)}function at(mt,dt){return dt.get?dt.get.call(mt):dt.value}var lt=new WeakMap,gt=new WeakMap,ct=new WeakMap,yt=new WeakMap,pt=new WeakMap,ut=new WeakMap;class ht{constructor(dt){j(this,lt,{writable:!0,value:this.focusin.bind(this)}),j(this,gt,{writable:!0,value:this.focusout.bind(this)}),j(this,ct,{writable:!0,value:!1}),j(this,yt,{writable:!0,value:!1}),j(this,pt,{writable:!0,value:!1}),j(this,ut,{writable:!0,value:ht._zIndex++}),this.constructor===ht&&(0,_.unreachable)("Cannot initialize AnnotationEditor."),this.parent=dt.parent,this.id=dt.id,this.width=this.height=null,this.pageIndex=dt.parent.pageIndex,this.name=dt.name,this.div=null;const[vt,St]=this.parent.viewportBaseDimensions;this.x=dt.x/vt,this.y=dt.y/St,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,_.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=it(this,ut)}focusin(dt){it(this,ct)?rt(this,ct,!1):this.parent.setSelected(this)}focusout(dt){if(!this.isAttachedToDOM)return;const vt=dt.relatedTarget;vt!=null&&vt.closest(`#${this.id}`)||(dt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(dt){const vt=this.parent.div.getBoundingClientRect();this.startX=dt.clientX-vt.x,this.startY=dt.clientY-vt.y,dt.dataTransfer.setData("text/plain",this.id),dt.dataTransfer.effectAllowed="move"}setAt(dt,vt,St,_t){const[Et,Pt]=this.parent.viewportBaseDimensions;[St,_t]=this.screenToPageTranslation(St,_t),this.x=(dt+St)/Et,this.y=(vt+_t)/Pt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(dt,vt){const[St,_t]=this.parent.viewportBaseDimensions;[dt,vt]=this.screenToPageTranslation(dt,vt),this.x+=dt/St,this.y+=vt/_t,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(dt,vt){const{rotation:St}=this.parent.viewport;switch(St){case 90:return[vt,-dt];case 180:return[-dt,-vt];case 270:return[-vt,dt];default:return[dt,vt]}}setDims(dt,vt){const[St,_t]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*dt/St}%`,this.div.style.height=`${100*vt/_t}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",it(this,lt)),this.div.addEventListener("focusout",it(this,gt));const[dt,vt]=this.getInitialTranslation();return this.translate(dt,vt),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(dt){const vt=o.KeyboardManager.platform.isMac;if(dt.button!==0||dt.ctrlKey&&vt){dt.preventDefault();return}dt.ctrlKey&&!vt||dt.shiftKey||dt.metaKey&&vt?this.parent.toggleSelected(this):this.parent.setSelected(this),rt(this,ct,!0)}getRect(dt,vt){const[St,_t]=this.parent.viewportBaseDimensions,[Et,Pt]=this.parent.pageDimensions,Mt=Et*dt/St,Rt=Pt*vt/_t,Ut=this.x*Et,Ct=this.y*Pt,Kt=this.width*Et,Gt=this.height*Pt;switch(this.rotation){case 0:return[Ut+Mt,Pt-Ct-Rt-Gt,Ut+Mt+Kt,Pt-Ct-Rt];case 90:return[Ut+Rt,Pt-Ct+Mt,Ut+Rt+Gt,Pt-Ct+Mt+Kt];case 180:return[Ut-Mt-Kt,Pt-Ct+Rt,Ut-Mt,Pt-Ct+Rt+Gt];case 270:return[Ut-Rt-Gt,Pt-Ct-Mt-Kt,Ut-Rt,Pt-Ct-Mt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(dt,vt){const[St,_t,Et,Pt]=dt,Mt=Et-St,Rt=Pt-_t;switch(this.rotation){case 0:return[St,vt-Pt,Mt,Rt];case 90:return[St,vt-_t,Rt,Mt];case 180:return[Et,vt-_t,Mt,Rt];case 270:return[Et,vt-Pt,Rt,Mt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rt(this,pt,!0)}disableEditMode(){rt(this,pt,!1)}isInEditMode(){return it(this,pt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var dt;(dt=this.div)===null||dt===void 0||dt.addEventListener("focusin",it(this,lt))}serialize(){(0,_.unreachable)("An editor must be serializable")}static deserialize(dt,vt){const St=new this.prototype.constructor({parent:vt,id:vt.getNextId()});St.rotation=dt.rotation;const[_t,Et]=vt.pageDimensions,[Pt,Mt,Rt,Ut]=St.getRectInCurrentCoords(dt.rect,Et);return St.x=Pt/_t,St.y=Mt/Et,St.width=Rt/_t,St.height=Ut/Et,St}remove(){this.div.removeEventListener("focusin",it(this,lt)),this.div.removeEventListener("focusout",it(this,gt)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var dt;(dt=this.div)===null||dt===void 0||dt.classList.add("selectedEditor")}unselect(){var dt;(dt=this.div)===null||dt===void 0||dt.classList.remove("selectedEditor")}updateParams(dt,vt){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return it(this,yt)}set isEditing(dt){rt(this,yt,dt),dt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}s.AnnotationEditor=ht,$(ht,"_colorManager",new o.ColorManager),$(ht,"_zIndex",1)},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=ct,s.opacityToHex=yt;var o=a(1),_=a(133);function $(Dr,hr,Or){return hr in Dr?Object.defineProperty(Dr,hr,{value:Or,enumerable:!0,configurable:!0,writable:!0}):Dr[hr]=Or,Dr}function j(Dr,hr){nt(Dr,hr),hr.add(Dr)}function et(Dr,hr,Or){if(!hr.has(Dr))throw new TypeError("attempted to get private field on non-instance");return Or}function rt(Dr,hr,Or){nt(Dr,hr),hr.set(Dr,Or)}function nt(Dr,hr){if(hr.has(Dr))throw new TypeError("Cannot initialize the same private elements twice on an object")}function it(Dr,hr,Or){var Wr=lt(Dr,hr,"set");return ot(Dr,Wr,Or),Or}function ot(Dr,hr,Or){if(hr.set)hr.set.call(Dr,Or);else{if(!hr.writable)throw new TypeError("attempted to set read only private field");hr.value=Or}}function at(Dr,hr){var Or=lt(Dr,hr,"get");return gt(Dr,Or)}function lt(Dr,hr,Or){if(!hr.has(Dr))throw new TypeError("attempted to "+Or+" private field on non-instance");return hr.get(Dr)}function gt(Dr,hr){return hr.get?hr.get.call(Dr):hr.value}function ct(Dr,hr,Or){for(const Wr of Or)hr.addEventListener(Wr,Dr[Wr].bind(Dr))}function yt(Dr){return Math.round(Math.min(255,Math.max(1,255*Dr))).toString(16).padStart(2,"0")}var pt=new WeakMap;class ut{constructor(){rt(this,pt,{writable:!0,value:0})}getId(){var hr,Or;return`${o.AnnotationEditorPrefix}${it(this,pt,(hr=at(this,pt),Or=hr++,hr)),Or}`}}var ht=new WeakMap,mt=new WeakMap,dt=new WeakMap,vt=new WeakMap;class St{constructor(){let hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;rt(this,ht,{writable:!0,value:[]}),rt(this,mt,{writable:!0,value:!1}),rt(this,dt,{writable:!0,value:void 0}),rt(this,vt,{writable:!0,value:-1}),it(this,dt,hr)}add(hr){let{cmd:Or,undo:Wr,mustExec:gn,type:Ar=NaN,overwriteIfSameType:Nr=!1,keepUndo:Jr=!1}=hr;if(gn&&Or(),at(this,mt))return;const wr={cmd:Or,undo:Wr,type:Ar};if(at(this,vt)===-1){at(this,ht).length>0&&(at(this,ht).length=0),it(this,vt,0),at(this,ht).push(wr);return}if(Nr&&at(this,ht)[at(this,vt)].type===Ar){Jr&&(wr.undo=at(this,ht)[at(this,vt)].undo),at(this,ht)[at(this,vt)]=wr;return}const dr=at(this,vt)+1;dr===at(this,dt)?at(this,ht).splice(0,1):(it(this,vt,dr),dr<at(this,ht).length&&at(this,ht).splice(dr)),at(this,ht).push(wr)}undo(){at(this,vt)!==-1&&(it(this,mt,!0),at(this,ht)[at(this,vt)].undo(),it(this,mt,!1),it(this,vt,at(this,vt)-1))}redo(){at(this,vt)<at(this,ht).length-1&&(it(this,vt,at(this,vt)+1),it(this,mt,!0),at(this,ht)[at(this,vt)].cmd(),it(this,mt,!1))}hasSomethingToUndo(){return at(this,vt)!==-1}hasSomethingToRedo(){return at(this,vt)<at(this,ht).length-1}destroy(){it(this,ht,null)}}s.CommandManager=St;var _t=new WeakSet;class Et{constructor(hr){j(this,_t),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Or=Et.platform.isMac;for(const[Wr,gn]of hr)for(const Ar of Wr){const Nr=Ar.startsWith("mac+");Or&&Nr?(this.callbacks.set(Ar.slice(4),gn),this.allKeys.add(Ar.split("+").at(-1))):!Or&&!Nr&&(this.callbacks.set(Ar,gn),this.allKeys.add(Ar.split("+").at(-1)))}}static get platform(){const hr=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:hr.includes("Win"),isMac:hr.includes("Mac")})}exec(hr,Or){if(!this.allKeys.has(Or.key))return;const Wr=this.callbacks.get(et(this,_t,Pt).call(this,Or));Wr&&(Wr.bind(hr)(),Or.stopPropagation(),Or.preventDefault())}}s.KeyboardManager=Et;function Pt(Dr){Dr.altKey&&this.buffer.push("alt"),Dr.ctrlKey&&this.buffer.push("ctrl"),Dr.metaKey&&this.buffer.push("meta"),Dr.shiftKey&&this.buffer.push("shift"),this.buffer.push(Dr.key);const hr=this.buffer.join("+");return this.buffer.length=0,hr}var Mt=new WeakMap;class Rt{constructor(){rt(this,Mt,{writable:!0,value:null})}copy(hr){hr&&(Array.isArray(hr)?it(this,Mt,hr.map(Or=>Or.serialize())):it(this,Mt,[hr.serialize()]),it(this,Mt,at(this,Mt).filter(Or=>!!Or)),at(this,Mt).length===0&&it(this,Mt,null))}paste(){return at(this,Mt)}isEmpty(){return at(this,Mt)===null}destroy(){it(this,Mt,null)}}class Ut{get _colors(){const hr=new Map([["CanvasText",null],["Canvas",null]]);return(0,_.getColorValues)(hr),(0,o.shadow)(this,"_colors",hr)}convert(hr){const Or=(0,_.getRGB)(hr);if(!window.matchMedia("(forced-colors: active)").matches)return Or;for(const[Wr,gn]of this._colors)if(gn.every((Ar,Nr)=>Ar===Or[Nr]))return Ut._colorsMapping.get(Wr);return Or}getHexCode(hr){const Or=this._colors.get(hr);return Or?o.Util.makeHexColor(...Or):hr}}s.ColorManager=Ut,$(Ut,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Ct=new WeakMap,Kt=new WeakMap,Gt=new WeakMap,It=new WeakMap,jt=new WeakMap,$t=new WeakMap,Jt=new WeakMap,Wt=new WeakMap,tr=new WeakMap,mr=new WeakMap,Yt=new WeakMap,kt=new WeakMap,Ft=new WeakMap,er=new WeakMap,Zt=new WeakMap,At=new WeakMap,Ot=new WeakMap,Dt=new WeakSet,zt=new WeakSet,Xt=new WeakSet,wt=new WeakSet,Vt=new WeakSet,qt=new WeakSet,Nt=new WeakSet,Bt=new WeakSet,Qt=new WeakSet;class sr{constructor(hr,Or){j(this,Qt),j(this,Bt),j(this,Nt),j(this,qt),j(this,Vt),j(this,wt),j(this,Xt),j(this,zt),j(this,Dt),rt(this,Ct,{writable:!0,value:null}),rt(this,Kt,{writable:!0,value:new Map}),rt(this,Gt,{writable:!0,value:new Map}),rt(this,It,{writable:!0,value:new Rt}),rt(this,jt,{writable:!0,value:new St}),rt(this,$t,{writable:!0,value:0}),rt(this,Jt,{writable:!0,value:null}),rt(this,Wt,{writable:!0,value:null}),rt(this,tr,{writable:!0,value:new ut}),rt(this,mr,{writable:!0,value:!1}),rt(this,Yt,{writable:!0,value:o.AnnotationEditorType.NONE}),rt(this,kt,{writable:!0,value:new Set}),rt(this,Ft,{writable:!0,value:this.keydown.bind(this)}),rt(this,er,{writable:!0,value:this.onEditingAction.bind(this)}),rt(this,Zt,{writable:!0,value:this.onPageChanging.bind(this)}),rt(this,At,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),rt(this,Ot,{writable:!0,value:null}),it(this,Ot,hr),it(this,Wt,Or),at(this,Wt)._on("editingaction",at(this,er)),at(this,Wt)._on("pagechanging",at(this,Zt))}destroy(){et(this,zt,ar).call(this),at(this,Wt)._off("editingaction",at(this,er)),at(this,Wt)._off("pagechanging",at(this,Zt));for(const hr of at(this,Gt).values())hr.destroy();at(this,Gt).clear(),at(this,Kt).clear(),it(this,Ct,null),at(this,kt).clear(),at(this,It).destroy(),at(this,jt).destroy()}onPageChanging(hr){let{pageNumber:Or}=hr;it(this,$t,Or-1)}focusMainContainer(){at(this,Ot).focus()}keydown(hr){var Or;(Or=this.getActive())!==null&&Or!==void 0&&Or.shouldGetKeyboardEvents()||sr._keyboardManager.exec(this,hr)}onEditingAction(hr){["undo","redo","cut","copy","paste","delete","selectAll"].includes(hr.name)&&this[hr.name]()}setEditingState(hr){hr?(et(this,Dt,lr).call(this),et(this,Xt,vr).call(this,{isEditing:at(this,Yt)!==o.AnnotationEditorType.NONE,isEmpty:et(this,Bt,Ur).call(this),hasSomethingToUndo:at(this,jt).hasSomethingToUndo(),hasSomethingToRedo:at(this,jt).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:at(this,It).isEmpty()})):(et(this,zt,ar).call(this),et(this,Xt,vr).call(this,{isEditing:!1}))}registerEditorTypes(hr){it(this,Jt,hr);for(const Or of at(this,Jt))et(this,wt,_r).call(this,Or.defaultPropertiesToUpdate)}getId(){return at(this,tr).getId()}addLayer(hr){at(this,Gt).set(hr.pageIndex,hr),at(this,mr)?hr.enable():hr.disable()}removeLayer(hr){at(this,Gt).delete(hr.pageIndex)}updateMode(hr){if(it(this,Yt,hr),hr===o.AnnotationEditorType.NONE)this.setEditingState(!1),et(this,qt,Er).call(this);else{this.setEditingState(!0),et(this,Vt,Cr).call(this);for(const Or of at(this,Gt).values())Or.updateMode(hr)}}updateToolbar(hr){hr!==at(this,Yt)&&at(this,Wt).dispatch("switchannotationeditormode",{source:this,mode:hr})}updateParams(hr,Or){for(const Wr of at(this,kt))Wr.updateParams(hr,Or);for(const Wr of at(this,Jt))Wr.updateDefaultParams(hr,Or)}getEditors(hr){const Or=[];for(const Wr of at(this,Kt).values())Wr.pageIndex===hr&&Or.push(Wr);return Or}getEditor(hr){return at(this,Kt).get(hr)}addEditor(hr){at(this,Kt).set(hr.id,hr)}removeEditor(hr){at(this,Kt).delete(hr.id),this.unselect(hr)}setActiveEditor(hr){at(this,Ct)!==hr&&(it(this,Ct,hr),hr&&et(this,wt,_r).call(this,hr.propertiesToUpdate))}toggleSelected(hr){if(at(this,kt).has(hr)){at(this,kt).delete(hr),hr.unselect(),et(this,Xt,vr).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,kt).add(hr),hr.select(),et(this,wt,_r).call(this,hr.propertiesToUpdate),et(this,Xt,vr).call(this,{hasSelectedEditor:!0})}setSelected(hr){for(const Or of at(this,kt))Or!==hr&&Or.unselect();at(this,kt).clear(),at(this,kt).add(hr),hr.select(),et(this,wt,_r).call(this,hr.propertiesToUpdate),et(this,Xt,vr).call(this,{hasSelectedEditor:!0})}isSelected(hr){return at(this,kt).has(hr)}unselect(hr){hr.unselect(),at(this,kt).delete(hr),et(this,Xt,vr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,kt).size!==0}undo(){at(this,jt).undo(),et(this,Xt,vr).call(this,{hasSomethingToUndo:at(this,jt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:et(this,Bt,Ur).call(this)})}redo(){at(this,jt).redo(),et(this,Xt,vr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,jt).hasSomethingToRedo(),isEmpty:et(this,Bt,Ur).call(this)})}addCommands(hr){at(this,jt).add(hr),et(this,Xt,vr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:et(this,Bt,Ur).call(this)})}delete(){if(at(this,Ct)&&at(this,Ct).commitOrRemove(),!this.hasSelection)return;const hr=[...at(this,kt)],Or=()=>{for(const gn of hr)gn.remove()},Wr=()=>{for(const gn of hr)et(this,Nt,qr).call(this,gn)};this.addCommands({cmd:Or,undo:Wr,mustExec:!0})}copy(){if(at(this,Ct)&&at(this,Ct).commitOrRemove(),this.hasSelection){const hr=[];for(const Or of at(this,kt))Or.isEmpty()||hr.push(Or);if(hr.length===0)return;at(this,It).copy(hr),et(this,Xt,vr).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(at(this,It).isEmpty())return;this.unselectAll();const hr=at(this,Gt).get(at(this,$t)),Or=at(this,It).paste().map(Ar=>hr.deserialize(Ar)),Wr=()=>{for(const Ar of Or)et(this,Nt,qr).call(this,Ar);et(this,Qt,Vr).call(this,Or)},gn=()=>{for(const Ar of Or)Ar.remove()};this.addCommands({cmd:Wr,undo:gn,mustExec:!0})}selectAll(){for(const hr of at(this,kt))hr.commit();et(this,Qt,Vr).call(this,at(this,Kt).values())}unselectAll(){if(at(this,Ct)){at(this,Ct).commitOrRemove();return}if(et(this,Qt,Vr).size!==0){for(const hr of at(this,kt))hr.unselect();at(this,kt).clear(),et(this,Xt,vr).call(this,{hasSelectedEditor:!1})}}isActive(hr){return at(this,Ct)===hr}getActive(){return at(this,Ct)}getMode(){return at(this,Yt)}}s.AnnotationEditorUIManager=sr;function lr(){at(this,Ot).addEventListener("keydown",at(this,Ft))}function ar(){at(this,Ot).removeEventListener("keydown",at(this,Ft))}function vr(Dr){Object.entries(Dr).some(Or=>{let[Wr,gn]=Or;return at(this,At)[Wr]!==gn})&&at(this,Wt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,At),Dr)})}function _r(Dr){at(this,Wt).dispatch("annotationeditorparamschanged",{source:this,details:Dr})}function Cr(){if(!at(this,mr)){it(this,mr,!0);for(const Dr of at(this,Gt).values())Dr.enable()}}function Er(){if(this.unselectAll(),at(this,mr)){it(this,mr,!1);for(const Dr of at(this,Gt).values())Dr.disable()}}function qr(Dr){const hr=at(this,Gt).get(Dr.pageIndex);hr?hr.addOrRebuild(Dr):this.addEditor(Dr)}function Ur(){if(at(this,Kt).size===0)return!0;if(at(this,Kt).size===1)for(const Dr of at(this,Kt).values())return Dr.isEmpty();return!1}function Vr(Dr){at(this,kt).clear();for(const hr of Dr)hr.isEmpty()||(at(this,kt).add(hr),hr.select());et(this,Xt,vr).call(this,{hasSelectedEditor:!0})}$(sr,"_keyboardManager",new Et([[["ctrl+a","mac+meta+a"],sr.prototype.selectAll],[["ctrl+c","mac+meta+c"],sr.prototype.copy],[["ctrl+v","mac+meta+v"],sr.prototype.paste],[["ctrl+x","mac+meta+x"],sr.prototype.cut],[["ctrl+z","mac+meta+z"],sr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],sr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],sr.prototype.delete],[["Escape","mac+Escape"],sr.prototype.unselectAll]]))},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=St,s.getColorValues=Rt,s.getCurrentTransform=Ut,s.getCurrentTransformInverse=Ct,s.getFilenameFromUrl=ut,s.getPdfFilenameFromUrl=ht,s.getRGB=Mt,s.getXfaPageViewport=Pt,s.isDataScheme=yt,s.isPdfFile=pt,s.isValidFetchUrl=dt,s.loadScript=vt;var o=a(134),_=a(1);function $(Kt,Gt,It){return Gt in Kt?Object.defineProperty(Kt,Gt,{value:It,enumerable:!0,configurable:!0,writable:!0}):Kt[Gt]=It,Kt}const j="http://www.w3.org/2000/svg",et="pdfjs_internal_id_";s.AnnotationPrefix=et;class rt{}s.PixelsPerInch=rt,$(rt,"CSS",96),$(rt,"PDF",72),$(rt,"PDF_TO_CSS_UNITS",rt.CSS/rt.PDF);class nt extends o.BaseCanvasFactory{constructor(){let{ownerDocument:Gt=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Gt}_createCanvas(Gt,It){const jt=this._document.createElement("canvas");return jt.width=Gt,jt.height=It,jt}}s.DOMCanvasFactory=nt;async function it(Kt){let Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(dt(Kt,document.baseURI)){const It=await fetch(Kt);if(!It.ok)throw new Error(It.statusText);return Gt?new Uint8Array(await It.arrayBuffer()):(0,_.stringToBytes)(await It.text())}return new Promise((It,jt)=>{const $t=new XMLHttpRequest;$t.open("GET",Kt,!0),Gt&&($t.responseType="arraybuffer"),$t.onreadystatechange=()=>{if($t.readyState===XMLHttpRequest.DONE){if($t.status===200||$t.status===0){let Jt;if(Gt&&$t.response?Jt=new Uint8Array($t.response):!Gt&&$t.responseText&&(Jt=(0,_.stringToBytes)($t.responseText)),Jt){It(Jt);return}}jt(new Error($t.statusText))}},$t.send(null)})}class ot extends o.BaseCMapReaderFactory{_fetchData(Gt,It){return it(Gt,this.isCompressed).then(jt=>({cMapData:jt,compressionType:It}))}}s.DOMCMapReaderFactory=ot;class at extends o.BaseStandardFontDataFactory{_fetchData(Gt){return it(Gt,!0)}}s.DOMStandardFontDataFactory=at;class lt extends o.BaseSVGFactory{_createSVG(Gt){return document.createElementNS(j,Gt)}}s.DOMSVGFactory=lt;class gt{constructor(Gt){let{viewBox:It,scale:jt,rotation:$t,offsetX:Jt=0,offsetY:Wt=0,dontFlip:tr=!1}=Gt;this.viewBox=It,this.scale=jt,this.rotation=$t,this.offsetX=Jt,this.offsetY=Wt;const mr=(It[2]+It[0])/2,Yt=(It[3]+It[1])/2;let kt,Ft,er,Zt;switch($t%=360,$t<0&&($t+=360),$t){case 180:kt=-1,Ft=0,er=0,Zt=1;break;case 90:kt=0,Ft=1,er=1,Zt=0;break;case 270:kt=0,Ft=-1,er=-1,Zt=0;break;case 0:kt=1,Ft=0,er=0,Zt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}tr&&(er=-er,Zt=-Zt);let At,Ot,Dt,zt;kt===0?(At=Math.abs(Yt-It[1])*jt+Jt,Ot=Math.abs(mr-It[0])*jt+Wt,Dt=Math.abs(It[3]-It[1])*jt,zt=Math.abs(It[2]-It[0])*jt):(At=Math.abs(mr-It[0])*jt+Jt,Ot=Math.abs(Yt-It[1])*jt+Wt,Dt=Math.abs(It[2]-It[0])*jt,zt=Math.abs(It[3]-It[1])*jt),this.transform=[kt*jt,Ft*jt,er*jt,Zt*jt,At-kt*jt*mr-er*jt*Yt,Ot-Ft*jt*mr-Zt*jt*Yt],this.width=Dt,this.height=zt}clone(){let{scale:Gt=this.scale,rotation:It=this.rotation,offsetX:jt=this.offsetX,offsetY:$t=this.offsetY,dontFlip:Jt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new gt({viewBox:this.viewBox.slice(),scale:Gt,rotation:It,offsetX:jt,offsetY:$t,dontFlip:Jt})}convertToViewportPoint(Gt,It){return _.Util.applyTransform([Gt,It],this.transform)}convertToViewportRectangle(Gt){const It=_.Util.applyTransform([Gt[0],Gt[1]],this.transform),jt=_.Util.applyTransform([Gt[2],Gt[3]],this.transform);return[It[0],It[1],jt[0],jt[1]]}convertToPdfPoint(Gt,It){return _.Util.applyInverseTransform([Gt,It],this.transform)}}s.PageViewport=gt;class ct extends _.BaseException{constructor(Gt,It){super(Gt,"RenderingCancelledException"),this.type=It}}s.RenderingCancelledException=ct;function yt(Kt){const Gt=Kt.length;let It=0;for(;It<Gt&&Kt[It].trim()==="";)It++;return Kt.substring(It,It+5).toLowerCase()==="data:"}function pt(Kt){return typeof Kt=="string"&&/\.pdf$/i.test(Kt)}function ut(Kt){const Gt=Kt.indexOf("#"),It=Kt.indexOf("?"),jt=Math.min(Gt>0?Gt:Kt.length,It>0?It:Kt.length);return Kt.substring(Kt.lastIndexOf("/",jt)+1,jt)}function ht(Kt){let Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Kt!="string")return Gt;if(yt(Kt))return(0,_.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Gt;const It=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,jt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$t=It.exec(Kt);let Jt=jt.exec($t[1])||jt.exec($t[2])||jt.exec($t[3]);if(Jt&&(Jt=Jt[0],Jt.includes("%")))try{Jt=jt.exec(decodeURIComponent(Jt))[0]}catch{}return Jt||Gt}class mt{constructor(){this.started=Object.create(null),this.times=[]}time(Gt){Gt in this.started&&(0,_.warn)(`Timer is already running for ${Gt}`),this.started[Gt]=Date.now()}timeEnd(Gt){Gt in this.started||(0,_.warn)(`Timer has not been started for ${Gt}`),this.times.push({name:Gt,start:this.started[Gt],end:Date.now()}),delete this.started[Gt]}toString(){const Gt=[];let It=0;for(const jt of this.times){const $t=jt.name;$t.length>It&&(It=$t.length)}for(const jt of this.times){const $t=jt.end-jt.start;Gt.push(`${jt.name.padEnd(It)} ${$t}ms
`)}return Gt.join("")}}s.StatTimer=mt;function dt(Kt,Gt){try{const{protocol:It}=Gt?new URL(Kt,Gt):new URL(Kt);return It==="http:"||It==="https:"}catch{return!1}}function vt(Kt){let Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((It,jt)=>{const $t=document.createElement("script");$t.src=Kt,$t.onload=function(Jt){Gt&&$t.remove(),It(Jt)},$t.onerror=function(){jt(new Error(`Cannot load script at: ${$t.src}`))},(document.head||document.documentElement).append($t)})}function St(Kt){console.log("Deprecated API usage: "+Kt)}let _t;class Et{static toDateObject(Gt){if(!Gt||typeof Gt!="string")return null;_t||(_t=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const It=_t.exec(Gt);if(!It)return null;const jt=parseInt(It[1],10);let $t=parseInt(It[2],10);$t=$t>=1&&$t<=12?$t-1:0;let Jt=parseInt(It[3],10);Jt=Jt>=1&&Jt<=31?Jt:1;let Wt=parseInt(It[4],10);Wt=Wt>=0&&Wt<=23?Wt:0;let tr=parseInt(It[5],10);tr=tr>=0&&tr<=59?tr:0;let mr=parseInt(It[6],10);mr=mr>=0&&mr<=59?mr:0;const Yt=It[7]||"Z";let kt=parseInt(It[8],10);kt=kt>=0&&kt<=23?kt:0;let Ft=parseInt(It[9],10)||0;return Ft=Ft>=0&&Ft<=59?Ft:0,Yt==="-"?(Wt+=kt,tr+=Ft):Yt==="+"&&(Wt-=kt,tr-=Ft),new Date(Date.UTC(jt,$t,Jt,Wt,tr,mr))}}s.PDFDateString=Et;function Pt(Kt,Gt){let{scale:It=1,rotation:jt=0}=Gt;const{width:$t,height:Jt}=Kt.attributes.style,Wt=[0,0,parseInt($t),parseInt(Jt)];return new gt({viewBox:Wt,scale:It,rotation:jt})}function Mt(Kt){if(Kt.startsWith("#")){const Gt=parseInt(Kt.slice(1),16);return[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255]}return Kt.startsWith("rgb(")?Kt.slice(4,-1).split(",").map(Gt=>parseInt(Gt)):Kt.startsWith("rgba(")?Kt.slice(5,-1).split(",").map(Gt=>parseInt(Gt)).slice(0,3):((0,_.warn)(`Not a valid color format: "${Kt}"`),[0,0,0])}function Rt(Kt){const Gt=document.createElement("span");Gt.style.visibility="hidden",document.body.append(Gt);for(const It of Kt.keys()){Gt.style.color=It;const jt=window.getComputedStyle(Gt).color;Kt.set(It,Mt(jt))}Gt.remove()}function Ut(Kt){const{a:Gt,b:It,c:jt,d:$t,e:Jt,f:Wt}=Kt.getTransform();return[Gt,It,jt,$t,Jt,Wt]}function Ct(Kt){const{a:Gt,b:It,c:jt,d:$t,e:Jt,f:Wt}=Kt.getTransform().invertSelf();return[Gt,It,jt,$t,Jt,Wt]}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=a(1);class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,it){if(nt<=0||it<=0)throw new Error("Invalid canvas size");const ot=this._createCanvas(nt,it);return{canvas:ot,context:ot.getContext("2d")}}reset(nt,it,ot){if(!nt.canvas)throw new Error("Canvas is not specified");if(it<=0||ot<=0)throw new Error("Invalid canvas size");nt.canvas.width=it,nt.canvas.height=ot}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,it){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=_;class ${constructor(nt){let{baseUrl:it=null,isCompressed:ot=!1}=nt;this.constructor===$&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=it,this.isCompressed=ot}async fetch(nt){let{name:it}=nt;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!it)throw new Error("CMap name must be specified.");const ot=this.baseUrl+it+(this.isCompressed?".bcmap":""),at=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(ot,at).catch(lt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ot}`)})}_fetchData(nt,it){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=$;class j{constructor(nt){let{baseUrl:it=null}=nt;this.constructor===j&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=it}async fetch(nt){let{filename:it}=nt;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!it)throw new Error("Font filename must be specified.");const ot=`${this.baseUrl}${it}`;return this._fetchData(ot).catch(at=>{throw new Error(`Unable to load font data at: ${ot}`)})}_fetchData(nt){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=j;class et{constructor(){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,it){let ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(nt<=0||it<=0)throw new Error("Invalid SVG dimensions");const at=this._createSVG("svg:svg");return at.setAttribute("version","1.1"),ot||(at.setAttribute("width",`${nt}px`),at.setAttribute("height",`${it}px`)),at.setAttribute("preserveAspectRatio","none"),at.setAttribute("viewBox",`0 0 ${nt} ${it}`),at}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=et},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=a(1);const _=3285377520,$=4294901760,j=65535;class et{constructor(nt){this.h1=nt?nt&4294967295:_,this.h2=nt?nt&4294967295:_}update(nt){let it,ot;if(typeof nt=="string"){it=new Uint8Array(nt.length*2),ot=0;for(let St=0,_t=nt.length;St<_t;St++){const Et=nt.charCodeAt(St);Et<=255?it[ot++]=Et:(it[ot++]=Et>>>8,it[ot++]=Et&255)}}else if((0,o.isArrayBuffer)(nt))it=nt.slice(),ot=it.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const at=ot>>2,lt=ot-at*4,gt=new Uint32Array(it.buffer,0,at);let ct=0,yt=0,pt=this.h1,ut=this.h2;const ht=3432918353,mt=461845907,dt=ht&j,vt=mt&j;for(let St=0;St<at;St++)St&1?(ct=gt[St],ct=ct*ht&$|ct*dt&j,ct=ct<<15|ct>>>17,ct=ct*mt&$|ct*vt&j,pt^=ct,pt=pt<<13|pt>>>19,pt=pt*5+3864292196):(yt=gt[St],yt=yt*ht&$|yt*dt&j,yt=yt<<15|yt>>>17,yt=yt*mt&$|yt*vt&j,ut^=yt,ut=ut<<13|ut>>>19,ut=ut*5+3864292196);switch(ct=0,lt){case 3:ct^=it[at*4+2]<<16;case 2:ct^=it[at*4+1]<<8;case 1:ct^=it[at*4],ct=ct*ht&$|ct*dt&j,ct=ct<<15|ct>>>17,ct=ct*mt&$|ct*vt&j,at&1?pt^=ct:ut^=ct}this.h1=pt,this.h2=ut}hexdigest(){let nt=this.h1,it=this.h2;nt^=it>>>1,nt=nt*3981806797&$|nt*36045&j,it=it*4283543511&$|((it<<16|nt>>>16)*2950163797&$)>>>16,nt^=it>>>1,nt=nt*444984403&$|nt*60499&j,it=it*3301882366&$|((it<<16|nt>>>16)*3120437893&$)>>>16,nt^=it>>>1;const ot=(nt>>>0).toString(16),at=(it>>>0).toString(16);return ot.padStart(8,"0")+at.padStart(8,"0")}}s.MurmurHash3_64=et},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=a(1);class _{constructor(rt){let{docId:nt,onUnsupportedFeature:it,ownerDocument:ot=globalThis.document,styleElement:at=null}=rt;this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=nt,this._onUnsupportedFeature=it,this._document=ot,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(rt){this.nativeFontFaces.push(rt),this._document.fonts.add(rt)}insertRule(rt){let nt=this.styleElement;nt||(nt=this.styleElement=this._document.createElement("style"),nt.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(nt));const it=nt.sheet;it.insertRule(rt,it.cssRules.length)}clear(){for(const rt of this.nativeFontFaces)this._document.fonts.delete(rt);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(rt){if(rt.attached||rt.missingFile)return;if(rt.attached=!0,this.isFontLoadingAPISupported){const it=rt.createNativeFontFace();if(it){this.addNativeFontFace(it);try{await it.loaded}catch(ot){throw this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)(`Failed to load font '${it.family}': '${ot}'.`),rt.disableFontFace=!0,ot}}return}const nt=rt.createFontFaceRule();if(nt){if(this.insertRule(nt),this.isSyncFontLoadingSupported)return;await new Promise(it=>{const ot=this._queueLoadingCallback(it);this._prepareFontLoadEvent([nt],[rt],ot)})}}_queueLoadingCallback(rt){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var rt;const nt=!!((rt=this._document)!==null&&rt!==void 0&&rt.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",nt)}get isSyncFontLoadingSupported(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(rt,nt,it){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let $;s.FontLoader=$,s.FontLoader=$=class extends _{constructor(rt){super(rt),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let rt=!1;if(typeof navigator>"u")rt=!0;else{const nt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(nt==null?void 0:nt[1])>=14&&(rt=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",rt)}_queueLoadingCallback(rt){function nt(){for((0,o.assert)(!ot.done,"completeRequest() cannot be called twice."),ot.done=!0;it.requests.length>0&&it.requests[0].done;){const at=it.requests.shift();setTimeout(at.callback,0)}}const it=this.loadingContext,ot={id:`pdfjs-font-loading-${it.nextRequestId++}`,done:!1,complete:nt,callback:rt};return it.requests.push(ot),ot}get _loadTestFont(){const rt=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,o.shadow)(this,"_loadTestFont",rt())}_prepareFontLoadEvent(rt,nt,it){function ot(Ut,Ct){return Ut.charCodeAt(Ct)<<24|Ut.charCodeAt(Ct+1)<<16|Ut.charCodeAt(Ct+2)<<8|Ut.charCodeAt(Ct+3)&255}function at(Ut,Ct,Kt,Gt){const It=Ut.substring(0,Ct),jt=Ut.substring(Ct+Kt);return It+Gt+jt}let lt,gt;const ct=this._document.createElement("canvas");ct.width=1,ct.height=1;const yt=ct.getContext("2d");let pt=0;function ut(Ut,Ct){if(pt++,pt>30){(0,o.warn)("Load test font never loaded."),Ct();return}if(yt.font="30px "+Ut,yt.fillText(".",0,20),yt.getImageData(0,0,1,1).data[3]>0){Ct();return}setTimeout(ut.bind(null,Ut,Ct))}const ht=`lt${Date.now()}${this.loadTestFontId++}`;let mt=this._loadTestFont;mt=at(mt,976,ht.length,ht);const vt=16,St=1482184792;let _t=ot(mt,vt);for(lt=0,gt=ht.length-3;lt<gt;lt+=4)_t=_t-St+ot(ht,lt)|0;lt<ht.length&&(_t=_t-St+ot(ht+"XXX",lt)|0),mt=at(mt,vt,4,(0,o.string32)(_t));const Et=`url(data:font/opentype;base64,${btoa(mt)});`,Pt=`@font-face {font-family:"${ht}";src:${Et}}`;this.insertRule(Pt);const Mt=[];for(const Ut of nt)Mt.push(Ut.loadedName);Mt.push(ht);const Rt=this._document.createElement("div");Rt.style.visibility="hidden",Rt.style.width=Rt.style.height="10px",Rt.style.position="absolute",Rt.style.top=Rt.style.left="0px";for(const Ut of Mt){const Ct=this._document.createElement("span");Ct.textContent="Hi",Ct.style.fontFamily=Ut,Rt.append(Ct)}this._document.body.append(Rt),ut(ht,()=>{Rt.remove(),it.complete()})}};class j{constructor(rt,nt){let{isEvalSupported:it=!0,disableFontFace:ot=!1,ignoreErrors:at=!1,onUnsupportedFeature:lt,fontRegistry:gt=null}=nt;this.compiledGlyphs=Object.create(null);for(const ct in rt)this[ct]=rt[ct];this.isEvalSupported=it!==!1,this.disableFontFace=ot===!0,this.ignoreErrors=at===!0,this._onUnsupportedFeature=lt,this.fontRegistry=gt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let rt;if(!this.cssFontInfo)rt=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),rt=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return this.fontRegistry&&this.fontRegistry.registerFont(this),rt}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const rt=(0,o.bytesToString)(this.data),nt=`url(data:${this.mimetype};base64,${btoa(rt)});`;let it;if(!this.cssFontInfo)it=`@font-face {font-family:"${this.loadedName}";src:${nt}}`;else{let ot=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ot+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),it=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ot}src:${nt}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,nt),it}getPathGenerator(rt,nt){if(this.compiledGlyphs[nt]!==void 0)return this.compiledGlyphs[nt];let it;try{it=rt.get(this.loadedName+"_path_"+nt)}catch(ot){if(!this.ignoreErrors)throw ot;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)(`getPathGenerator - ignoring character: "${ot}".`),this.compiledGlyphs[nt]=function(at,lt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const ot=[];for(const at of it){const lt=at.args!==void 0?at.args.join(","):"";ot.push("c.",at.cmd,"(",lt,`);
`)}return this.compiledGlyphs[nt]=new Function("c","size",ot.join(""))}return this.compiledGlyphs[nt]=function(ot,at){for(const lt of it)lt.cmd==="scale"&&(lt.args=[at,-at]),ot[lt.cmd].apply(ot,lt.args)}}}s.FontFaceObject=j},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=a(133),_=a(1),$=a(138),j=a(139),et=a(3);function rt(Yt,kt){nt(Yt,kt),kt.add(Yt)}function nt(Yt,kt){if(kt.has(Yt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function it(Yt,kt,Ft){if(!kt.has(Yt))throw new TypeError("attempted to get private field on non-instance");return Ft}const ot=16,at=100,lt=4096,gt=15,ct=10,yt=et.isNodeJS&&typeof Path2D>"u"?-1:1e3,pt=16;function ut(Yt,kt){if(Yt._removeMirroring)throw new Error("Context is already forwarding operations.");Yt.__originalSave=Yt.save,Yt.__originalRestore=Yt.restore,Yt.__originalRotate=Yt.rotate,Yt.__originalScale=Yt.scale,Yt.__originalTranslate=Yt.translate,Yt.__originalTransform=Yt.transform,Yt.__originalSetTransform=Yt.setTransform,Yt.__originalResetTransform=Yt.resetTransform,Yt.__originalClip=Yt.clip,Yt.__originalMoveTo=Yt.moveTo,Yt.__originalLineTo=Yt.lineTo,Yt.__originalBezierCurveTo=Yt.bezierCurveTo,Yt.__originalRect=Yt.rect,Yt.__originalClosePath=Yt.closePath,Yt.__originalBeginPath=Yt.beginPath,Yt._removeMirroring=()=>{Yt.save=Yt.__originalSave,Yt.restore=Yt.__originalRestore,Yt.rotate=Yt.__originalRotate,Yt.scale=Yt.__originalScale,Yt.translate=Yt.__originalTranslate,Yt.transform=Yt.__originalTransform,Yt.setTransform=Yt.__originalSetTransform,Yt.resetTransform=Yt.__originalResetTransform,Yt.clip=Yt.__originalClip,Yt.moveTo=Yt.__originalMoveTo,Yt.lineTo=Yt.__originalLineTo,Yt.bezierCurveTo=Yt.__originalBezierCurveTo,Yt.rect=Yt.__originalRect,Yt.closePath=Yt.__originalClosePath,Yt.beginPath=Yt.__originalBeginPath,delete Yt._removeMirroring},Yt.save=function(){kt.save(),this.__originalSave()},Yt.restore=function(){kt.restore(),this.__originalRestore()},Yt.translate=function(er,Zt){kt.translate(er,Zt),this.__originalTranslate(er,Zt)},Yt.scale=function(er,Zt){kt.scale(er,Zt),this.__originalScale(er,Zt)},Yt.transform=function(er,Zt,At,Ot,Dt,zt){kt.transform(er,Zt,At,Ot,Dt,zt),this.__originalTransform(er,Zt,At,Ot,Dt,zt)},Yt.setTransform=function(er,Zt,At,Ot,Dt,zt){kt.setTransform(er,Zt,At,Ot,Dt,zt),this.__originalSetTransform(er,Zt,At,Ot,Dt,zt)},Yt.resetTransform=function(){kt.resetTransform(),this.__originalResetTransform()},Yt.rotate=function(er){kt.rotate(er),this.__originalRotate(er)},Yt.clip=function(er){kt.clip(er),this.__originalClip(er)},Yt.moveTo=function(Ft,er){kt.moveTo(Ft,er),this.__originalMoveTo(Ft,er)},Yt.lineTo=function(Ft,er){kt.lineTo(Ft,er),this.__originalLineTo(Ft,er)},Yt.bezierCurveTo=function(Ft,er,Zt,At,Ot,Dt){kt.bezierCurveTo(Ft,er,Zt,At,Ot,Dt),this.__originalBezierCurveTo(Ft,er,Zt,At,Ot,Dt)},Yt.rect=function(Ft,er,Zt,At){kt.rect(Ft,er,Zt,At),this.__originalRect(Ft,er,Zt,At)},Yt.closePath=function(){kt.closePath(),this.__originalClosePath()},Yt.beginPath=function(){kt.beginPath(),this.__originalBeginPath()}}class ht{constructor(kt){this.canvasFactory=kt,this.cache=Object.create(null)}getCanvas(kt,Ft,er){let Zt;return this.cache[kt]!==void 0?(Zt=this.cache[kt],this.canvasFactory.reset(Zt,Ft,er)):(Zt=this.canvasFactory.create(Ft,er),this.cache[kt]=Zt),Zt}delete(kt){delete this.cache[kt]}clear(){for(const kt in this.cache){const Ft=this.cache[kt];this.canvasFactory.destroy(Ft),delete this.cache[kt]}}}function mt(Yt,kt,Ft,er,Zt,At,Ot,Dt,zt,Xt){const[wt,Vt,qt,Nt,Bt,Qt]=(0,o.getCurrentTransform)(Yt);if(Vt===0&&qt===0){const ar=Ot*wt+Bt,vr=Math.round(ar),_r=Dt*Nt+Qt,Cr=Math.round(_r),Er=(Ot+zt)*wt+Bt,qr=Math.abs(Math.round(Er)-vr)||1,Ur=(Dt+Xt)*Nt+Qt,Vr=Math.abs(Math.round(Ur)-Cr)||1;return Yt.setTransform(Math.sign(wt),0,0,Math.sign(Nt),vr,Cr),Yt.drawImage(kt,Ft,er,Zt,At,0,0,qr,Vr),Yt.setTransform(wt,Vt,qt,Nt,Bt,Qt),[qr,Vr]}if(wt===0&&Nt===0){const ar=Dt*qt+Bt,vr=Math.round(ar),_r=Ot*Vt+Qt,Cr=Math.round(_r),Er=(Dt+Xt)*qt+Bt,qr=Math.abs(Math.round(Er)-vr)||1,Ur=(Ot+zt)*Vt+Qt,Vr=Math.abs(Math.round(Ur)-Cr)||1;return Yt.setTransform(0,Math.sign(Vt),Math.sign(qt),0,vr,Cr),Yt.drawImage(kt,Ft,er,Zt,At,0,0,Vr,qr),Yt.setTransform(wt,Vt,qt,Nt,Bt,Qt),[Vr,qr]}Yt.drawImage(kt,Ft,er,Zt,At,Ot,Dt,zt,Xt);const sr=Math.hypot(wt,Vt),lr=Math.hypot(qt,Nt);return[sr*zt,lr*Xt]}function dt(Yt){const{width:kt,height:Ft}=Yt;if(kt>yt||Ft>yt)return null;const er=1e3,Zt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=kt+1;let Ot=new Uint8Array(At*(Ft+1)),Dt,zt,Xt;const wt=kt+7&-8;let Vt=new Uint8Array(wt*Ft),qt=0;for(const lr of Yt.data){let ar=128;for(;ar>0;)Vt[qt++]=lr&ar?0:255,ar>>=1}let Nt=0;for(qt=0,Vt[qt]!==0&&(Ot[0]=1,++Nt),zt=1;zt<kt;zt++)Vt[qt]!==Vt[qt+1]&&(Ot[zt]=Vt[qt]?2:1,++Nt),qt++;for(Vt[qt]!==0&&(Ot[zt]=2,++Nt),Dt=1;Dt<Ft;Dt++){qt=Dt*wt,Xt=Dt*At,Vt[qt-wt]!==Vt[qt]&&(Ot[Xt]=Vt[qt]?1:8,++Nt);let lr=(Vt[qt]?4:0)+(Vt[qt-wt]?8:0);for(zt=1;zt<kt;zt++)lr=(lr>>2)+(Vt[qt+1]?4:0)+(Vt[qt-wt+1]?8:0),Zt[lr]&&(Ot[Xt+zt]=Zt[lr],++Nt),qt++;if(Vt[qt-wt]!==Vt[qt]&&(Ot[Xt+zt]=Vt[qt]?2:4,++Nt),Nt>er)return null}for(qt=wt*(Ft-1),Xt=Dt*At,Vt[qt]!==0&&(Ot[Xt]=8,++Nt),zt=1;zt<kt;zt++)Vt[qt]!==Vt[qt+1]&&(Ot[Xt+zt]=Vt[qt]?4:8,++Nt),qt++;if(Vt[qt]!==0&&(Ot[Xt+zt]=4,++Nt),Nt>er)return null;const Bt=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Qt=new Path2D;for(Dt=0;Nt&&Dt<=Ft;Dt++){let lr=Dt*At;const ar=lr+kt;for(;lr<ar&&!Ot[lr];)lr++;if(lr===ar)continue;Qt.moveTo(lr%At,Dt);const vr=lr;let _r=Ot[lr];do{const Cr=Bt[_r];do lr+=Cr;while(!Ot[lr]);const Er=Ot[lr];Er!==5&&Er!==10?(_r=Er,Ot[lr]=0):(_r=Er&51*_r>>4,Ot[lr]&=_r>>2|_r<<2),Qt.lineTo(lr%At,lr/At|0),Ot[lr]||--Nt}while(vr!==lr);--Dt}return Vt=null,Ot=null,function(lr){lr.save(),lr.scale(1/kt,-1/Ft),lr.translate(0,-Ft),lr.fill(Qt),lr.beginPath(),lr.restore()}}class vt{constructor(kt,Ft){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,kt,Ft])}clone(){const kt=Object.create(this);return kt.clipBox=this.clipBox.slice(),kt}setCurrentPoint(kt,Ft){this.x=kt,this.y=Ft}updatePathMinMax(kt,Ft,er){[Ft,er]=_.Util.applyTransform([Ft,er],kt),this.minX=Math.min(this.minX,Ft),this.minY=Math.min(this.minY,er),this.maxX=Math.max(this.maxX,Ft),this.maxY=Math.max(this.maxY,er)}updateRectMinMax(kt,Ft){const er=_.Util.applyTransform(Ft,kt),Zt=_.Util.applyTransform(Ft.slice(2),kt);this.minX=Math.min(this.minX,er[0],Zt[0]),this.minY=Math.min(this.minY,er[1],Zt[1]),this.maxX=Math.max(this.maxX,er[0],Zt[0]),this.maxY=Math.max(this.maxY,er[1],Zt[1])}updateScalingPathMinMax(kt,Ft){_.Util.scaleMinMax(kt,Ft),this.minX=Math.min(this.minX,Ft[0]),this.maxX=Math.max(this.maxX,Ft[1]),this.minY=Math.min(this.minY,Ft[2]),this.maxY=Math.max(this.maxY,Ft[3])}updateCurvePathMinMax(kt,Ft,er,Zt,At,Ot,Dt,zt,Xt,wt){const Vt=_.Util.bezierBoundingBox(Ft,er,Zt,At,Ot,Dt,zt,Xt);if(wt){wt[0]=Math.min(wt[0],Vt[0],Vt[2]),wt[1]=Math.max(wt[1],Vt[0],Vt[2]),wt[2]=Math.min(wt[2],Vt[1],Vt[3]),wt[3]=Math.max(wt[3],Vt[1],Vt[3]);return}this.updateRectMinMax(kt,Vt)}getPathBoundingBox(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.PathType.FILL,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const er=[this.minX,this.minY,this.maxX,this.maxY];if(kt===$.PathType.STROKE){Ft||(0,_.unreachable)("Stroke bounding box must include transform.");const Zt=_.Util.singularValueDecompose2dScale(Ft),At=Zt[0]*this.lineWidth/2,Ot=Zt[1]*this.lineWidth/2;er[0]-=At,er[1]-=Ot,er[2]+=At,er[3]+=Ot}return er}updateClipFromPath(){const kt=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(kt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(kt){this.clipBox=kt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.PathType.FILL,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return _.Util.intersect(this.clipBox,this.getPathBoundingBox(kt,Ft))}}function St(Yt,kt){let Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&kt instanceof ImageData){Yt.putImageData(kt,0,0);return}const er=kt.height,Zt=kt.width,At=er%pt,Ot=(er-At)/pt,Dt=At===0?Ot:Ot+1,zt=Yt.createImageData(Zt,pt);let Xt=0,wt;const Vt=kt.data,qt=zt.data;let Nt,Bt,Qt,sr,lr,ar,vr,_r;if(Ft)switch(Ft.length){case 1:lr=Ft[0],ar=Ft[0],vr=Ft[0],_r=Ft[0];break;case 4:lr=Ft[0],ar=Ft[1],vr=Ft[2],_r=Ft[3];break}if(kt.kind===_.ImageKind.GRAYSCALE_1BPP){const Cr=Vt.byteLength,Er=new Uint32Array(qt.buffer,0,qt.byteLength>>2),qr=Er.length,Ur=Zt+7>>3;let Vr=4294967295,Dr=_.FeatureTest.isLittleEndian?4278190080:255;for(_r&&_r[0]===255&&_r[255]===0&&([Vr,Dr]=[Dr,Vr]),Nt=0;Nt<Dt;Nt++){for(Qt=Nt<Ot?pt:At,wt=0,Bt=0;Bt<Qt;Bt++){const hr=Cr-Xt;let Or=0;const Wr=hr>Ur?Zt:hr*8-7,gn=Wr&-8;let Ar=0,Nr=0;for(;Or<gn;Or+=8)Nr=Vt[Xt++],Er[wt++]=Nr&128?Vr:Dr,Er[wt++]=Nr&64?Vr:Dr,Er[wt++]=Nr&32?Vr:Dr,Er[wt++]=Nr&16?Vr:Dr,Er[wt++]=Nr&8?Vr:Dr,Er[wt++]=Nr&4?Vr:Dr,Er[wt++]=Nr&2?Vr:Dr,Er[wt++]=Nr&1?Vr:Dr;for(;Or<Wr;Or++)Ar===0&&(Nr=Vt[Xt++],Ar=128),Er[wt++]=Nr&Ar?Vr:Dr,Ar>>=1}for(;wt<qr;)Er[wt++]=0;Yt.putImageData(zt,0,Nt*pt)}}else if(kt.kind===_.ImageKind.RGBA_32BPP){const Cr=!!(lr||ar||vr);for(Bt=0,sr=Zt*pt*4,Nt=0;Nt<Ot;Nt++){if(qt.set(Vt.subarray(Xt,Xt+sr)),Xt+=sr,Cr)for(let Er=0;Er<sr;Er+=4)lr&&(qt[Er+0]=lr[qt[Er+0]]),ar&&(qt[Er+1]=ar[qt[Er+1]]),vr&&(qt[Er+2]=vr[qt[Er+2]]);Yt.putImageData(zt,0,Bt),Bt+=pt}if(Nt<Dt){if(sr=Zt*At*4,qt.set(Vt.subarray(Xt,Xt+sr)),Cr)for(let Er=0;Er<sr;Er+=4)lr&&(qt[Er+0]=lr[qt[Er+0]]),ar&&(qt[Er+1]=ar[qt[Er+1]]),vr&&(qt[Er+2]=vr[qt[Er+2]]);Yt.putImageData(zt,0,Bt)}}else if(kt.kind===_.ImageKind.RGB_24BPP){const Cr=!!(lr||ar||vr);for(Qt=pt,sr=Zt*Qt,Nt=0;Nt<Dt;Nt++){for(Nt>=Ot&&(Qt=At,sr=Zt*Qt),wt=0,Bt=sr;Bt--;)qt[wt++]=Vt[Xt++],qt[wt++]=Vt[Xt++],qt[wt++]=Vt[Xt++],qt[wt++]=255;if(Cr)for(let Er=0;Er<wt;Er+=4)lr&&(qt[Er+0]=lr[qt[Er+0]]),ar&&(qt[Er+1]=ar[qt[Er+1]]),vr&&(qt[Er+2]=vr[qt[Er+2]]);Yt.putImageData(zt,0,Nt*pt)}}else throw new Error(`bad image kind: ${kt.kind}`)}function _t(Yt,kt){if(kt.bitmap){Yt.drawImage(kt.bitmap,0,0);return}const Ft=kt.height,er=kt.width,Zt=Ft%pt,At=(Ft-Zt)/pt,Ot=Zt===0?At:At+1,Dt=Yt.createImageData(er,pt);let zt=0;const Xt=kt.data,wt=Dt.data;for(let Vt=0;Vt<Ot;Vt++){const qt=Vt<At?pt:Zt;({srcPos:zt}=(0,j.applyMaskImageData)({src:Xt,srcPos:zt,dest:wt,width:er,height:qt})),Yt.putImageData(Dt,0,Vt*pt)}}function Et(Yt,kt){const Ft=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let er=0,Zt=Ft.length;er<Zt;er++){const At=Ft[er];Yt[At]!==void 0&&(kt[At]=Yt[At])}Yt.setLineDash!==void 0&&(kt.setLineDash(Yt.getLineDash()),kt.lineDashOffset=Yt.lineDashOffset)}function Pt(Yt,kt){Yt.strokeStyle=Yt.fillStyle=kt||"#000000",Yt.fillRule="nonzero",Yt.globalAlpha=1,Yt.lineWidth=1,Yt.lineCap="butt",Yt.lineJoin="miter",Yt.miterLimit=10,Yt.globalCompositeOperation="source-over",Yt.font="10px sans-serif",Yt.setLineDash!==void 0&&(Yt.setLineDash([]),Yt.lineDashOffset=0)}function Mt(Yt,kt,Ft,er){const Zt=Yt.length;for(let At=3;At<Zt;At+=4){const Ot=Yt[At];if(Ot===0)Yt[At-3]=kt,Yt[At-2]=Ft,Yt[At-1]=er;else if(Ot<255){const Dt=255-Ot;Yt[At-3]=Yt[At-3]*Ot+kt*Dt>>8,Yt[At-2]=Yt[At-2]*Ot+Ft*Dt>>8,Yt[At-1]=Yt[At-1]*Ot+er*Dt>>8}}}function Rt(Yt,kt,Ft){const er=Yt.length,Zt=1/255;for(let At=3;At<er;At+=4){const Ot=Ft?Ft[Yt[At]]:Yt[At];kt[At]=kt[At]*Ot*Zt|0}}function Ut(Yt,kt,Ft){const er=Yt.length;for(let Zt=3;Zt<er;Zt+=4){const At=Yt[Zt-3]*77+Yt[Zt-2]*152+Yt[Zt-1]*28;kt[Zt]=Ft?kt[Zt]*Ft[At>>8]>>8:kt[Zt]*At>>16}}function Ct(Yt,kt,Ft,er,Zt,At,Ot,Dt,zt,Xt,wt){const Vt=!!At,qt=Vt?At[0]:0,Nt=Vt?At[1]:0,Bt=Vt?At[2]:0;let Qt;Zt==="Luminosity"?Qt=Ut:Qt=Rt;const lr=Math.min(er,Math.ceil(1048576/Ft));for(let ar=0;ar<er;ar+=lr){const vr=Math.min(lr,er-ar),_r=Yt.getImageData(Dt-Xt,ar+(zt-wt),Ft,vr),Cr=kt.getImageData(Dt,ar+zt,Ft,vr);Vt&&Mt(_r.data,qt,Nt,Bt),Qt(_r.data,Cr.data,Ot),kt.putImageData(Cr,Dt,ar+zt)}}function Kt(Yt,kt,Ft,er){const Zt=er[0],At=er[1],Ot=er[2]-Zt,Dt=er[3]-At;Ot===0||Dt===0||(Ct(kt.context,Ft,Ot,Dt,kt.subtype,kt.backdrop,kt.transferMap,Zt,At,kt.offsetX,kt.offsetY),Yt.save(),Yt.globalAlpha=1,Yt.globalCompositeOperation="source-over",Yt.setTransform(1,0,0,1,0,0),Yt.drawImage(Ft.canvas,0,0),Yt.restore())}function Gt(Yt,kt){const Ft=_.Util.singularValueDecompose2dScale(Yt);Ft[0]=Math.fround(Ft[0]),Ft[1]=Math.fround(Ft[1]);const er=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return kt!==void 0?kt:Ft[0]<=er||Ft[1]<=er}const It=["butt","round","square"],jt=["miter","round","bevel"],$t={},Jt={};var Wt=new WeakSet;class tr{constructor(kt,Ft,er,Zt,At,Ot,Dt,zt){rt(this,Wt),this.ctx=kt,this.current=new vt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ft,this.objs=er,this.canvasFactory=Zt,this.imageLayer=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Ot,this.cachedCanvases=new ht(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Dt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(zt==null?void 0:zt.background)||null,this.foregroundColor=(zt==null?void 0:zt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(kt){let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof kt=="string"?kt.startsWith("g_")?this.commonObjs.get(kt):this.objs.get(kt):Ft}beginDrawing(kt){let{transform:Ft,viewport:er,transparency:Zt=!1,background:At=null}=kt;const Ot=this.ctx.canvas.width,Dt=this.ctx.canvas.height,zt=At||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Xt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const wt=this.backgroundColor=this.ctx.fillStyle;let Vt=!0,qt=zt;if(this.ctx.fillStyle=zt,qt=this.ctx.fillStyle,Vt=typeof qt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(qt),Xt==="#000000"&&wt==="#ffffff"||Xt===wt||!Vt)this.foregroundColor=this.backgroundColor=null;else{const[Nt,Bt,Qt]=(0,o.getRGB)(qt),sr=ar=>(ar/=255,ar<=.03928?ar/12.92:((ar+.055)/1.055)**2.4),lr=Math.round(.2126*sr(Nt)+.7152*sr(Bt)+.0722*sr(Qt));this.selectColor=(ar,vr,_r)=>{const Cr=.2126*sr(ar)+.7152*sr(vr)+.0722*sr(_r);return Math.round(Cr)===lr?wt:Xt}}}if(this.ctx.fillStyle=this.backgroundColor||zt,this.ctx.fillRect(0,0,Ot,Dt),this.ctx.restore(),Zt){const Xt=this.cachedCanvases.getCanvas("transparent",Ot,Dt);this.compositeCtx=this.ctx,this.transparentCanvas=Xt.canvas,this.ctx=Xt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Pt(this.ctx,this.foregroundColor),Ft&&(this.ctx.transform(...Ft),this.outputScaleX=Ft[0],this.outputScaleY=Ft[0]),this.ctx.transform(...er.transform),this.viewportScale=er.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx),this.imageLayer&&((0,o.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(kt,Ft,er,Zt){const At=kt.argsArray,Ot=kt.fnArray;let Dt=Ft||0;const zt=At.length;if(zt===Dt)return Dt;const Xt=zt-Dt>ct&&typeof er=="function",wt=Xt?Date.now()+gt:0;let Vt=0;const qt=this.commonObjs,Nt=this.objs;let Bt;for(;;){if(Zt!==void 0&&Dt===Zt.nextBreakPoint)return Zt.breakIt(Dt,er),Dt;if(Bt=Ot[Dt],Bt!==_.OPS.dependency)this[Bt].apply(this,At[Dt]);else for(const Qt of At[Dt]){const sr=Qt.startsWith("g_")?qt:Nt;if(!sr.has(Qt))return sr.get(Qt,er),Dt}if(Dt++,Dt===zt)return Dt;if(Xt&&++Vt>ct){if(Date.now()>wt)return er(),Dt;Vt=0}}}endDrawing(){it(this,Wt,mr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const kt of this._cachedBitmapsMap.values()){for(const Ft of kt.values())typeof HTMLCanvasElement<"u"&&Ft instanceof HTMLCanvasElement&&(Ft.width=Ft.height=0);kt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(kt,Ft){const er=kt.width,Zt=kt.height;let At=Math.max(Math.hypot(Ft[0],Ft[1]),1),Ot=Math.max(Math.hypot(Ft[2],Ft[3]),1),Dt=er,zt=Zt,Xt="prescale1",wt,Vt;for(;At>2&&Dt>1||Ot>2&&zt>1;){let qt=Dt,Nt=zt;At>2&&Dt>1&&(qt=Math.ceil(Dt/2),At/=Dt/qt),Ot>2&&zt>1&&(Nt=Math.ceil(zt/2),Ot/=zt/Nt),wt=this.cachedCanvases.getCanvas(Xt,qt,Nt),Vt=wt.context,Vt.clearRect(0,0,qt,Nt),Vt.drawImage(kt,0,0,Dt,zt,0,0,qt,Nt),kt=wt.canvas,Dt=qt,zt=Nt,Xt=Xt==="prescale1"?"prescale2":"prescale1"}return{img:kt,paintWidth:Dt,paintHeight:zt}}_createMaskCanvas(kt){const Ft=this.ctx,{width:er,height:Zt}=kt,At=this.current.fillColor,Ot=this.current.patternFill,Dt=(0,o.getCurrentTransform)(Ft);let zt,Xt,wt,Vt;if((kt.bitmap||kt.data)&&kt.count>1){const qr=kt.bitmap||kt.data.buffer,Ur=Dt.slice(0,4);Xt=JSON.stringify(Ot?Ur:[Ur,At]),zt=this._cachedBitmapsMap.get(qr),zt||(zt=new Map,this._cachedBitmapsMap.set(qr,zt));const Vr=zt.get(Xt);if(Vr&&!Ot){const Dr=Math.round(Math.min(Dt[0],Dt[2])+Dt[4]),hr=Math.round(Math.min(Dt[1],Dt[3])+Dt[5]);return{canvas:Vr,offsetX:Dr,offsetY:hr}}wt=Vr}wt||(Vt=this.cachedCanvases.getCanvas("maskCanvas",er,Zt),_t(Vt.context,kt));let qt=_.Util.transform(Dt,[1/er,0,0,-1/Zt,0,0]);qt=_.Util.transform(qt,[1,0,0,1,0,-Zt]);const Nt=_.Util.applyTransform([0,0],qt),Bt=_.Util.applyTransform([er,Zt],qt),Qt=_.Util.normalizeRect([Nt[0],Nt[1],Bt[0],Bt[1]]),sr=Math.round(Qt[2]-Qt[0])||1,lr=Math.round(Qt[3]-Qt[1])||1,ar=this.cachedCanvases.getCanvas("fillCanvas",sr,lr),vr=ar.context,_r=Math.min(Nt[0],Bt[0]),Cr=Math.min(Nt[1],Bt[1]);vr.translate(-_r,-Cr),vr.transform(...qt),wt||(wt=this._scaleImage(Vt.canvas,(0,o.getCurrentTransformInverse)(vr)),wt=wt.img,zt&&Ot&&zt.set(Xt,wt)),vr.imageSmoothingEnabled=Gt((0,o.getCurrentTransform)(vr),kt.interpolate),mt(vr,wt,0,0,wt.width,wt.height,0,0,er,Zt),vr.globalCompositeOperation="source-in";const Er=_.Util.transform((0,o.getCurrentTransformInverse)(vr),[1,0,0,1,-_r,-Cr]);return vr.fillStyle=Ot?At.getPattern(Ft,this,Er,$.PathType.FILL):At,vr.fillRect(0,0,er,Zt),zt&&!Ot&&(this.cachedCanvases.delete("fillCanvas"),zt.set(Xt,ar.canvas)),{canvas:ar.canvas,offsetX:Math.round(_r),offsetY:Math.round(Cr)}}setLineWidth(kt){kt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=kt,this.ctx.lineWidth=kt}setLineCap(kt){this.ctx.lineCap=It[kt]}setLineJoin(kt){this.ctx.lineJoin=jt[kt]}setMiterLimit(kt){this.ctx.miterLimit=kt}setDash(kt,Ft){const er=this.ctx;er.setLineDash!==void 0&&(er.setLineDash(kt),er.lineDashOffset=Ft)}setRenderingIntent(kt){}setFlatness(kt){}setGState(kt){for(let Ft=0,er=kt.length;Ft<er;Ft++){const Zt=kt[Ft],At=Zt[0],Ot=Zt[1];switch(At){case"LW":this.setLineWidth(Ot);break;case"LC":this.setLineCap(Ot);break;case"LJ":this.setLineJoin(Ot);break;case"ML":this.setMiterLimit(Ot);break;case"D":this.setDash(Ot[0],Ot[1]);break;case"RI":this.setRenderingIntent(Ot);break;case"FL":this.setFlatness(Ot);break;case"Font":this.setFont(Ot[0],Ot[1]);break;case"CA":this.current.strokeAlpha=Zt[1];break;case"ca":this.current.fillAlpha=Zt[1],this.ctx.globalAlpha=Zt[1];break;case"BM":this.ctx.globalCompositeOperation=Ot;break;case"SMask":this.current.activeSMask=Ot?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Ot}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const kt=this.inSMaskMode;this.current.activeSMask&&!kt?this.beginSMaskMode():!this.current.activeSMask&&kt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const kt=this.ctx.canvas.width,Ft=this.ctx.canvas.height,er="smaskGroupAt"+this.groupLevel,Zt=this.cachedCanvases.getCanvas(er,kt,Ft);this.suspendedCtx=this.ctx,this.ctx=Zt.context;const At=this.ctx;At.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),Et(this.suspendedCtx,At),ut(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Et(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(kt){if(!this.current.activeSMask)return;kt?(kt[0]=Math.floor(kt[0]),kt[1]=Math.floor(kt[1]),kt[2]=Math.ceil(kt[2]),kt[3]=Math.ceil(kt[3])):kt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ft=this.current.activeSMask,er=this.suspendedCtx;Kt(er,Ft,this.ctx,kt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Et(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const kt=this.current;this.stateStack.push(kt),this.current=kt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Et(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(kt,Ft,er,Zt,At,Ot){this.ctx.transform(kt,Ft,er,Zt,At,Ot),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(kt,Ft,er){const Zt=this.ctx,At=this.current;let Ot=At.x,Dt=At.y,zt,Xt;const wt=(0,o.getCurrentTransform)(Zt),Vt=wt[0]===0&&wt[3]===0||wt[1]===0&&wt[2]===0,qt=Vt?er.slice(0):null;for(let Nt=0,Bt=0,Qt=kt.length;Nt<Qt;Nt++)switch(kt[Nt]|0){case _.OPS.rectangle:Ot=Ft[Bt++],Dt=Ft[Bt++];const sr=Ft[Bt++],lr=Ft[Bt++],ar=Ot+sr,vr=Dt+lr;Zt.moveTo(Ot,Dt),sr===0||lr===0?Zt.lineTo(ar,vr):(Zt.lineTo(ar,Dt),Zt.lineTo(ar,vr),Zt.lineTo(Ot,vr)),Vt||At.updateRectMinMax(wt,[Ot,Dt,ar,vr]),Zt.closePath();break;case _.OPS.moveTo:Ot=Ft[Bt++],Dt=Ft[Bt++],Zt.moveTo(Ot,Dt),Vt||At.updatePathMinMax(wt,Ot,Dt);break;case _.OPS.lineTo:Ot=Ft[Bt++],Dt=Ft[Bt++],Zt.lineTo(Ot,Dt),Vt||At.updatePathMinMax(wt,Ot,Dt);break;case _.OPS.curveTo:zt=Ot,Xt=Dt,Ot=Ft[Bt+4],Dt=Ft[Bt+5],Zt.bezierCurveTo(Ft[Bt],Ft[Bt+1],Ft[Bt+2],Ft[Bt+3],Ot,Dt),At.updateCurvePathMinMax(wt,zt,Xt,Ft[Bt],Ft[Bt+1],Ft[Bt+2],Ft[Bt+3],Ot,Dt,qt),Bt+=6;break;case _.OPS.curveTo2:zt=Ot,Xt=Dt,Zt.bezierCurveTo(Ot,Dt,Ft[Bt],Ft[Bt+1],Ft[Bt+2],Ft[Bt+3]),At.updateCurvePathMinMax(wt,zt,Xt,Ot,Dt,Ft[Bt],Ft[Bt+1],Ft[Bt+2],Ft[Bt+3],qt),Ot=Ft[Bt+2],Dt=Ft[Bt+3],Bt+=4;break;case _.OPS.curveTo3:zt=Ot,Xt=Dt,Ot=Ft[Bt+2],Dt=Ft[Bt+3],Zt.bezierCurveTo(Ft[Bt],Ft[Bt+1],Ot,Dt,Ot,Dt),At.updateCurvePathMinMax(wt,zt,Xt,Ft[Bt],Ft[Bt+1],Ot,Dt,Ot,Dt,qt),Bt+=4;break;case _.OPS.closePath:Zt.closePath();break}Vt&&At.updateScalingPathMinMax(wt,qt),At.setCurrentPoint(Ot,Dt)}closePath(){this.ctx.closePath()}stroke(kt){kt=typeof kt<"u"?kt:!0;const Ft=this.ctx,er=this.current.strokeColor;Ft.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof er=="object"&&er!==null&&er!==void 0&&er.getPattern?(Ft.save(),Ft.strokeStyle=er.getPattern(Ft,this,(0,o.getCurrentTransformInverse)(Ft),$.PathType.STROKE),this.rescaleAndStroke(!1),Ft.restore()):this.rescaleAndStroke(!0)),kt&&this.consumePath(this.current.getClippedPathBoundingBox()),Ft.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(kt){kt=typeof kt<"u"?kt:!0;const Ft=this.ctx,er=this.current.fillColor,Zt=this.current.patternFill;let At=!1;Zt&&(Ft.save(),Ft.fillStyle=er.getPattern(Ft,this,(0,o.getCurrentTransformInverse)(Ft),$.PathType.FILL),At=!0);const Ot=this.current.getClippedPathBoundingBox();this.contentVisible&&Ot!==null&&(this.pendingEOFill?(Ft.fill("evenodd"),this.pendingEOFill=!1):Ft.fill()),At&&Ft.restore(),kt&&this.consumePath(Ot)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$t}eoClip(){this.pendingClip=Jt}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const kt=this.pendingTextPaths,Ft=this.ctx;if(kt===void 0){Ft.beginPath();return}Ft.save(),Ft.beginPath();for(const er of kt)Ft.setTransform(...er.transform),Ft.translate(er.x,er.y),er.addToPath(Ft,er.fontSize);Ft.restore(),Ft.clip(),Ft.beginPath(),delete this.pendingTextPaths}setCharSpacing(kt){this.current.charSpacing=kt}setWordSpacing(kt){this.current.wordSpacing=kt}setHScale(kt){this.current.textHScale=kt/100}setLeading(kt){this.current.leading=-kt}setFont(kt,Ft){const er=this.commonObjs.get(kt),Zt=this.current;if(!er)throw new Error(`Can't find font for ${kt}`);if(Zt.fontMatrix=er.fontMatrix||_.FONT_IDENTITY_MATRIX,(Zt.fontMatrix[0]===0||Zt.fontMatrix[3]===0)&&(0,_.warn)("Invalid font matrix for font "+kt),Ft<0?(Ft=-Ft,Zt.fontDirection=-1):Zt.fontDirection=1,this.current.font=er,this.current.fontSize=Ft,er.isType3Font)return;const At=er.loadedName||"sans-serif";let Ot="normal";er.black?Ot="900":er.bold&&(Ot="bold");const Dt=er.italic?"italic":"normal",zt=`"${At}", ${er.fallbackName}`;let Xt=Ft;Ft<ot?Xt=ot:Ft>at&&(Xt=at),this.current.fontSizeScale=Ft/Xt,this.ctx.font=`${Dt} ${Ot} ${Xt}px ${zt}`}setTextRenderingMode(kt){this.current.textRenderingMode=kt}setTextRise(kt){this.current.textRise=kt}moveText(kt,Ft){this.current.x=this.current.lineX+=kt,this.current.y=this.current.lineY+=Ft}setLeadingMoveText(kt,Ft){this.setLeading(-Ft),this.moveText(kt,Ft)}setTextMatrix(kt,Ft,er,Zt,At,Ot){this.current.textMatrix=[kt,Ft,er,Zt,At,Ot],this.current.textMatrixScale=Math.hypot(kt,Ft),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(kt,Ft,er,Zt){const At=this.ctx,Ot=this.current,Dt=Ot.font,zt=Ot.textRenderingMode,Xt=Ot.fontSize/Ot.fontSizeScale,wt=zt&_.TextRenderingMode.FILL_STROKE_MASK,Vt=!!(zt&_.TextRenderingMode.ADD_TO_PATH_FLAG),qt=Ot.patternFill&&!Dt.missingFile;let Nt;(Dt.disableFontFace||Vt||qt)&&(Nt=Dt.getPathGenerator(this.commonObjs,kt)),Dt.disableFontFace||qt?(At.save(),At.translate(Ft,er),At.beginPath(),Nt(At,Xt),Zt&&At.setTransform(...Zt),(wt===_.TextRenderingMode.FILL||wt===_.TextRenderingMode.FILL_STROKE)&&At.fill(),(wt===_.TextRenderingMode.STROKE||wt===_.TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((wt===_.TextRenderingMode.FILL||wt===_.TextRenderingMode.FILL_STROKE)&&At.fillText(kt,Ft,er),(wt===_.TextRenderingMode.STROKE||wt===_.TextRenderingMode.FILL_STROKE)&&At.strokeText(kt,Ft,er)),Vt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(At),x:Ft,y:er,fontSize:Xt,addToPath:Nt})}get isFontSubpixelAAEnabled(){const{context:kt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);kt.scale(1.5,1),kt.fillText("I",0,10);const Ft=kt.getImageData(0,0,10,10).data;let er=!1;for(let Zt=3;Zt<Ft.length;Zt+=4)if(Ft[Zt]>0&&Ft[Zt]<255){er=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",er)}showText(kt){const Ft=this.current,er=Ft.font;if(er.isType3Font)return this.showType3Text(kt);const Zt=Ft.fontSize;if(Zt===0)return;const At=this.ctx,Ot=Ft.fontSizeScale,Dt=Ft.charSpacing,zt=Ft.wordSpacing,Xt=Ft.fontDirection,wt=Ft.textHScale*Xt,Vt=kt.length,qt=er.vertical,Nt=qt?1:-1,Bt=er.defaultVMetrics,Qt=Zt*Ft.fontMatrix[0],sr=Ft.textRenderingMode===_.TextRenderingMode.FILL&&!er.disableFontFace&&!Ft.patternFill;At.save(),At.transform(...Ft.textMatrix),At.translate(Ft.x,Ft.y+Ft.textRise),Xt>0?At.scale(wt,-1):At.scale(wt,1);let lr;if(Ft.patternFill){At.save();const Er=Ft.fillColor.getPattern(At,this,(0,o.getCurrentTransformInverse)(At),$.PathType.FILL);lr=(0,o.getCurrentTransform)(At),At.restore(),At.fillStyle=Er}let ar=Ft.lineWidth;const vr=Ft.textMatrixScale;if(vr===0||ar===0){const Er=Ft.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(Er===_.TextRenderingMode.STROKE||Er===_.TextRenderingMode.FILL_STROKE)&&(ar=this.getSinglePixelWidth())}else ar/=vr;Ot!==1&&(At.scale(Ot,Ot),ar/=Ot),At.lineWidth=ar;let _r=0,Cr;for(Cr=0;Cr<Vt;++Cr){const Er=kt[Cr];if(typeof Er=="number"){_r+=Nt*Er*Zt/1e3;continue}let qr=!1;const Ur=(Er.isSpace?zt:0)+Dt,Vr=Er.fontChar,Dr=Er.accent;let hr,Or,Wr=Er.width;if(qt){const Ar=Er.vmetric||Bt,Nr=-(Er.vmetric?Ar[1]:Wr*.5)*Qt,Jr=Ar[2]*Qt;Wr=Ar?-Ar[0]:Wr,hr=Nr/Ot,Or=(_r+Jr)/Ot}else hr=_r/Ot,Or=0;if(er.remeasure&&Wr>0){const Ar=At.measureText(Vr).width*1e3/Zt*Ot;if(Wr<Ar&&this.isFontSubpixelAAEnabled){const Nr=Wr/Ar;qr=!0,At.save(),At.scale(Nr,1),hr/=Nr}else Wr!==Ar&&(hr+=(Wr-Ar)/2e3*Zt/Ot)}if(this.contentVisible&&(Er.isInFont||er.missingFile)){if(sr&&!Dr)At.fillText(Vr,hr,Or);else if(this.paintChar(Vr,hr,Or,lr),Dr){const Ar=hr+Zt*Dr.offset.x/Ot,Nr=Or-Zt*Dr.offset.y/Ot;this.paintChar(Dr.fontChar,Ar,Nr,lr)}}let gn;qt?gn=Wr*Qt-Ur*Xt:gn=Wr*Qt+Ur*Xt,_r+=gn,qr&&At.restore()}qt?Ft.y-=_r:Ft.x+=_r*wt,At.restore(),this.compose()}showType3Text(kt){const Ft=this.ctx,er=this.current,Zt=er.font,At=er.fontSize,Ot=er.fontDirection,Dt=Zt.vertical?1:-1,zt=er.charSpacing,Xt=er.wordSpacing,wt=er.textHScale*Ot,Vt=er.fontMatrix||_.FONT_IDENTITY_MATRIX,qt=kt.length,Nt=er.textRenderingMode===_.TextRenderingMode.INVISIBLE;let Bt,Qt,sr,lr;if(!(Nt||At===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Ft.save(),Ft.transform(...er.textMatrix),Ft.translate(er.x,er.y),Ft.scale(wt,Ot),Bt=0;Bt<qt;++Bt){if(Qt=kt[Bt],typeof Qt=="number"){lr=Dt*Qt*At/1e3,this.ctx.translate(lr,0),er.x+=lr*wt;continue}const ar=(Qt.isSpace?Xt:0)+zt,vr=Zt.charProcOperatorList[Qt.operatorListId];if(!vr){(0,_.warn)(`Type3 character "${Qt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Qt,this.save(),Ft.scale(At,At),Ft.transform(...Vt),this.executeOperatorList(vr),this.restore()),sr=_.Util.applyTransform([Qt.width,0],Vt)[0]*At+ar,Ft.translate(sr,0),er.x+=sr*wt}Ft.restore(),this.processingType3=null}}setCharWidth(kt,Ft){}setCharWidthAndBounds(kt,Ft,er,Zt,At,Ot){this.ctx.rect(er,Zt,At-er,Ot-Zt),this.ctx.clip(),this.endPath()}getColorN_Pattern(kt){let Ft;if(kt[0]==="TilingPattern"){const er=kt[1],Zt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),At={createCanvasGraphics:Ot=>new tr(Ot,this.commonObjs,this.objs,this.canvasFactory)};Ft=new $.TilingPattern(kt,er,this.ctx,At,Zt)}else Ft=this._getPattern(kt[1],kt[2]);return Ft}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(kt,Ft,er){var Zt;const At=((Zt=this.selectColor)===null||Zt===void 0?void 0:Zt.call(this,kt,Ft,er))||_.Util.makeHexColor(kt,Ft,er);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor(kt,Ft,er){var Zt;const At=((Zt=this.selectColor)===null||Zt===void 0?void 0:Zt.call(this,kt,Ft,er))||_.Util.makeHexColor(kt,Ft,er);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern(kt){let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,er;return this.cachedPatterns.has(kt)?er=this.cachedPatterns.get(kt):(er=(0,$.getShadingPattern)(this.objs.get(kt)),this.cachedPatterns.set(kt,er)),Ft&&(er.matrix=Ft),er}shadingFill(kt){if(!this.contentVisible)return;const Ft=this.ctx;this.save();const er=this._getPattern(kt);Ft.fillStyle=er.getPattern(Ft,this,(0,o.getCurrentTransformInverse)(Ft),$.PathType.SHADING);const Zt=(0,o.getCurrentTransformInverse)(Ft);if(Zt){const At=Ft.canvas,Ot=At.width,Dt=At.height,zt=_.Util.applyTransform([0,0],Zt),Xt=_.Util.applyTransform([0,Dt],Zt),wt=_.Util.applyTransform([Ot,0],Zt),Vt=_.Util.applyTransform([Ot,Dt],Zt),qt=Math.min(zt[0],Xt[0],wt[0],Vt[0]),Nt=Math.min(zt[1],Xt[1],wt[1],Vt[1]),Bt=Math.max(zt[0],Xt[0],wt[0],Vt[0]),Qt=Math.max(zt[1],Xt[1],wt[1],Vt[1]);this.ctx.fillRect(qt,Nt,Bt-qt,Qt-Nt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(kt,Ft){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(kt)&&kt.length===6&&this.transform(...kt),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),Ft)){const er=Ft[2]-Ft[0],Zt=Ft[3]-Ft[1];this.ctx.rect(Ft[0],Ft[1],er,Zt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),Ft),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(kt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ft=this.ctx;kt.isolated||(0,_.info)("TODO: Support non-isolated groups."),kt.knockout&&(0,_.warn)("Knockout groups not supported.");const er=(0,o.getCurrentTransform)(Ft);if(kt.matrix&&Ft.transform(...kt.matrix),!kt.bbox)throw new Error("Bounding box is required.");let Zt=_.Util.getAxialAlignedBoundingBox(kt.bbox,(0,o.getCurrentTransform)(Ft));const At=[0,0,Ft.canvas.width,Ft.canvas.height];Zt=_.Util.intersect(Zt,At)||[0,0,0,0];const Ot=Math.floor(Zt[0]),Dt=Math.floor(Zt[1]);let zt=Math.max(Math.ceil(Zt[2])-Ot,1),Xt=Math.max(Math.ceil(Zt[3])-Dt,1),wt=1,Vt=1;zt>lt&&(wt=zt/lt,zt=lt),Xt>lt&&(Vt=Xt/lt,Xt=lt),this.current.startNewPathAndClipBox([0,0,zt,Xt]);let qt="groupAt"+this.groupLevel;kt.smask&&(qt+="_smask_"+this.smaskCounter++%2);const Nt=this.cachedCanvases.getCanvas(qt,zt,Xt),Bt=Nt.context;Bt.scale(1/wt,1/Vt),Bt.translate(-Ot,-Dt),Bt.transform(...er),kt.smask?this.smaskStack.push({canvas:Nt.canvas,context:Bt,offsetX:Ot,offsetY:Dt,scaleX:wt,scaleY:Vt,subtype:kt.smask.subtype,backdrop:kt.smask.backdrop,transferMap:kt.smask.transferMap||null,startTransformInverse:null}):(Ft.setTransform(1,0,0,1,0,0),Ft.translate(Ot,Dt),Ft.scale(wt,Vt),Ft.save()),Et(Ft,Bt),this.ctx=Bt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ft),this.groupLevel++}endGroup(kt){if(!this.contentVisible)return;this.groupLevel--;const Ft=this.ctx,er=this.groupStack.pop();if(this.ctx=er,this.ctx.imageSmoothingEnabled=!1,kt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Zt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Zt);const At=_.Util.getAxialAlignedBoundingBox([0,0,Ft.canvas.width,Ft.canvas.height],Zt);this.ctx.drawImage(Ft.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation(kt,Ft,er,Zt,At){if(it(this,Wt,mr).call(this),Pt(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ft)&&Ft.length===4){const Ot=Ft[2]-Ft[0],Dt=Ft[3]-Ft[1];if(At&&this.annotationCanvasMap){er=er.slice(),er[4]-=Ft[0],er[5]-=Ft[1],Ft=Ft.slice(),Ft[0]=Ft[1]=0,Ft[2]=Ot,Ft[3]=Dt;const[zt,Xt]=_.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:wt}=this,Vt=Math.ceil(Ot*this.outputScaleX*wt),qt=Math.ceil(Dt*this.outputScaleY*wt);this.annotationCanvas=this.canvasFactory.create(Vt,qt);const{canvas:Nt,context:Bt}=this.annotationCanvas;this.annotationCanvasMap.set(kt,Nt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Bt,this.ctx.setTransform(zt,0,0,-Xt,0,Dt*Xt),Pt(this.ctx,this.foregroundColor)}else Pt(this.ctx,this.foregroundColor),this.ctx.rect(Ft[0],Ft[1],Ot,Dt),this.ctx.clip(),this.endPath()}this.current=new vt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...er),this.transform(...Zt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(kt){if(!this.contentVisible)return;const Ft=kt.count;kt=this.getObject(kt.data,kt),kt.count=Ft;const er=this.ctx,Zt=this.processingType3;if(Zt&&(Zt.compiled===void 0&&(Zt.compiled=dt(kt)),Zt.compiled)){Zt.compiled(er);return}const At=this._createMaskCanvas(kt),Ot=At.canvas;er.save(),er.setTransform(1,0,0,1,0,0),er.drawImage(Ot,At.offsetX,At.offsetY),er.restore(),this.compose()}paintImageMaskXObjectRepeat(kt,Ft){let er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Zt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,At=arguments.length>4?arguments[4]:void 0,Ot=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;kt=this.getObject(kt.data,kt);const Dt=this.ctx;Dt.save();const zt=(0,o.getCurrentTransform)(Dt);Dt.transform(Ft,er,Zt,At,0,0);const Xt=this._createMaskCanvas(kt);Dt.setTransform(1,0,0,1,0,0);for(let wt=0,Vt=Ot.length;wt<Vt;wt+=2){const qt=_.Util.transform(zt,[Ft,er,Zt,At,Ot[wt],Ot[wt+1]]),[Nt,Bt]=_.Util.applyTransform([0,0],qt);Dt.drawImage(Xt.canvas,Nt,Bt)}Dt.restore(),this.compose()}paintImageMaskXObjectGroup(kt){if(!this.contentVisible)return;const Ft=this.ctx,er=this.current.fillColor,Zt=this.current.patternFill;for(const At of kt){const{data:Ot,width:Dt,height:zt,transform:Xt}=At,wt=this.cachedCanvases.getCanvas("maskCanvas",Dt,zt),Vt=wt.context;Vt.save();const qt=this.getObject(Ot,At);_t(Vt,qt),Vt.globalCompositeOperation="source-in",Vt.fillStyle=Zt?er.getPattern(Vt,this,(0,o.getCurrentTransformInverse)(Ft),$.PathType.FILL):er,Vt.fillRect(0,0,Dt,zt),Vt.restore(),Ft.save(),Ft.transform(...Xt),Ft.scale(1,-1),mt(Ft,wt.canvas,0,0,Dt,zt,0,-1,1,1),Ft.restore()}this.compose()}paintImageXObject(kt){if(!this.contentVisible)return;const Ft=this.getObject(kt);if(!Ft){(0,_.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ft)}paintImageXObjectRepeat(kt,Ft,er,Zt){if(!this.contentVisible)return;const At=this.getObject(kt);if(!At){(0,_.warn)("Dependent image isn't ready yet");return}const Ot=At.width,Dt=At.height,zt=[];for(let Xt=0,wt=Zt.length;Xt<wt;Xt+=2)zt.push({transform:[Ft,0,0,er,Zt[Xt],Zt[Xt+1]],x:0,y:0,w:Ot,h:Dt});this.paintInlineImageXObjectGroup(At,zt)}paintInlineImageXObject(kt){if(!this.contentVisible)return;const Ft=kt.width,er=kt.height,Zt=this.ctx;this.save(),Zt.scale(1/Ft,-1/er);let At;if(typeof HTMLElement=="function"&&kt instanceof HTMLElement||!kt.data)At=kt;else{const Xt=this.cachedCanvases.getCanvas("inlineImage",Ft,er),wt=Xt.context;St(wt,kt,this.current.transferMaps),At=Xt.canvas}const Ot=this._scaleImage(At,(0,o.getCurrentTransformInverse)(Zt));Zt.imageSmoothingEnabled=Gt((0,o.getCurrentTransform)(Zt),kt.interpolate);const[Dt,zt]=mt(Zt,Ot.img,0,0,Ot.paintWidth,Ot.paintHeight,0,-er,Ft,er);if(this.imageLayer){const[Xt,wt]=_.Util.applyTransform([0,-er],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:kt,left:Xt,top:wt,width:Dt,height:zt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(kt,Ft){if(!this.contentVisible)return;const er=this.ctx,Zt=kt.width,At=kt.height,Ot=this.cachedCanvases.getCanvas("inlineImage",Zt,At),Dt=Ot.context;St(Dt,kt,this.current.transferMaps);for(const zt of Ft){if(er.save(),er.transform(...zt.transform),er.scale(1,-1),mt(er,Ot.canvas,zt.x,zt.y,zt.w,zt.h,0,-1,1,1),this.imageLayer){const[Xt,wt]=_.Util.applyTransform([zt.x,zt.y],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:kt,left:Xt,top:wt,width:Zt,height:At})}er.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(kt){}markPointProps(kt,Ft){}beginMarkedContent(kt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(kt,Ft){kt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ft)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(kt){const Ft=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(kt);const er=this.ctx;this.pendingClip&&(Ft||(this.pendingClip===Jt?er.clip("evenodd"):er.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),er.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const kt=(0,o.getCurrentTransform)(this.ctx);if(kt[1]===0&&kt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(kt[0]),Math.abs(kt[3]));else{const Ft=Math.abs(kt[0]*kt[3]-kt[2]*kt[1]),er=Math.hypot(kt[0],kt[2]),Zt=Math.hypot(kt[1],kt[3]);this._cachedGetSinglePixelWidth=Math.max(er,Zt)/Ft}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:kt}=this.current,Ft=(0,o.getCurrentTransform)(this.ctx);let er,Zt;if(Ft[1]===0&&Ft[2]===0){const At=Math.abs(Ft[0]),Ot=Math.abs(Ft[3]);if(kt===0)er=1/At,Zt=1/Ot;else{const Dt=At*kt,zt=Ot*kt;er=Dt<1?1/Dt:1,Zt=zt<1?1/zt:1}}else{const At=Math.abs(Ft[0]*Ft[3]-Ft[2]*Ft[1]),Ot=Math.hypot(Ft[0],Ft[1]),Dt=Math.hypot(Ft[2],Ft[3]);if(kt===0)er=Dt/At,Zt=Ot/At;else{const zt=kt*At;er=Dt>zt?Dt/zt:1,Zt=Ot>zt?Ot/zt:1}}this._cachedScaleForStroking=[er,Zt]}return this._cachedScaleForStroking}rescaleAndStroke(kt){const{ctx:Ft}=this,{lineWidth:er}=this.current,[Zt,At]=this.getScaleForStroking();if(Ft.lineWidth=er||1,Zt===1&&At===1){Ft.stroke();return}let Ot,Dt,zt;kt&&(Ot=(0,o.getCurrentTransform)(Ft),Dt=Ft.getLineDash().slice(),zt=Ft.lineDashOffset),Ft.scale(Zt,At);const Xt=Math.max(Zt,At);Ft.setLineDash(Ft.getLineDash().map(wt=>wt/Xt)),Ft.lineDashOffset/=Xt,Ft.stroke(),kt&&(Ft.setTransform(...Ot),Ft.setLineDash(Dt),Ft.lineDashOffset=zt)}isContentVisible(){for(let kt=this.markedContentStack.length-1;kt>=0;kt--)if(!this.markedContentStack[kt].visible)return!1;return!0}}s.CanvasGraphics=tr;function mr(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const Yt in _.OPS)tr.prototype[Yt]!==void 0&&(tr.prototype[_.OPS[Yt]]=tr.prototype[Yt])},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=gt;var o=a(1),_=a(133),$=a(3);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=j;function et(pt,ut){if(!ut||$.isNodeJS)return;const ht=ut[2]-ut[0],mt=ut[3]-ut[1],dt=new Path2D;dt.rect(ut[0],ut[1],ht,mt),pt.clip(dt)}class rt{constructor(){this.constructor===rt&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class nt extends rt{constructor(ut){super(),this._type=ut[1],this._bbox=ut[2],this._colorStops=ut[3],this._p0=ut[4],this._p1=ut[5],this._r0=ut[6],this._r1=ut[7],this.matrix=null}_createGradient(ut){let ht;this._type==="axial"?ht=ut.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=ut.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)ht.addColorStop(mt[0],mt[1]);return ht}getPattern(ut,ht,mt,dt){let vt;if(dt===j.STROKE||dt===j.FILL){const St=ht.current.getClippedPathBoundingBox(dt,(0,_.getCurrentTransform)(ut))||[0,0,0,0],_t=Math.ceil(St[2]-St[0])||1,Et=Math.ceil(St[3]-St[1])||1,Pt=ht.cachedCanvases.getCanvas("pattern",_t,Et,!0),Mt=Pt.context;Mt.clearRect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.beginPath(),Mt.rect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.translate(-St[0],-St[1]),mt=o.Util.transform(mt,[1,0,0,1,St[0],St[1]]),Mt.transform(...ht.baseTransform),this.matrix&&Mt.transform(...this.matrix),et(Mt,this._bbox),Mt.fillStyle=this._createGradient(Mt),Mt.fill(),vt=ut.createPattern(Pt.canvas,"no-repeat");const Rt=new DOMMatrix(mt);try{vt.setTransform(Rt)}catch(Ut){(0,o.warn)(`RadialAxialShadingPattern.getPattern: "${Ut==null?void 0:Ut.message}".`)}}else et(ut,this._bbox),vt=this._createGradient(ut);return vt}}function it(pt,ut,ht,mt,dt,vt,St,_t){const Et=ut.coords,Pt=ut.colors,Mt=pt.data,Rt=pt.width*4;let Ut;Et[ht+1]>Et[mt+1]&&(Ut=ht,ht=mt,mt=Ut,Ut=vt,vt=St,St=Ut),Et[mt+1]>Et[dt+1]&&(Ut=mt,mt=dt,dt=Ut,Ut=St,St=_t,_t=Ut),Et[ht+1]>Et[mt+1]&&(Ut=ht,ht=mt,mt=Ut,Ut=vt,vt=St,St=Ut);const Ct=(Et[ht]+ut.offsetX)*ut.scaleX,Kt=(Et[ht+1]+ut.offsetY)*ut.scaleY,Gt=(Et[mt]+ut.offsetX)*ut.scaleX,It=(Et[mt+1]+ut.offsetY)*ut.scaleY,jt=(Et[dt]+ut.offsetX)*ut.scaleX,$t=(Et[dt+1]+ut.offsetY)*ut.scaleY;if(Kt>=$t)return;const Jt=Pt[vt],Wt=Pt[vt+1],tr=Pt[vt+2],mr=Pt[St],Yt=Pt[St+1],kt=Pt[St+2],Ft=Pt[_t],er=Pt[_t+1],Zt=Pt[_t+2],At=Math.round(Kt),Ot=Math.round($t);let Dt,zt,Xt,wt,Vt,qt,Nt,Bt;for(let Qt=At;Qt<=Ot;Qt++){if(Qt<It){let _r;Qt<Kt?_r=0:_r=(Kt-Qt)/(Kt-It),Dt=Ct-(Ct-Gt)*_r,zt=Jt-(Jt-mr)*_r,Xt=Wt-(Wt-Yt)*_r,wt=tr-(tr-kt)*_r}else{let _r;Qt>$t?_r=1:It===$t?_r=0:_r=(It-Qt)/(It-$t),Dt=Gt-(Gt-jt)*_r,zt=mr-(mr-Ft)*_r,Xt=Yt-(Yt-er)*_r,wt=kt-(kt-Zt)*_r}let sr;Qt<Kt?sr=0:Qt>$t?sr=1:sr=(Kt-Qt)/(Kt-$t),Vt=Ct-(Ct-jt)*sr,qt=Jt-(Jt-Ft)*sr,Nt=Wt-(Wt-er)*sr,Bt=tr-(tr-Zt)*sr;const lr=Math.round(Math.min(Dt,Vt)),ar=Math.round(Math.max(Dt,Vt));let vr=Rt*Qt+lr*4;for(let _r=lr;_r<=ar;_r++)sr=(Dt-_r)/(Dt-Vt),sr<0?sr=0:sr>1&&(sr=1),Mt[vr++]=zt-(zt-qt)*sr|0,Mt[vr++]=Xt-(Xt-Nt)*sr|0,Mt[vr++]=wt-(wt-Bt)*sr|0,Mt[vr++]=255}}function ot(pt,ut,ht){const mt=ut.coords,dt=ut.colors;let vt,St;switch(ut.type){case"lattice":const _t=ut.verticesPerRow,Et=Math.floor(mt.length/_t)-1,Pt=_t-1;for(vt=0;vt<Et;vt++){let Mt=vt*_t;for(let Rt=0;Rt<Pt;Rt++,Mt++)it(pt,ht,mt[Mt],mt[Mt+1],mt[Mt+_t],dt[Mt],dt[Mt+1],dt[Mt+_t]),it(pt,ht,mt[Mt+_t+1],mt[Mt+1],mt[Mt+_t],dt[Mt+_t+1],dt[Mt+1],dt[Mt+_t])}break;case"triangles":for(vt=0,St=mt.length;vt<St;vt+=3)it(pt,ht,mt[vt],mt[vt+1],mt[vt+2],dt[vt],dt[vt+1],dt[vt+2]);break;default:throw new Error("illegal figure")}}class at extends rt{constructor(ut){super(),this._coords=ut[2],this._colors=ut[3],this._figures=ut[4],this._bounds=ut[5],this._bbox=ut[7],this._background=ut[8],this.matrix=null}_createMeshCanvas(ut,ht,mt){const _t=Math.floor(this._bounds[0]),Et=Math.floor(this._bounds[1]),Pt=Math.ceil(this._bounds[2])-_t,Mt=Math.ceil(this._bounds[3])-Et,Rt=Math.min(Math.ceil(Math.abs(Pt*ut[0]*1.1)),3e3),Ut=Math.min(Math.ceil(Math.abs(Mt*ut[1]*1.1)),3e3),Ct=Pt/Rt,Kt=Mt/Ut,Gt={coords:this._coords,colors:this._colors,offsetX:-_t,offsetY:-Et,scaleX:1/Ct,scaleY:1/Kt},It=Rt+2*2,jt=Ut+2*2,$t=mt.getCanvas("mesh",It,jt,!1),Jt=$t.context,Wt=Jt.createImageData(Rt,Ut);if(ht){const mr=Wt.data;for(let Yt=0,kt=mr.length;Yt<kt;Yt+=4)mr[Yt]=ht[0],mr[Yt+1]=ht[1],mr[Yt+2]=ht[2],mr[Yt+3]=255}for(const mr of this._figures)ot(Wt,mr,Gt);return Jt.putImageData(Wt,2,2),{canvas:$t.canvas,offsetX:_t-2*Ct,offsetY:Et-2*Kt,scaleX:Ct,scaleY:Kt}}getPattern(ut,ht,mt,dt){et(ut,this._bbox);let vt;if(dt===j.SHADING)vt=o.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(ut));else if(vt=o.Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const _t=o.Util.singularValueDecompose2dScale(this.matrix);vt=[vt[0]*_t[0],vt[1]*_t[1]]}const St=this._createMeshCanvas(vt,dt===j.SHADING?null:this._background,ht.cachedCanvases);return dt!==j.SHADING&&(ut.setTransform(...ht.baseTransform),this.matrix&&ut.transform(...this.matrix)),ut.translate(St.offsetX,St.offsetY),ut.scale(St.scaleX,St.scaleY),ut.createPattern(St.canvas,"no-repeat")}}class lt extends rt{getPattern(){return"hotpink"}}function gt(pt){switch(pt[0]){case"RadialAxial":return new nt(pt);case"Mesh":return new at(pt);case"Dummy":return new lt}throw new Error(`Unknown IR type: ${pt[0]}`)}const ct={COLORED:1,UNCOLORED:2};class yt{static get MAX_PATTERN_SIZE(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(ut,ht,mt,dt,vt){this.operatorList=ut[2],this.matrix=ut[3]||[1,0,0,1,0,0],this.bbox=ut[4],this.xstep=ut[5],this.ystep=ut[6],this.paintType=ut[7],this.tilingType=ut[8],this.color=ht,this.ctx=mt,this.canvasGraphicsFactory=dt,this.baseTransform=vt}createPatternCanvas(ut){const ht=this.operatorList,mt=this.bbox,dt=this.xstep,vt=this.ystep,St=this.paintType,_t=this.tilingType,Et=this.color,Pt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+_t);const Mt=mt[0],Rt=mt[1],Ut=mt[2],Ct=mt[3],Kt=o.Util.singularValueDecompose2dScale(this.matrix),Gt=o.Util.singularValueDecompose2dScale(this.baseTransform),It=[Kt[0]*Gt[0],Kt[1]*Gt[1]],jt=this.getSizeAndScale(dt,this.ctx.canvas.width,It[0]),$t=this.getSizeAndScale(vt,this.ctx.canvas.height,It[1]),Jt=ut.cachedCanvases.getCanvas("pattern",jt.size,$t.size,!0),Wt=Jt.context,tr=Pt.createCanvasGraphics(Wt);tr.groupLevel=ut.groupLevel,this.setFillAndStrokeStyleToContext(tr,St,Et);let mr=Mt,Yt=Rt,kt=Ut,Ft=Ct;return Mt<0&&(mr=0,kt+=Math.abs(Mt)),Rt<0&&(Yt=0,Ft+=Math.abs(Rt)),Wt.translate(-(jt.scale*mr),-($t.scale*Yt)),tr.transform(jt.scale,0,0,$t.scale,0,0),Wt.save(),this.clipBbox(tr,mr,Yt,kt,Ft),tr.baseTransform=(0,_.getCurrentTransform)(tr.ctx),tr.executeOperatorList(ht),tr.endDrawing(),{canvas:Jt.canvas,scaleX:jt.scale,scaleY:$t.scale,offsetX:mr,offsetY:Yt}}getSizeAndScale(ut,ht,mt){ut=Math.abs(ut);const dt=Math.max(yt.MAX_PATTERN_SIZE,ht);let vt=Math.ceil(ut*mt);return vt>=dt?vt=dt:mt=vt/ut,{scale:mt,size:vt}}clipBbox(ut,ht,mt,dt,vt){const St=dt-ht,_t=vt-mt;ut.ctx.rect(ht,mt,St,_t),ut.current.updateRectMinMax((0,_.getCurrentTransform)(ut.ctx),[ht,mt,dt,vt]),ut.clip(),ut.endPath()}setFillAndStrokeStyleToContext(ut,ht,mt){const dt=ut.ctx,vt=ut.current;switch(ht){case ct.COLORED:const St=this.ctx;dt.fillStyle=St.fillStyle,dt.strokeStyle=St.strokeStyle,vt.fillColor=St.fillStyle,vt.strokeColor=St.strokeStyle;break;case ct.UNCOLORED:const _t=o.Util.makeHexColor(mt[0],mt[1],mt[2]);dt.fillStyle=_t,dt.strokeStyle=_t,vt.fillColor=_t,vt.strokeColor=_t;break;default:throw new o.FormatError(`Unsupported paint type: ${ht}`)}}getPattern(ut,ht,mt,dt){let vt=mt;dt!==j.SHADING&&(vt=o.Util.transform(vt,ht.baseTransform),this.matrix&&(vt=o.Util.transform(vt,this.matrix)));const St=this.createPatternCanvas(ht);let _t=new DOMMatrix(vt);_t=_t.translate(St.offsetX,St.offsetY),_t=_t.scale(1/St.scaleX,1/St.scaleY);const Et=ut.createPattern(St.canvas,"repeat");try{Et.setTransform(_t)}catch(Pt){(0,o.warn)(`TilingPattern.getPattern: "${Pt==null?void 0:Pt.message}".`)}return Et}}s.TilingPattern=yt},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=_;var o=a(1);function _($){let{src:j,srcPos:et=0,dest:rt,destPos:nt=0,width:it,height:ot,inverseDecode:at=!1}=$;const lt=o.FeatureTest.isLittleEndian?4278190080:255,[gt,ct]=at?[0,lt]:[lt,0],yt=it>>3,pt=it&7,ut=j.length;rt=new Uint32Array(rt.buffer);for(let ht=0;ht<ot;ht++){for(const dt=et+yt;et<dt;et++){const vt=et<ut?j[et]:255;rt[nt++]=vt&128?ct:gt,rt[nt++]=vt&64?ct:gt,rt[nt++]=vt&32?ct:gt,rt[nt++]=vt&16?ct:gt,rt[nt++]=vt&8?ct:gt,rt[nt++]=vt&4?ct:gt,rt[nt++]=vt&2?ct:gt,rt[nt++]=vt&1?ct:gt}if(pt===0)continue;const mt=et<ut?j[et++]:255;for(let dt=0;dt<pt;dt++)rt[nt++]=mt&1<<7-dt?ct:gt}return{srcPos:et,destPos:nt}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const a=Object.create(null);s.GlobalWorkerOptions=a,a.workerPort=a.workerPort===void 0?null:a.workerPort,a.workerSrc=a.workerSrc===void 0?"":a.workerSrc},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=a(1);const _={DATA:1,ERROR:2},$={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function j(rt){switch(rt instanceof Error||typeof rt=="object"&&rt!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),rt.name){case"AbortException":return new o.AbortException(rt.message);case"MissingPDFException":return new o.MissingPDFException(rt.message);case"PasswordException":return new o.PasswordException(rt.message,rt.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(rt.message,rt.status);case"UnknownErrorException":return new o.UnknownErrorException(rt.message,rt.details);default:return new o.UnknownErrorException(rt.message,rt.toString())}}class et{constructor(nt,it,ot){this.sourceName=nt,this.targetName=it,this.comObj=ot,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=at=>{const lt=at.data;if(lt.targetName!==this.sourceName)return;if(lt.stream){this._processStreamMessage(lt);return}if(lt.callback){const ct=lt.callbackId,yt=this.callbackCapabilities[ct];if(!yt)throw new Error(`Cannot resolve callback ${ct}`);if(delete this.callbackCapabilities[ct],lt.callback===_.DATA)yt.resolve(lt.data);else if(lt.callback===_.ERROR)yt.reject(j(lt.reason));else throw new Error("Unexpected callback case");return}const gt=this.actionHandler[lt.action];if(!gt)throw new Error(`Unknown action from worker: ${lt.action}`);if(lt.callbackId){const ct=this.sourceName,yt=lt.sourceName;new Promise(function(pt){pt(gt(lt.data))}).then(function(pt){ot.postMessage({sourceName:ct,targetName:yt,callback:_.DATA,callbackId:lt.callbackId,data:pt})},function(pt){ot.postMessage({sourceName:ct,targetName:yt,callback:_.ERROR,callbackId:lt.callbackId,reason:j(pt)})});return}if(lt.streamId){this._createStreamSink(lt);return}gt(lt.data)},ot.addEventListener("message",this._onComObjOnMessage)}on(nt,it){const ot=this.actionHandler;if(ot[nt])throw new Error(`There is already an actionName called "${nt}"`);ot[nt]=it}send(nt,it,ot){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:it},ot)}sendWithPromise(nt,it,ot){const at=this.callbackId++,lt=(0,o.createPromiseCapability)();this.callbackCapabilities[at]=lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:at,data:it},ot)}catch(gt){lt.reject(gt)}return lt.promise}sendWithStream(nt,it,ot,at){const lt=this.streamId++,gt=this.sourceName,ct=this.targetName,yt=this.comObj;return new ReadableStream({start:pt=>{const ut=(0,o.createPromiseCapability)();return this.streamControllers[lt]={controller:pt,startCall:ut,pullCall:null,cancelCall:null,isClosed:!1},yt.postMessage({sourceName:gt,targetName:ct,action:nt,streamId:lt,data:it,desiredSize:pt.desiredSize},at),ut.promise},pull:pt=>{const ut=(0,o.createPromiseCapability)();return this.streamControllers[lt].pullCall=ut,yt.postMessage({sourceName:gt,targetName:ct,stream:$.PULL,streamId:lt,desiredSize:pt.desiredSize}),ut.promise},cancel:pt=>{(0,o.assert)(pt instanceof Error,"cancel must have a valid reason");const ut=(0,o.createPromiseCapability)();return this.streamControllers[lt].cancelCall=ut,this.streamControllers[lt].isClosed=!0,yt.postMessage({sourceName:gt,targetName:ct,stream:$.CANCEL,streamId:lt,reason:j(pt)}),ut.promise}},ot)}_createStreamSink(nt){const it=nt.streamId,ot=this.sourceName,at=nt.sourceName,lt=this.comObj,gt=this,ct=this.actionHandler[nt.action],yt={enqueue(pt){let ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ht=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const mt=this.desiredSize;this.desiredSize-=ut,mt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),lt.postMessage({sourceName:ot,targetName:at,stream:$.ENQUEUE,streamId:it,chunk:pt},ht)},close(){this.isCancelled||(this.isCancelled=!0,lt.postMessage({sourceName:ot,targetName:at,stream:$.CLOSE,streamId:it}),delete gt.streamSinks[it])},error(pt){(0,o.assert)(pt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,lt.postMessage({sourceName:ot,targetName:at,stream:$.ERROR,streamId:it,reason:j(pt)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};yt.sinkCapability.resolve(),yt.ready=yt.sinkCapability.promise,this.streamSinks[it]=yt,new Promise(function(pt){pt(ct(nt.data,yt))}).then(function(){lt.postMessage({sourceName:ot,targetName:at,stream:$.START_COMPLETE,streamId:it,success:!0})},function(pt){lt.postMessage({sourceName:ot,targetName:at,stream:$.START_COMPLETE,streamId:it,reason:j(pt)})})}_processStreamMessage(nt){const it=nt.streamId,ot=this.sourceName,at=nt.sourceName,lt=this.comObj,gt=this.streamControllers[it],ct=this.streamSinks[it];switch(nt.stream){case $.START_COMPLETE:nt.success?gt.startCall.resolve():gt.startCall.reject(j(nt.reason));break;case $.PULL_COMPLETE:nt.success?gt.pullCall.resolve():gt.pullCall.reject(j(nt.reason));break;case $.PULL:if(!ct){lt.postMessage({sourceName:ot,targetName:at,stream:$.PULL_COMPLETE,streamId:it,success:!0});break}ct.desiredSize<=0&&nt.desiredSize>0&&ct.sinkCapability.resolve(),ct.desiredSize=nt.desiredSize,new Promise(function(yt){yt(ct.onPull&&ct.onPull())}).then(function(){lt.postMessage({sourceName:ot,targetName:at,stream:$.PULL_COMPLETE,streamId:it,success:!0})},function(yt){lt.postMessage({sourceName:ot,targetName:at,stream:$.PULL_COMPLETE,streamId:it,reason:j(yt)})});break;case $.ENQUEUE:if((0,o.assert)(gt,"enqueue should have stream controller"),gt.isClosed)break;gt.controller.enqueue(nt.chunk);break;case $.CLOSE:if((0,o.assert)(gt,"close should have stream controller"),gt.isClosed)break;gt.isClosed=!0,gt.controller.close(),this._deleteStreamController(gt,it);break;case $.ERROR:(0,o.assert)(gt,"error should have stream controller"),gt.controller.error(j(nt.reason)),this._deleteStreamController(gt,it);break;case $.CANCEL_COMPLETE:nt.success?gt.cancelCall.resolve():gt.cancelCall.reject(j(nt.reason)),this._deleteStreamController(gt,it);break;case $.CANCEL:if(!ct)break;new Promise(function(yt){yt(ct.onCancel&&ct.onCancel(j(nt.reason)))}).then(function(){lt.postMessage({sourceName:ot,targetName:at,stream:$.CANCEL_COMPLETE,streamId:it,success:!0})},function(yt){lt.postMessage({sourceName:ot,targetName:at,stream:$.CANCEL_COMPLETE,streamId:it,reason:j(yt)})}),ct.sinkCapability.reject(j(nt.reason)),ct.isCancelled=!0,delete this.streamSinks[it];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(nt,it){await Promise.allSettled([nt.startCall&&nt.startCall.promise,nt.pullCall&&nt.pullCall.promise,nt.cancelCall&&nt.cancelCall.promise]),delete this.streamControllers[it]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=et},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=a(1);function _(gt,ct,yt){$(gt,ct),ct.set(gt,yt)}function $(gt,ct){if(ct.has(gt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(gt,ct){var yt=nt(gt,ct,"get");return et(gt,yt)}function et(gt,ct){return ct.get?ct.get.call(gt):ct.value}function rt(gt,ct,yt){var pt=nt(gt,ct,"set");return it(gt,pt,yt),yt}function nt(gt,ct,yt){if(!ct.has(gt))throw new TypeError("attempted to "+yt+" private field on non-instance");return ct.get(gt)}function it(gt,ct,yt){if(ct.set)ct.set.call(gt,yt);else{if(!ct.writable)throw new TypeError("attempted to set read only private field");ct.value=yt}}var ot=new WeakMap,at=new WeakMap;class lt{constructor(ct){let{parsedData:yt,rawData:pt}=ct;_(this,ot,{writable:!0,value:void 0}),_(this,at,{writable:!0,value:void 0}),rt(this,ot,yt),rt(this,at,pt)}getRaw(){return j(this,at)}get(ct){var yt;return(yt=j(this,ot).get(ct))!==null&&yt!==void 0?yt:null}getAll(){return(0,o.objectFromMap)(j(this,ot))}has(ct){return j(this,ot).has(ct)}}s.Metadata=lt},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=a(1);function _(St,_t){et(St,_t),_t.add(St)}function $(St,_t,Et){if(!_t.has(St))throw new TypeError("attempted to get private field on non-instance");return Et}function j(St,_t,Et){et(St,_t),_t.set(St,Et)}function et(St,_t){if(_t.has(St))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rt(St,_t,Et){var Pt=ot(St,_t,"set");return nt(St,Pt,Et),Et}function nt(St,_t,Et){if(_t.set)_t.set.call(St,Et);else{if(!_t.writable)throw new TypeError("attempted to set read only private field");_t.value=Et}}function it(St,_t){var Et=ot(St,_t,"get");return at(St,Et)}function ot(St,_t,Et){if(!_t.has(St))throw new TypeError("attempted to "+Et+" private field on non-instance");return _t.get(St)}function at(St,_t){return _t.get?_t.get.call(St):_t.value}const lt=Symbol("INTERNAL");var gt=new WeakMap;class ct{constructor(_t,Et){j(this,gt,{writable:!0,value:!0}),this.name=_t,this.intent=Et}get visible(){return it(this,gt)}_setVisible(_t,Et){_t!==lt&&(0,o.unreachable)("Internal method `_setVisible` called."),rt(this,gt,Et)}}var yt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ht=new WeakMap,mt=new WeakSet;class dt{constructor(_t){if(_(this,mt),j(this,yt,{writable:!0,value:!0}),j(this,pt,{writable:!0,value:new Map}),j(this,ut,{writable:!0,value:null}),j(this,ht,{writable:!0,value:null}),this.name=null,this.creator=null,_t!==null){this.name=_t.name,this.creator=_t.creator,rt(this,ht,_t.order);for(const Et of _t.groups)it(this,pt).set(Et.id,new ct(Et.name,Et.intent));if(_t.baseState==="OFF")for(const Et of it(this,pt).values())Et._setVisible(lt,!1);for(const Et of _t.on)it(this,pt).get(Et)._setVisible(lt,!0);for(const Et of _t.off)it(this,pt).get(Et)._setVisible(lt,!1);rt(this,ut,new Map);for(const[Et,Pt]of it(this,pt))it(this,ut).set(Et,Pt.visible)}}isVisible(_t){if(it(this,pt).size===0)return!0;if(!_t)return(0,o.warn)("Optional content group not defined."),!0;if(_t.type==="OCG")return it(this,pt).has(_t.id)?it(this,pt).get(_t.id).visible:((0,o.warn)(`Optional content group not found: ${_t.id}`),!0);if(_t.type==="OCMD"){if(_t.expression)return $(this,mt,vt).call(this,_t.expression);if(!_t.policy||_t.policy==="AnyOn"){for(const Et of _t.ids){if(!it(this,pt).has(Et))return(0,o.warn)(`Optional content group not found: ${Et}`),!0;if(it(this,pt).get(Et).visible)return!0}return!1}else if(_t.policy==="AllOn"){for(const Et of _t.ids){if(!it(this,pt).has(Et))return(0,o.warn)(`Optional content group not found: ${Et}`),!0;if(!it(this,pt).get(Et).visible)return!1}return!0}else if(_t.policy==="AnyOff"){for(const Et of _t.ids){if(!it(this,pt).has(Et))return(0,o.warn)(`Optional content group not found: ${Et}`),!0;if(!it(this,pt).get(Et).visible)return!0}return!1}else if(_t.policy==="AllOff"){for(const Et of _t.ids){if(!it(this,pt).has(Et))return(0,o.warn)(`Optional content group not found: ${Et}`),!0;if(it(this,pt).get(Et).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${_t.policy}.`),!0}return(0,o.warn)(`Unknown group type ${_t.type}.`),!0}setVisibility(_t){let Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!it(this,pt).has(_t)){(0,o.warn)(`Optional content group not found: ${_t}`);return}it(this,pt).get(_t)._setVisible(lt,!!Et),rt(this,yt,null)}get hasInitialVisibility(){if(it(this,yt)!==null)return it(this,yt);for(const[_t,Et]of it(this,pt)){const Pt=it(this,ut).get(_t);if(Et.visible!==Pt)return rt(this,yt,!1)}return rt(this,yt,!0)}getOrder(){return it(this,pt).size?it(this,ht)?it(this,ht).slice():[...it(this,pt).keys()]:null}getGroups(){return it(this,pt).size>0?(0,o.objectFromMap)(it(this,pt)):null}getGroup(_t){return it(this,pt).get(_t)||null}}s.OptionalContentConfig=dt;function vt(St){const _t=St.length;if(_t<2)return!0;const Et=St[0];for(let Pt=1;Pt<_t;Pt++){const Mt=St[Pt];let Rt;if(Array.isArray(Mt))Rt=$(this,mt,vt).call(this,Mt);else if(it(this,pt).has(Mt))Rt=it(this,pt).get(Mt).visible;else return(0,o.warn)(`Optional content group not found: ${Mt}`),!0;switch(Et){case"And":if(!Rt)return!1;break;case"Or":if(Rt)return!0;break;case"Not":return!Rt;default:return!0}}return Et==="And"}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=a(1),_=a(133);class ${constructor(nt,it){(0,o.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=nt.progressiveDone||!1,this._contentDispositionFilename=nt.contentDispositionFilename||null;const ot=nt.initialData;if((ot==null?void 0:ot.length)>0){const at=new Uint8Array(ot).buffer;this._queuedChunks.push(at)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._contentLength=nt.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((at,lt)=>{this._onReceiveData({begin:at,chunk:lt})}),this._pdfDataRangeTransport.addProgressListener((at,lt)=>{this._onProgress({loaded:at,total:lt})}),this._pdfDataRangeTransport.addProgressiveReadListener(at=>{this._onReceiveData({chunk:at})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(nt){const it=new Uint8Array(nt.chunk).buffer;if(nt.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(it):this._queuedChunks.push(it);else{const ot=this._rangeReaders.some(function(at){return at._begin!==nt.begin?!1:(at._enqueue(it),!0)});(0,o.assert)(ot,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var nt,it;return(nt=(it=this._fullRequestReader)===null||it===void 0?void 0:it._loaded)!==null&&nt!==void 0?nt:0}_onProgress(nt){if(nt.total===void 0){const it=this._rangeReaders[0];it!=null&&it.onProgress&&it.onProgress({loaded:nt.loaded})}else{const it=this._fullRequestReader;it!=null&&it.onProgress&&it.onProgress({loaded:nt.loaded,total:nt.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(nt){const it=this._rangeReaders.indexOf(nt);it>=0&&this._rangeReaders.splice(it,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const nt=this._queuedChunks;return this._queuedChunks=null,new j(this,nt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(nt,it){if(it<=this._progressiveDataLength)return null;const ot=new et(this,nt,it);return this._pdfDataRangeTransport.requestDataRange(nt,it),this._rangeReaders.push(ot),ot}cancelAllRequests(nt){this._fullRequestReader&&this._fullRequestReader.cancel(nt);for(const it of this._rangeReaders.slice(0))it.cancel(nt);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=$;class j{constructor(nt,it){let ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=nt,this._done=ot||!1,this._filename=(0,_.isPdfFile)(at)?at:null,this._queuedChunks=it||[],this._loaded=0;for(const lt of this._queuedChunks)this._loaded+=lt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),nt._fullRequestReader=this,this.onProgress=null}_enqueue(nt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunks.push(nt),this._loaded+=nt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const nt=(0,o.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class et{constructor(nt,it,ot){this._stream=nt,this._begin=it,this._end=ot,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(nt){if(!this._done){if(this._requests.length===0)this._queuedChunk=nt;else{this._requests.shift().resolve({value:nt,done:!1});for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const nt=(0,o.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class a{static textContent(_){const $=[],j={items:$,styles:Object.create(null)};function et(rt){var nt;if(!rt)return;let it=null;const ot=rt.name;if(ot==="#text")it=rt.value;else if(a.shouldBuildText(ot))rt!=null&&(nt=rt.attributes)!==null&&nt!==void 0&&nt.textContent?it=rt.attributes.textContent:rt.value&&(it=rt.value);else return;if(it!==null&&$.push({str:it}),!!rt.children)for(const at of rt.children)et(at)}return et(_),j}static shouldBuildText(_){return!(_==="textarea"||_==="input"||_==="option"||_==="select")}}s.XfaText=a},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=a(134);const _=function(rt){return new Promise((nt,it)=>{require$$7.readFile(rt,(at,lt)=>{if(at||!lt){it(new Error(at));return}nt(new Uint8Array(lt))})})};class $ extends o.BaseCanvasFactory{_createCanvas(nt,it){return require$$7.createCanvas(nt,it)}}s.NodeCanvasFactory=$;class j extends o.BaseCMapReaderFactory{_fetchData(nt,it){return _(nt).then(ot=>({cMapData:ot,compressionType:it}))}}s.NodeCMapReaderFactory=j;class et extends o.BaseStandardFontDataFactory{_fetchData(nt){return _(nt)}}s.NodeStandardFontDataFactory=et},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=a(132),_=a(1),$=a(148),j=a(149);function et(jt,$t){it(jt,$t),$t.add(jt)}function rt(jt,$t,Jt){return $t in jt?Object.defineProperty(jt,$t,{value:Jt,enumerable:!0,configurable:!0,writable:!0}):jt[$t]=Jt,jt}function nt(jt,$t,Jt){it(jt,$t),$t.set(jt,Jt)}function it(jt,$t){if($t.has(jt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ot(jt,$t,Jt){if(!$t.has(jt))throw new TypeError("attempted to get private field on non-instance");return Jt}function at(jt,$t){var Jt=ct(jt,$t,"get");return lt(jt,Jt)}function lt(jt,$t){return $t.get?$t.get.call(jt):$t.value}function gt(jt,$t,Jt){var Wt=ct(jt,$t,"set");return yt(jt,Wt,Jt),Jt}function ct(jt,$t,Jt){if(!$t.has(jt))throw new TypeError("attempted to "+Jt+" private field on non-instance");return $t.get(jt)}function yt(jt,$t,Jt){if($t.set)$t.set.call(jt,Jt);else{if(!$t.writable)throw new TypeError("attempted to set read only private field");$t.value=Jt}}var pt=new WeakMap,ut=new WeakMap,ht=new WeakMap,mt=new WeakMap,dt=new WeakMap,vt=new WeakMap,St=new WeakMap,_t=new WeakMap,Et=new WeakSet,Pt=new WeakSet,Mt=new WeakSet,Rt=new WeakSet;class Ut{constructor($t){et(this,Rt),et(this,Mt),et(this,Pt),et(this,Et),nt(this,pt,{writable:!0,value:void 0}),nt(this,ut,{writable:!0,value:!1}),nt(this,ht,{writable:!0,value:this.pointerup.bind(this)}),nt(this,mt,{writable:!0,value:this.pointerdown.bind(this)}),nt(this,dt,{writable:!0,value:new Map}),nt(this,vt,{writable:!0,value:!1}),nt(this,St,{writable:!0,value:!1}),nt(this,_t,{writable:!0,value:void 0}),Ut._initialized||(Ut._initialized=!0,$.FreeTextEditor.initialize($t.l10n),j.InkEditor.initialize($t.l10n),$t.uiManager.registerEditorTypes([$.FreeTextEditor,j.InkEditor])),gt(this,_t,$t.uiManager),this.annotationStorage=$t.annotationStorage,this.pageIndex=$t.pageIndex,this.div=$t.div,gt(this,pt,$t.accessibilityManager),at(this,_t).addLayer(this)}updateToolbar($t){at(this,_t).updateToolbar($t)}updateMode(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at(this,_t).getMode();ot(this,Rt,It).call(this),$t===_.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),at(this,_t).unselectAll()}addInkEditorIfNeeded($t){if(!$t&&at(this,_t).getMode()!==_.AnnotationEditorType.INK)return;if(!$t){for(const Wt of at(this,dt).values())if(Wt.isEmpty()){Wt.setInBackground();return}}ot(this,Mt,Gt).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState($t){at(this,_t).setEditingState($t)}addCommands($t){at(this,_t).addCommands($t)}enable(){this.div.style.pointerEvents="auto";for(const $t of at(this,dt).values())$t.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const $t of at(this,dt).values())$t.disableEditing()}setActiveEditor($t){at(this,_t).getActive()!==$t&&at(this,_t).setActiveEditor($t)}enableClick(){this.div.addEventListener("pointerdown",at(this,mt)),this.div.addEventListener("pointerup",at(this,ht))}disableClick(){this.div.removeEventListener("pointerdown",at(this,mt)),this.div.removeEventListener("pointerup",at(this,ht))}attach($t){at(this,dt).set($t.id,$t)}detach($t){var Jt;at(this,dt).delete($t.id),(Jt=at(this,pt))===null||Jt===void 0||Jt.removePointerInTextLayer($t.contentDiv)}remove($t){at(this,_t).removeEditor($t),this.detach($t),this.annotationStorage.remove($t.id),$t.div.style.display="none",setTimeout(()=>{$t.div.style.display="",$t.div.remove(),$t.isAttachedToDOM=!1,document.activeElement===document.body&&at(this,_t).focusMainContainer()},0),at(this,St)||this.addInkEditorIfNeeded(!1)}add($t){if(ot(this,Et,Ct).call(this,$t),at(this,_t).addEditor($t),this.attach($t),!$t.isAttachedToDOM){const Jt=$t.render();this.div.append(Jt),$t.isAttachedToDOM=!0}this.moveEditorInDOM($t),$t.onceAdded(),this.addToAnnotationStorage($t)}moveEditorInDOM($t){var Jt;(Jt=at(this,pt))===null||Jt===void 0||Jt.moveElementInDOM(this.div,$t.div,$t.contentDiv,!0)}addToAnnotationStorage($t){!$t.isEmpty()&&!this.annotationStorage.has($t.id)&&this.annotationStorage.setValue($t.id,$t)}addOrRebuild($t){$t.needsToBeRebuilt()?$t.rebuild():this.add($t)}addANewEditor($t){const Jt=()=>{this.addOrRebuild($t)},Wt=()=>{$t.remove()};this.addCommands({cmd:Jt,undo:Wt,mustExec:!0})}addUndoableEditor($t){const Jt=()=>{this.addOrRebuild($t)},Wt=()=>{$t.remove()};this.addCommands({cmd:Jt,undo:Wt,mustExec:!1})}getNextId(){return at(this,_t).getId()}deserialize($t){switch($t.annotationType){case _.AnnotationEditorType.FREETEXT:return $.FreeTextEditor.deserialize($t,this);case _.AnnotationEditorType.INK:return j.InkEditor.deserialize($t,this)}return null}setSelected($t){at(this,_t).setSelected($t)}toggleSelected($t){at(this,_t).toggleSelected($t)}isSelected($t){return at(this,_t).isSelected($t)}unselect($t){at(this,_t).unselect($t)}pointerup($t){const Jt=o.KeyboardManager.platform.isMac;if(!($t.button!==0||$t.ctrlKey&&Jt)&&$t.target===this.div&&at(this,vt)){if(gt(this,vt,!1),!at(this,ut)){gt(this,ut,!0);return}ot(this,Mt,Gt).call(this,$t)}}pointerdown($t){const Jt=o.KeyboardManager.platform.isMac;if($t.button!==0||$t.ctrlKey&&Jt||$t.target!==this.div)return;gt(this,vt,!0);const Wt=at(this,_t).getActive();gt(this,ut,!Wt||Wt.isEmpty())}drop($t){const Jt=$t.dataTransfer.getData("text/plain"),Wt=at(this,_t).getEditor(Jt);if(!Wt)return;$t.preventDefault(),$t.dataTransfer.dropEffect="move",ot(this,Et,Ct).call(this,Wt);const tr=this.div.getBoundingClientRect(),mr=$t.clientX-tr.x,Yt=$t.clientY-tr.y;Wt.translate(mr-Wt.startX,Yt-Wt.startY),this.moveEditorInDOM(Wt),Wt.div.focus()}dragover($t){$t.preventDefault()}destroy(){var $t;(($t=at(this,_t).getActive())===null||$t===void 0?void 0:$t.parent)===this&&at(this,_t).setActiveEditor(null);for(const Wt of at(this,dt).values()){var Jt;(Jt=at(this,pt))===null||Jt===void 0||Jt.removePointerInTextLayer(Wt.contentDiv),Wt.isAttachedToDOM=!1,Wt.div.remove(),Wt.parent=null}this.div=null,at(this,dt).clear(),at(this,_t).removeLayer(this)}render($t){this.viewport=$t.viewport,(0,o.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Jt of at(this,_t).getEditors(this.pageIndex))this.add(Jt);this.updateMode()}update($t){this.viewport=$t.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[$t,Jt,Wt,tr]=this.viewport.viewBox,mr=Wt-$t,Yt=tr-Jt;return[mr,Yt]}get viewportBaseDimensions(){const{width:$t,height:Jt,rotation:Wt}=this.viewport;return Wt%180===0?[$t,Jt]:[Jt,$t]}setDimensions(){const{width:$t,height:Jt,rotation:Wt}=this.viewport,tr=Wt%180!==0,mr=Math.floor($t)+"px",Yt=Math.floor(Jt)+"px";this.div.style.width=tr?Yt:mr,this.div.style.height=tr?mr:Yt,this.div.setAttribute("data-main-rotation",Wt)}}s.AnnotationEditorLayer=Ut;function Ct(jt){var $t;jt.parent!==this&&(this.attach(jt),jt.pageIndex=this.pageIndex,($t=jt.parent)===null||$t===void 0||$t.detach(jt),jt.parent=this,jt.div&&jt.isAttachedToDOM&&(jt.div.remove(),this.div.append(jt.div)))}function Kt(jt){switch(at(this,_t).getMode()){case _.AnnotationEditorType.FREETEXT:return new $.FreeTextEditor(jt);case _.AnnotationEditorType.INK:return new j.InkEditor(jt)}return null}function Gt(jt){const $t=this.getNextId(),Jt=ot(this,Pt,Kt).call(this,{parent:this,id:$t,x:jt.offsetX,y:jt.offsetY});return Jt&&this.add(Jt),Jt}function It(){gt(this,St,!0);for(const jt of at(this,dt).values())jt.isEmpty()&&jt.remove();gt(this,St,!1)}rt(Ut,"_initialized",!1)},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=a(1),_=a(132),$=a(131);function j(Gt,It){nt(Gt,It),It.add(Gt)}function et(Gt,It,jt){return It in Gt?Object.defineProperty(Gt,It,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Gt[It]=jt,Gt}function rt(Gt,It,jt){nt(Gt,It),It.set(Gt,jt)}function nt(Gt,It){if(It.has(Gt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function it(Gt,It){var jt=gt(Gt,It,"get");return ot(Gt,jt)}function ot(Gt,It){return It.get?It.get.call(Gt):It.value}function at(Gt,It,jt){if(!It.has(Gt))throw new TypeError("attempted to get private field on non-instance");return jt}function lt(Gt,It,jt){var $t=gt(Gt,It,"set");return ct(Gt,$t,jt),jt}function gt(Gt,It,jt){if(!It.has(Gt))throw new TypeError("attempted to "+jt+" private field on non-instance");return It.get(Gt)}function ct(Gt,It,jt){if(It.set)It.set.call(Gt,jt);else{if(!It.writable)throw new TypeError("attempted to set read only private field");It.value=jt}}var yt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ht=new WeakMap,mt=new WeakMap,dt=new WeakMap,vt=new WeakMap,St=new WeakSet,_t=new WeakSet,Et=new WeakSet,Pt=new WeakSet;class Mt extends $.AnnotationEditor{constructor(It){super({...It,name:"freeTextEditor"}),j(this,Pt),j(this,Et),j(this,_t),j(this,St),rt(this,yt,{writable:!0,value:this.editorDivBlur.bind(this)}),rt(this,pt,{writable:!0,value:this.editorDivFocus.bind(this)}),rt(this,ut,{writable:!0,value:this.editorDivKeydown.bind(this)}),rt(this,ht,{writable:!0,value:void 0}),rt(this,mt,{writable:!0,value:""}),rt(this,dt,{writable:!0,value:!1}),rt(this,vt,{writable:!0,value:void 0}),lt(this,ht,It.color||Mt._defaultColor||$.AnnotationEditor._defaultLineColor),lt(this,vt,It.fontSize||Mt._defaultFontSize)}static initialize(It){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map($t=>[$t,It.get($t)]));const jt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(jt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(It,jt){switch(It){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Mt._defaultFontSize=jt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Mt._defaultColor=jt;break}}updateParams(It,jt){switch(It){case o.AnnotationEditorParamsType.FREETEXT_SIZE:at(this,St,Rt).call(this,jt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:at(this,_t,Ut).call(this,jt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,Mt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,Mt._defaultColor||$.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,it(this,vt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,it(this,ht)]]}getInitialTranslation(){return[-Mt._internalPadding*this.parent.scaleFactor,-(Mt._internalPadding+it(this,vt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",it(this,ut)),this.editorDiv.addEventListener("focus",it(this,pt)),this.editorDiv.addEventListener("blur",it(this,yt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",it(this,ut)),this.editorDiv.removeEventListener("focus",it(this,pt)),this.editorDiv.removeEventListener("blur",it(this,yt)),this.div.focus(),this.isEditing=!1)}focusin(It){super.focusin(It),It.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),it(this,dt)||(lt(this,dt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),lt(this,mt,at(this,Et,Ct).call(this).trimEnd()),at(this,Pt,Kt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(It){this.enableEditMode(),this.editorDiv.focus()}keydown(It){It.target===this.div&&It.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(It){Mt._keyboardManager.exec(this,It)}editorDivFocus(It){this.isEditing=!0}editorDivBlur(It){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let It,jt;this.width&&(It=this.x,jt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Mt._l10nPromise.get("editor_free_text_aria_label").then(Jt=>{var Wt;return(Wt=this.editorDiv)===null||Wt===void 0?void 0:Wt.setAttribute("aria-label",Jt)}),Mt._l10nPromise.get("free_text_default_content").then(Jt=>{var Wt;return(Wt=this.editorDiv)===null||Wt===void 0?void 0:Wt.setAttribute("default-content",Jt)}),this.editorDiv.contentEditable=!0;const{style:$t}=this.editorDiv;if($t.fontSize=`calc(${it(this,vt)}px * var(--scale-factor))`,$t.color=it(this,ht),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Jt,Wt]=this.parent.viewportBaseDimensions;this.setAt(It*Jt,jt*Wt,this.width*Jt,this.height*Wt);for(const tr of it(this,mt).split(`
`)){const mr=document.createElement("div");mr.append(tr?document.createTextNode(tr):document.createElement("br")),this.editorDiv.append(mr)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(It,jt){const $t=super.deserialize(It,jt);return lt($t,vt,It.fontSize),lt($t,ht,o.Util.makeHexColor(...It.color)),lt($t,mt,It.value),$t}serialize(){if(this.isEmpty())return null;const It=Mt._internalPadding*this.parent.scaleFactor,jt=this.getRect(It,It),$t=$.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:o.AnnotationEditorType.FREETEXT,color:$t,fontSize:it(this,vt),value:it(this,mt),pageIndex:this.parent.pageIndex,rect:jt,rotation:this.rotation}}}s.FreeTextEditor=Mt;function Rt(Gt){const It=$t=>{this.editorDiv.style.fontSize=`calc(${$t}px * var(--scale-factor))`,this.translate(0,-($t-it(this,vt))*this.parent.scaleFactor),lt(this,vt,$t),at(this,Pt,Kt).call(this)},jt=it(this,vt);this.parent.addCommands({cmd:()=>{It(Gt)},undo:()=>{It(jt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Ut(Gt){const It=it(this,ht);this.parent.addCommands({cmd:()=>{lt(this,ht,Gt),this.editorDiv.style.color=Gt},undo:()=>{lt(this,ht,It),this.editorDiv.style.color=It},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ct(){const Gt=this.editorDiv.getElementsByTagName("div");if(Gt.length===0)return this.editorDiv.innerText;const It=[];for(let jt=0,$t=Gt.length;jt<$t;jt++){const Wt=Gt[jt].firstChild;(Wt==null?void 0:Wt.nodeName)==="#text"?It.push(Wt.data):It.push("")}return It.join(`
`)}function Kt(){const[Gt,It]=this.parent.viewportBaseDimensions,jt=this.div.getBoundingClientRect();this.width=jt.width/Gt,this.height=jt.height/It}et(Mt,"_freeTextDefaultContent",""),et(Mt,"_l10nPromise",void 0),et(Mt,"_internalPadding",0),et(Mt,"_defaultColor",null),et(Mt,"_defaultFontSize",10),et(Mt,"_keyboardManager",new _.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Mt.prototype.commitOrRemove]])),et(Mt,"_type","freetext")},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return $.fitCurve}});var o=a(1),_=a(131),$=a(150),j=a(132);function et(Pr,br){it(Pr,br),br.add(Pr)}function rt(Pr,br,Lr){return br in Pr?Object.defineProperty(Pr,br,{value:Lr,enumerable:!0,configurable:!0,writable:!0}):Pr[br]=Lr,Pr}function nt(Pr,br,Lr){it(Pr,br),br.set(Pr,Lr)}function it(Pr,br){if(br.has(Pr))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ot(Pr,br,Lr){return at(Pr,br),Lr}function at(Pr,br){if(Pr!==br)throw new TypeError("Private static access of wrong provenance")}function lt(Pr,br,Lr){var Hr=yt(Pr,br,"set");return gt(Pr,Hr,Lr),Lr}function gt(Pr,br,Lr){if(br.set)br.set.call(Pr,Lr);else{if(!br.writable)throw new TypeError("attempted to set read only private field");br.value=Lr}}function ct(Pr,br){var Lr=yt(Pr,br,"get");return pt(Pr,Lr)}function yt(Pr,br,Lr){if(!br.has(Pr))throw new TypeError("attempted to "+Lr+" private field on non-instance");return br.get(Pr)}function pt(Pr,br){return br.get?br.get.call(Pr):br.value}function ut(Pr,br,Lr){if(!br.has(Pr))throw new TypeError("attempted to get private field on non-instance");return Lr}const ht=16;var mt=new WeakMap,dt=new WeakMap,vt=new WeakMap,St=new WeakMap,_t=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,Ut=new WeakMap,Ct=new WeakMap,Kt=new WeakMap,Gt=new WeakMap,It=new WeakMap,jt=new WeakSet,$t=new WeakSet,Jt=new WeakSet,Wt=new WeakSet,tr=new WeakSet,mr=new WeakSet,Yt=new WeakSet,kt=new WeakSet,Ft=new WeakSet,er=new WeakSet,Zt=new WeakSet,At=new WeakSet,Ot=new WeakSet,Dt=new WeakSet,zt=new WeakSet,Xt=new WeakSet,wt=new WeakSet,Vt=new WeakSet,qt=new WeakSet,Nt=new WeakSet,Bt=new WeakSet,Qt=new WeakSet;class sr extends _.AnnotationEditor{constructor(br){super({...br,name:"inkEditor"}),et(this,Qt),et(this,Bt),et(this,Nt),et(this,qt),et(this,Vt),et(this,wt),et(this,Xt),et(this,zt),et(this,Dt),et(this,Ot),et(this,At),et(this,Zt),et(this,er),et(this,Ft),et(this,kt),et(this,Yt),et(this,mr),et(this,tr),et(this,Wt),et(this,Jt),et(this,$t),et(this,jt),nt(this,mt,{writable:!0,value:0}),nt(this,dt,{writable:!0,value:0}),nt(this,vt,{writable:!0,value:0}),nt(this,St,{writable:!0,value:this.canvasPointermove.bind(this)}),nt(this,_t,{writable:!0,value:this.canvasPointerleave.bind(this)}),nt(this,Et,{writable:!0,value:this.canvasPointerup.bind(this)}),nt(this,Pt,{writable:!0,value:this.canvasPointerdown.bind(this)}),nt(this,Mt,{writable:!0,value:!1}),nt(this,Rt,{writable:!0,value:!1}),nt(this,Ut,{writable:!0,value:null}),nt(this,Ct,{writable:!0,value:null}),nt(this,Kt,{writable:!0,value:0}),nt(this,Gt,{writable:!0,value:0}),nt(this,It,{writable:!0,value:null}),this.color=br.color||null,this.thickness=br.thickness||null,this.opacity=br.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(br){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Lr=>[Lr,br.get(Lr)]))}static updateDefaultParams(br,Lr){switch(br){case o.AnnotationEditorParamsType.INK_THICKNESS:sr._defaultThickness=Lr;break;case o.AnnotationEditorParamsType.INK_COLOR:sr._defaultColor=Lr;break;case o.AnnotationEditorParamsType.INK_OPACITY:sr._defaultOpacity=Lr/100;break}}updateParams(br,Lr){switch(br){case o.AnnotationEditorParamsType.INK_THICKNESS:ut(this,jt,lr).call(this,Lr);break;case o.AnnotationEditorParamsType.INK_COLOR:ut(this,$t,ar).call(this,Lr);break;case o.AnnotationEditorParamsType.INK_OPACITY:ut(this,Jt,vr).call(this,Lr);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,sr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,sr._defaultColor||_.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(sr._defaultOpacity*100)]]}get propertiesToUpdate(){var br;return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||sr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||sr._defaultColor||_.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((br=this.opacity)!==null&&br!==void 0?br:sr._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ut(this,Zt,hr).call(this),ut(this,At,Or).call(this)),this.isAttachedToDOM||(this.parent.add(this),ut(this,Ot,Wr).call(this)),ut(this,Bt,Yr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ct(this,Ct).disconnect(),lt(this,Ct,null),super.remove())}enableEditMode(){ct(this,Mt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ct(this,Pt)),this.canvas.addEventListener("pointerup",ct(this,Et)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ct(this,Pt)),this.canvas.removeEventListener("pointerup",ct(this,Et)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ct(this,Mt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),lt(this,Mt,!0),this.div.classList.add("disabled"),ut(this,Bt,Yr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(br){super.focusin(br),this.enableEditMode()}canvasPointerdown(br){br.button!==0||!this.isInEditMode()||ct(this,Mt)||(this.setInForeground(),br.type!=="mouse"&&this.div.focus(),br.stopPropagation(),this.canvas.addEventListener("pointerleave",ct(this,_t)),this.canvas.addEventListener("pointermove",ct(this,St)),ut(this,mr,Er).call(this,br.offsetX,br.offsetY))}canvasPointermove(br){br.stopPropagation(),ut(this,Yt,qr).call(this,br.offsetX,br.offsetY)}canvasPointerup(br){br.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(br.stopPropagation(),ut(this,er,Dr).call(this,br),this.setInBackground())}canvasPointerleave(br){ut(this,er,Dr).call(this,br),this.setInBackground()}render(){if(this.div)return this.div;let br,Lr;this.width&&(br=this.x,Lr=this.y),super.render(),sr._l10nPromise.get("editor_ink_aria_label").then(hn=>{var en;return(en=this.div)===null||en===void 0?void 0:en.setAttribute("aria-label",hn)});const[Hr,nn,rn,sn]=ut(this,Wt,_r).call(this);if(this.setAt(Hr,nn,0,0),this.setDims(rn,sn),ut(this,Zt,hr).call(this),this.width){const[hn,en]=this.parent.viewportBaseDimensions;this.setAt(br*hn,Lr*en,this.width*hn,this.height*en),lt(this,Rt,!0),ut(this,Ot,Wr).call(this),this.setDims(this.width*hn,this.height*en),ut(this,Ft,Vr).call(this),ut(this,Qt,Qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ut(this,At,Or).call(this),this.div}setDimensions(br,Lr){const Hr=Math.round(br),nn=Math.round(Lr);if(ct(this,Kt)===Hr&&ct(this,Gt)===nn)return;lt(this,Kt,Hr),lt(this,Gt,nn),this.canvas.style.visibility="hidden",ct(this,mt)&&Math.abs(ct(this,mt)-br/Lr)>.01&&(Lr=Math.ceil(br/ct(this,mt)),this.setDims(br,Lr));const[rn,sn]=this.parent.viewportBaseDimensions;this.width=br/rn,this.height=Lr/sn,ct(this,Mt)&&ut(this,Dt,gn).call(this,br,Lr),ut(this,Ot,Wr).call(this),ut(this,Ft,Vr).call(this),this.canvas.style.visibility="visible"}static deserialize(br,Lr){const Hr=super.deserialize(br,Lr);Hr.thickness=br.thickness,Hr.color=o.Util.makeHexColor(...br.color),Hr.opacity=br.opacity;const[nn,rn]=Lr.pageDimensions,sn=Hr.width*nn,hn=Hr.height*rn,en=Lr.scaleFactor,xn=br.thickness/2;lt(Hr,mt,sn/hn),lt(Hr,Mt,!0),lt(Hr,Kt,Math.round(sn)),lt(Hr,Gt,Math.round(hn));for(const{bezier:vn}of br.paths){const Rn=[];Hr.paths.push(Rn);let Vn=en*(vn[0]-xn),Fn=en*(hn-vn[1]-xn);for(let jn=2,rs=vn.length;jn<rs;jn+=6){const Ms=en*(vn[jn]-xn),us=en*(hn-vn[jn+1]-xn),xa=en*(vn[jn+2]-xn),lo=en*(hn-vn[jn+3]-xn),$a=en*(vn[jn+4]-xn),cs=en*(hn-vn[jn+5]-xn);Rn.push([[Vn,Fn],[Ms,us],[xa,lo],[$a,cs]]),Vn=$a,Fn=cs}const Yn=ot(this,sr,Nr).call(this,Rn);Hr.bezierPath2D.push(Yn)}const Bn=ut(Hr,qt,fr).call(Hr);return lt(Hr,vt,Math.max(ht,Bn[2]-Bn[0])),lt(Hr,dt,Math.max(ht,Bn[3]-Bn[1])),ut(Hr,Dt,gn).call(Hr,sn,hn),Hr}serialize(){if(this.isEmpty())return null;const br=this.getRect(0,0),Lr=this.rotation%180===0?br[3]-br[1]:br[2]-br[0],Hr=_.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Hr,thickness:this.thickness,opacity:this.opacity,paths:ut(this,Xt,Jr).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Lr),pageIndex:this.parent.pageIndex,rect:br,rotation:this.rotation}}}s.InkEditor=sr;function lr(Pr){const br=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Pr,ut(this,Bt,Yr).call(this)},undo:()=>{this.thickness=br,ut(this,Bt,Yr).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function ar(Pr){const br=this.color;this.parent.addCommands({cmd:()=>{this.color=Pr,ut(this,Ft,Vr).call(this)},undo:()=>{this.color=br,ut(this,Ft,Vr).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function vr(Pr){Pr/=100;const br=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Pr,ut(this,Ft,Vr).call(this)},undo:()=>{this.opacity=br,ut(this,Ft,Vr).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function _r(){const{width:Pr,height:br,rotation:Lr}=this.parent.viewport;switch(Lr){case 90:return[0,Pr,Pr,br];case 180:return[Pr,br,Pr,br];case 270:return[br,0,Pr,br];default:return[0,0,Pr,br]}}function Cr(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,j.opacityToHex)(this.opacity)}`}function Er(Pr,br){if(this.isEditing=!0,!ct(this,Rt)){var Lr;lt(this,Rt,!0),ut(this,Ot,Wr).call(this),this.thickness||(this.thickness=sr._defaultThickness),this.color||(this.color=sr._defaultColor||_.AnnotationEditor._defaultLineColor),(Lr=this.opacity)!==null&&Lr!==void 0||(this.opacity=sr._defaultOpacity)}this.currentPath.push([Pr,br]),lt(this,Ut,null),ut(this,tr,Cr).call(this),this.ctx.beginPath(),this.ctx.moveTo(Pr,br),lt(this,It,()=>{ct(this,It)&&(ct(this,Ut)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ut(this,Ft,Vr).call(this),this.ctx.lineTo(...ct(this,Ut)),lt(this,Ut,null),this.ctx.stroke()),window.requestAnimationFrame(ct(this,It)))}),window.requestAnimationFrame(ct(this,It))}function qr(Pr,br){const[Lr,Hr]=this.currentPath.at(-1);Pr===Lr&&br===Hr||(this.currentPath.push([Pr,br]),lt(this,Ut,[Pr,br]))}function Ur(Pr,br){this.ctx.closePath(),lt(this,It,null),Pr=Math.min(Math.max(Pr,0),this.canvas.width),br=Math.min(Math.max(br,0),this.canvas.height);const[Lr,Hr]=this.currentPath.at(-1);(Pr!==Lr||br!==Hr)&&this.currentPath.push([Pr,br]);let nn;if(this.currentPath.length!==1)nn=(0,$.fitCurve)(this.currentPath,30,null);else{const en=[Pr,br];nn=[[en,en.slice(),en.slice(),en]]}const rn=ot(sr,sr,Nr).call(sr,nn);this.currentPath.length=0;const sn=()=>{this.paths.push(nn),this.bezierPath2D.push(rn),this.rebuild()},hn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ut(this,Zt,hr).call(this),ut(this,At,Or).call(this)),ut(this,Bt,Yr).call(this))};this.parent.addCommands({cmd:sn,undo:hn,mustExec:!0})}function Vr(){if(this.isEmpty()){ut(this,zt,Ar).call(this);return}ut(this,tr,Cr).call(this);const{canvas:Pr,ctx:br}=this;br.setTransform(1,0,0,1,0,0),br.clearRect(0,0,Pr.width,Pr.height),ut(this,zt,Ar).call(this);for(const Lr of this.bezierPath2D)br.stroke(Lr)}function Dr(Pr){ut(this,kt,Ur).call(this,Pr.offsetX,Pr.offsetY),this.canvas.removeEventListener("pointerleave",ct(this,_t)),this.canvas.removeEventListener("pointermove",ct(this,St)),this.parent.addToAnnotationStorage(this)}function hr(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",sr._l10nPromise.get("editor_ink_canvas_aria_label").then(Pr=>{var br;return(br=this.canvas)===null||br===void 0?void 0:br.setAttribute("aria-label",Pr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Or(){lt(this,Ct,new ResizeObserver(Pr=>{const br=Pr[0].contentRect;br.width&&br.height&&this.setDimensions(br.width,br.height)})),ct(this,Ct).observe(this.div)}function Wr(){if(!ct(this,Rt))return;const[Pr,br]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Pr),this.canvas.height=Math.ceil(this.height*br),ut(this,zt,Ar).call(this)}function gn(Pr,br){const Lr=ut(this,Nt,Rr).call(this),Hr=(Pr-Lr)/ct(this,vt),nn=(br-Lr)/ct(this,dt);this.scaleFactor=Math.min(Hr,nn)}function Ar(){const Pr=ut(this,Nt,Rr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Pr,this.translationY*this.scaleFactor+Pr)}function Nr(Pr){const br=new Path2D;for(let Lr=0,Hr=Pr.length;Lr<Hr;Lr++){const[nn,rn,sn,hn]=Pr[Lr];Lr===0&&br.moveTo(...nn),br.bezierCurveTo(rn[0],rn[1],sn[0],sn[1],hn[0],hn[1])}return br}function Jr(Pr,br,Lr,Hr){const rn=[],sn=this.thickness/2;let hn,en;for(const xn of this.paths){hn=[],en=[];for(let Bn=0,vn=xn.length;Bn<vn;Bn++){const[Rn,Vn,Fn,Yn]=xn[Bn],jn=Pr*(Rn[0]+br)+sn,rs=Hr-Pr*(Rn[1]+Lr)-sn,Ms=Pr*(Vn[0]+br)+sn,us=Hr-Pr*(Vn[1]+Lr)-sn,xa=Pr*(Fn[0]+br)+sn,lo=Hr-Pr*(Fn[1]+Lr)-sn,$a=Pr*(Yn[0]+br)+sn,cs=Hr-Pr*(Yn[1]+Lr)-sn;Bn===0&&(hn.push(jn,rs),en.push(jn,rs)),hn.push(Ms,us,xa,lo,$a,cs),ut(this,wt,wr).call(this,jn,rs,Ms,us,xa,lo,$a,cs,4,en)}rn.push({bezier:hn,points:en})}return rn}function wr(Pr,br,Lr,Hr,nn,rn,sn,hn,en,xn){if(ut(this,Vt,dr).call(this,Pr,br,Lr,Hr,nn,rn,sn,hn)){xn.push(sn,hn);return}for(let Bn=1;Bn<en-1;Bn++){const vn=Bn/en,Rn=1-vn;let Vn=vn*Pr+Rn*Lr,Fn=vn*br+Rn*Hr,Yn=vn*Lr+Rn*nn,jn=vn*Hr+Rn*rn;const rs=vn*nn+Rn*sn,Ms=vn*rn+Rn*hn;Vn=vn*Vn+Rn*Yn,Fn=vn*Fn+Rn*jn,Yn=vn*Yn+Rn*rs,jn=vn*jn+Rn*Ms,Vn=vn*Vn+Rn*Yn,Fn=vn*Fn+Rn*jn,xn.push(Vn,Fn)}xn.push(sn,hn)}function dr(Pr,br,Lr,Hr,nn,rn,sn,hn){const xn=(3*Lr-2*Pr-sn)**2,Bn=(3*Hr-2*br-hn)**2,vn=(3*nn-Pr-2*sn)**2,Rn=(3*rn-br-2*hn)**2;return Math.max(xn,vn)+Math.max(Bn,Rn)<=10}function fr(){let Pr=1/0,br=-1/0,Lr=1/0,Hr=-1/0;for(const nn of this.paths)for(const[rn,sn,hn,en]of nn){const xn=o.Util.bezierBoundingBox(...rn,...sn,...hn,...en);Pr=Math.min(Pr,xn[0]),Lr=Math.min(Lr,xn[1]),br=Math.max(br,xn[2]),Hr=Math.max(Hr,xn[3])}return[Pr,Lr,br,Hr]}function Rr(){return ct(this,Mt)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function Yr(){let Pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!ct(this,Mt)){ut(this,Ft,Vr).call(this);return}const br=ut(this,qt,fr).call(this),Lr=ut(this,Nt,Rr).call(this);lt(this,vt,Math.max(ht,br[2]-br[0])),lt(this,dt,Math.max(ht,br[3]-br[1]));const Hr=Math.ceil(Lr+ct(this,vt)*this.scaleFactor),nn=Math.ceil(Lr+ct(this,dt)*this.scaleFactor),[rn,sn]=this.parent.viewportBaseDimensions;this.width=Hr/rn,this.height=nn/sn,lt(this,mt,Hr/nn),ut(this,Qt,Qr).call(this);const hn=this.translationX,en=this.translationY;this.translationX=-br[0],this.translationY=-br[1],ut(this,Ot,Wr).call(this),ut(this,Ft,Vr).call(this),lt(this,Kt,Hr),lt(this,Gt,nn),this.setDims(Hr,nn);const xn=Pr?Lr/this.scaleFactor/2:0;this.translate(hn-this.translationX-xn,en-this.translationY-xn)}function Qr(){const{style:Pr}=this.div;ct(this,mt)>=1?(Pr.minHeight=`${ht}px`,Pr.minWidth=`${Math.round(ct(this,mt)*ht)}px`):(Pr.minWidth=`${ht}px`,Pr.minHeight=`${Math.round(ht/ct(this,mt))}px`)}rt(sr,"_defaultColor",null),rt(sr,"_defaultOpacity",1),rt(sr,"_defaultThickness",1),rt(sr,"_l10nPromise",void 0),rt(sr,"_type","ink")},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const o=a(151);s.fitCurve=o},i=>{function s(gt,ct,yt){if(!Array.isArray(gt))throw new TypeError("First argument should be an array");if(gt.forEach(mt=>{if(!Array.isArray(mt)||mt.some(dt=>typeof dt!="number")||mt.length!==gt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),gt=gt.filter((mt,dt)=>dt===0||!mt.every((vt,St)=>vt===gt[dt-1][St])),gt.length<2)return[];const pt=gt.length,ut=ot(gt[1],gt[0]),ht=ot(gt[pt-2],gt[pt-1]);return a(gt,ut,ht,ct,yt)}function a(gt,ct,yt,pt,ut){var mt,dt,vt,St,_t,Et,Pt,Mt,Rt,Ut,Ct,Kt,Gt;if(gt.length===2)return Kt=at.vectorLen(at.subtract(gt[0],gt[1]))/3,mt=[gt[0],at.addArrays(gt[0],at.mulItems(ct,Kt)),at.addArrays(gt[1],at.mulItems(yt,Kt)),gt[1]],[mt];if(dt=et(gt),[mt,St,Et]=o(gt,dt,dt,ct,yt,ut),St===0||St<pt)return[mt];if(St<pt*pt)for(vt=dt,_t=St,Pt=Et,Gt=0;Gt<20;Gt++){if(vt=$(mt,gt,vt),[mt,St,Et]=o(gt,dt,vt,ct,yt,ut),St<pt)return[mt];if(Et===Pt){let It=St/_t;if(It>.9999&&It<1.0001)break}_t=St,Pt=Et}return Ct=[],Mt=at.subtract(gt[Et-1],gt[Et+1]),Mt.every(It=>It===0)&&(Mt=at.subtract(gt[Et-1],gt[Et]),[Mt[0],Mt[1]]=[-Mt[1],Mt[0]]),Rt=at.normalize(Mt),Ut=at.mulItems(Rt,-1),Ct=Ct.concat(a(gt.slice(0,Et+1),ct,Rt,pt,ut)),Ct=Ct.concat(a(gt.slice(Et),Ut,yt,pt,ut)),Ct}function o(gt,ct,yt,pt,ut,ht){var mt,dt,vt;return mt=_(gt,yt,pt,ut),[dt,vt]=rt(gt,mt,ct),ht&&ht({bez:mt,points:gt,params:ct,maxErr:dt,maxPoint:vt}),[mt,dt,vt]}function _(gt,ct,yt,pt){var ut,ht,mt,dt,vt,St,_t,Et,Pt,Mt,Rt,Ut,Ct,Kt,Gt,It,jt,$t=gt[0],Jt=gt[gt.length-1];for(ut=[$t,null,null,Jt],ht=at.zeros_Xx2x2(ct.length),Ct=0,Kt=ct.length;Ct<Kt;Ct++)It=ct[Ct],jt=1-It,mt=ht[Ct],mt[0]=at.mulItems(yt,3*It*(jt*jt)),mt[1]=at.mulItems(pt,3*jt*(It*It));for(dt=[[0,0],[0,0]],vt=[0,0],Ct=0,Kt=gt.length;Ct<Kt;Ct++)It=ct[Ct],mt=ht[Ct],dt[0][0]+=at.dot(mt[0],mt[0]),dt[0][1]+=at.dot(mt[0],mt[1]),dt[1][0]+=at.dot(mt[0],mt[1]),dt[1][1]+=at.dot(mt[1],mt[1]),Gt=at.subtract(gt[Ct],lt.q([$t,$t,Jt,Jt],It)),vt[0]+=at.dot(mt[0],Gt),vt[1]+=at.dot(mt[1],Gt);return St=dt[0][0]*dt[1][1]-dt[1][0]*dt[0][1],_t=dt[0][0]*vt[1]-dt[1][0]*vt[0],Et=vt[0]*dt[1][1]-vt[1]*dt[0][1],Pt=St===0?0:Et/St,Mt=St===0?0:_t/St,Ut=at.vectorLen(at.subtract($t,Jt)),Rt=1e-6*Ut,Pt<Rt||Mt<Rt?(ut[1]=at.addArrays($t,at.mulItems(yt,Ut/3)),ut[2]=at.addArrays(Jt,at.mulItems(pt,Ut/3))):(ut[1]=at.addArrays($t,at.mulItems(yt,Pt)),ut[2]=at.addArrays(Jt,at.mulItems(pt,Mt))),ut}function $(gt,ct,yt){return yt.map((pt,ut)=>j(gt,ct[ut],pt))}function j(gt,ct,yt){var pt=at.subtract(lt.q(gt,yt),ct),ut=lt.qprime(gt,yt),ht=at.mulMatrix(pt,ut),mt=at.sum(at.squareItems(ut))+2*at.mulMatrix(pt,lt.qprimeprime(gt,yt));return mt===0?yt:yt-ht/mt}function et(gt){var ct=[],yt,pt,ut;return gt.forEach((ht,mt)=>{yt=mt?pt+at.vectorLen(at.subtract(ht,ut)):0,ct.push(yt),pt=yt,ut=ht}),ct=ct.map(ht=>ht/pt),ct}function rt(gt,ct,yt){var pt,ut,ht,mt,dt,vt,St,_t;ut=0,ht=Math.floor(gt.length/2);const Et=nt(ct,10);for(dt=0,vt=gt.length;dt<vt;dt++)St=gt[dt],_t=it(ct,yt[dt],Et,10),mt=at.subtract(lt.q(ct,_t),St),pt=mt[0]*mt[0]+mt[1]*mt[1],pt>ut&&(ut=pt,ht=dt);return[ut,ht]}var nt=function(gt,ct){for(var yt,pt=[0],ut=gt[0],ht=0,mt=1;mt<=ct;mt++)yt=lt.q(gt,mt/ct),ht+=at.vectorLen(at.subtract(yt,ut)),pt.push(ht),ut=yt;return pt=pt.map(dt=>dt/ht),pt};function it(gt,ct,yt,pt){if(ct<0)return 0;if(ct>1)return 1;for(var ut,ht,mt,dt,vt,St=1;St<=pt;St++)if(ct<=yt[St]){dt=(St-1)/pt,mt=St/pt,ht=yt[St-1],ut=yt[St],vt=(ct-ht)/(ut-ht)*(mt-dt)+dt;break}return vt}function ot(gt,ct){return at.normalize(at.subtract(gt,ct))}class at{static zeros_Xx2x2(ct){for(var yt=[];ct--;)yt.push([0,0]);return yt}static mulItems(ct,yt){return ct.map(pt=>pt*yt)}static mulMatrix(ct,yt){return ct.reduce((pt,ut,ht)=>pt+ut*yt[ht],0)}static subtract(ct,yt){return ct.map((pt,ut)=>pt-yt[ut])}static addArrays(ct,yt){return ct.map((pt,ut)=>pt+yt[ut])}static addItems(ct,yt){return ct.map(pt=>pt+yt)}static sum(ct){return ct.reduce((yt,pt)=>yt+pt)}static dot(ct,yt){return at.mulMatrix(ct,yt)}static vectorLen(ct){return Math.hypot(...ct)}static divItems(ct,yt){return ct.map(pt=>pt/yt)}static squareItems(ct){return ct.map(yt=>yt*yt)}static normalize(ct){return this.divItems(ct,this.vectorLen(ct))}}class lt{static q(ct,yt){var pt=1-yt,ut=at.mulItems(ct[0],pt*pt*pt),ht=at.mulItems(ct[1],3*pt*pt*yt),mt=at.mulItems(ct[2],3*pt*yt*yt),dt=at.mulItems(ct[3],yt*yt*yt);return at.addArrays(at.addArrays(ut,ht),at.addArrays(mt,dt))}static qprime(ct,yt){var pt=1-yt,ut=at.mulItems(at.subtract(ct[1],ct[0]),3*pt*pt),ht=at.mulItems(at.subtract(ct[2],ct[1]),6*pt*yt),mt=at.mulItems(at.subtract(ct[3],ct[2]),3*yt*yt);return at.addArrays(at.addArrays(ut,ht),mt)}static qprimeprime(ct,yt){return at.addArrays(at.mulItems(at.addArrays(at.subtract(ct[2],at.mulItems(ct[1],2)),ct[0]),6*(1-yt)),at.mulItems(at.addArrays(at.subtract(ct[3],at.mulItems(ct[2],2)),ct[1]),6*yt))}}i.exports=s,i.exports.fitCubic=a,i.exports.createTangent=ot},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var o=a(1),_=a(133),$=a(130),j=a(153),et=a(154);function rt(Zt,At,Ot){return nt(Zt,At),Ot}function nt(Zt,At){if(Zt!==At)throw new TypeError("Private static access of wrong provenance")}const it=1e3,ot=9,at=new WeakSet;function lt(Zt){return{width:Zt[2]-Zt[0],height:Zt[3]-Zt[1]}}class gt{static create(At){switch(At.data.annotationType){case o.AnnotationType.LINK:return new yt(At);case o.AnnotationType.TEXT:return new pt(At);case o.AnnotationType.WIDGET:switch(At.data.fieldType){case"Tx":return new ht(At);case"Btn":return At.data.radioButton?new dt(At):At.data.checkBox?new mt(At):new vt(At);case"Ch":return new St(At)}return new ut(At);case o.AnnotationType.POPUP:return new _t(At);case o.AnnotationType.FREETEXT:return new Pt(At);case o.AnnotationType.LINE:return new Mt(At);case o.AnnotationType.SQUARE:return new Rt(At);case o.AnnotationType.CIRCLE:return new Ut(At);case o.AnnotationType.POLYLINE:return new Ct(At);case o.AnnotationType.CARET:return new Gt(At);case o.AnnotationType.INK:return new It(At);case o.AnnotationType.POLYGON:return new Kt(At);case o.AnnotationType.HIGHLIGHT:return new jt(At);case o.AnnotationType.UNDERLINE:return new $t(At);case o.AnnotationType.SQUIGGLY:return new Jt(At);case o.AnnotationType.STRIKEOUT:return new Wt(At);case o.AnnotationType.STAMP:return new tr(At);case o.AnnotationType.FILEATTACHMENT:return new mr(At);default:return new ct(At)}}}class ct{constructor(At){let{isRenderable:Ot=!1,ignoreBorder:Dt=!1,createQuadrilaterals:zt=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=Ot,this.data=At.data,this.layer=At.layer,this.page=At.page,this.viewport=At.viewport,this.linkService=At.linkService,this.downloadManager=At.downloadManager,this.imageResourcesPath=At.imageResourcesPath,this.renderForms=At.renderForms,this.svgFactory=At.svgFactory,this.annotationStorage=At.annotationStorage,this.enableScripting=At.enableScripting,this.hasJSActions=At.hasJSActions,this._fieldObjects=At.fieldObjects,this._mouseState=At.mouseState,Ot&&(this.container=this._createContainer(Dt)),zt&&(this.quadrilaterals=this._createQuadrilaterals(Dt))}_createContainer(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Ot=this.data,Dt=this.page,zt=this.viewport,Xt=document.createElement("section"),{width:wt,height:Vt}=lt(Ot.rect),[qt,Nt,Bt,Qt]=zt.viewBox,sr=Bt-qt,lr=Qt-Nt;Xt.setAttribute("data-annotation-id",Ot.id);const ar=o.Util.normalizeRect([Ot.rect[0],Dt.view[3]-Ot.rect[1]+Dt.view[1],Ot.rect[2],Dt.view[3]-Ot.rect[3]+Dt.view[1]]);if(!At&&Ot.borderStyle.width>0){Xt.style.borderWidth=`${Ot.borderStyle.width}px`;const _r=Ot.borderStyle.horizontalCornerRadius,Cr=Ot.borderStyle.verticalCornerRadius;if(_r>0||Cr>0){const qr=`calc(${_r}px * var(--scale-factor)) / calc(${Cr}px * var(--scale-factor))`;Xt.style.borderRadius=qr}else if(this instanceof dt){const qr=`calc(${wt}px * var(--scale-factor)) / calc(${Vt}px * var(--scale-factor))`;Xt.style.borderRadius=qr}switch(Ot.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Xt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Xt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Xt.style.borderBottomStyle="solid";break}const Er=Ot.borderColor||null;Er?Xt.style.borderColor=o.Util.makeHexColor(Er[0]|0,Er[1]|0,Er[2]|0):Xt.style.borderWidth=0}Xt.style.left=`${100*(ar[0]-qt)/sr}%`,Xt.style.top=`${100*(ar[1]-Nt)/lr}%`;const{rotation:vr}=Ot;return Ot.hasOwnCanvas||vr===0?(Xt.style.width=`${100*wt/sr}%`,Xt.style.height=`${100*Vt/lr}%`):this.setRotation(vr,Xt),Xt}setRotation(At){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[Dt,zt,Xt,wt]=this.viewport.viewBox,Vt=Xt-Dt,qt=wt-zt,{width:Nt,height:Bt}=lt(this.data.rect);let Qt,sr;At%180===0?(Qt=100*Nt/Vt,sr=100*Bt/qt):(Qt=100*Bt/Vt,sr=100*Nt/qt),Ot.style.width=`${Qt}%`,Ot.style.height=`${sr}%`,Ot.setAttribute("data-main-rotation",(360-At)%360)}get _commonActions(){const At=(Ot,Dt,zt)=>{const Xt=zt.detail[Ot];zt.target.style[Dt]=j.ColorConverters[`${Xt[0]}_HTML`](Xt.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:Ot=>{const Dt=Ot.detail.display%2===1;this.container.style.visibility=Dt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Dt,print:Ot.detail.display===0||Ot.detail.display===3})},print:Ot=>{this.annotationStorage.setValue(this.data.id,{print:Ot.detail.print})},hidden:Ot=>{this.container.style.visibility=Ot.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ot.detail.hidden})},focus:Ot=>{setTimeout(()=>Ot.target.focus({preventScroll:!1}),0)},userName:Ot=>{Ot.target.title=Ot.detail.userName},readonly:Ot=>{Ot.detail.readonly?Ot.target.setAttribute("readonly",""):Ot.target.removeAttribute("readonly")},required:Ot=>{this._setRequired(Ot.target,Ot.detail.required)},bgColor:Ot=>{At("bgColor","backgroundColor",Ot)},fillColor:Ot=>{At("fillColor","backgroundColor",Ot)},fgColor:Ot=>{At("fgColor","color",Ot)},textColor:Ot=>{At("textColor","color",Ot)},borderColor:Ot=>{At("borderColor","borderColor",Ot)},strokeColor:Ot=>{At("strokeColor","borderColor",Ot)},rotation:Ot=>{const Dt=Ot.detail.rotation;this.setRotation(Dt),this.annotationStorage.setValue(this.data.id,{rotation:Dt})}})}_dispatchEventFromSandbox(At,Ot){const Dt=this._commonActions;for(const zt of Object.keys(Ot.detail)){const Xt=At[zt]||Dt[zt];Xt&&Xt(Ot)}}_setDefaultPropertiesFromJS(At){if(!this.enableScripting)return;const Ot=this.annotationStorage.getRawValue(this.data.id);if(!Ot)return;const Dt=this._commonActions;for(const[zt,Xt]of Object.entries(Ot)){const wt=Dt[zt];if(wt){const Vt={detail:{[zt]:Xt},target:At};wt(Vt),delete Ot[zt]}}}_createQuadrilaterals(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const Ot=[],Dt=this.data.rect;for(const zt of this.data.quadPoints)this.data.rect=[zt[2].x,zt[2].y,zt[1].x,zt[1].y],Ot.push(this._createContainer(At));return this.data.rect=Dt,Ot}_createPopup(At,Ot){let Dt=this.container;this.quadrilaterals&&(At=At||this.quadrilaterals,Dt=this.quadrilaterals[0]),At||(At=document.createElement("div"),At.className="popupTriggerArea",Dt.append(At));const Xt=new Et({container:Dt,trigger:At,color:Ot.color,titleObj:Ot.titleObj,modificationDate:Ot.modificationDate,contentsObj:Ot.contentsObj,richText:Ot.richText,hideWrapper:!0}).render();Xt.style.left="100%",Dt.append(Xt)}_renderQuadrilaterals(At){for(const Ot of this.quadrilaterals)Ot.className=At;return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(At){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Dt=[];if(this._fieldObjects){const zt=this._fieldObjects[At];if(zt)for(const{page:Xt,id:wt,exportValues:Vt}of zt){if(Xt===-1||wt===Ot)continue;const qt=typeof Vt=="string"?Vt:null,Nt=document.querySelector(`[data-element-id="${wt}"]`);if(Nt&&!at.has(Nt)){(0,o.warn)(`_getElementsByName - element not allowed: ${wt}`);continue}Dt.push({id:wt,exportValue:qt,domElement:Nt})}return Dt}for(const zt of document.getElementsByName(At)){const{id:Xt,exportValue:wt}=zt;Xt!==Ot&&at.has(zt)&&Dt.push({id:Xt,exportValue:wt,domElement:zt})}return Dt}static get platform(){const At=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:At.includes("Win"),isMac:At.includes("Mac")})}}class yt extends ct{constructor(At){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(At,{isRenderable:!0,ignoreBorder:!!(Ot!=null&&Ot.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=At.data.isTooltipOnly}render(){const{data:At,linkService:Ot}=this,Dt=document.createElement("a");Dt.setAttribute("data-element-id",At.id);let zt=!1;return At.url?(Ot.addLinkAttributes(Dt,At.url,At.newWindow),zt=!0):At.action?(this._bindNamedAction(Dt,At.action),zt=!0):At.dest?(this._bindLink(Dt,At.dest),zt=!0):(At.actions&&(At.actions.Action||At.actions["Mouse Up"]||At.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Dt,At),zt=!0),At.resetForm?(this._bindResetFormAction(Dt,At.resetForm),zt=!0):this.isTooltipOnly&&!zt&&(this._bindLink(Dt,""),zt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Xt,wt)=>{const Vt=wt===0?Dt:Dt.cloneNode();return Xt.append(Vt),Xt}):(this.container.className="linkAnnotation",zt&&this.container.append(Dt),this.container)}_bindLink(At,Ot){At.href=this.linkService.getDestinationHash(Ot),At.onclick=()=>(Ot&&this.linkService.goToDestination(Ot),!1),(Ot||Ot==="")&&(At.className="internalLink")}_bindNamedAction(At,Ot){At.href=this.linkService.getAnchorUrl(""),At.onclick=()=>(this.linkService.executeNamedAction(Ot),!1),At.className="internalLink"}_bindJSAction(At,Ot){At.href=this.linkService.getAnchorUrl("");const Dt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const zt of Object.keys(Ot.actions)){const Xt=Dt.get(zt);Xt&&(At[Xt]=()=>{var wt;return(wt=this.linkService.eventBus)===null||wt===void 0||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot.id,name:zt}}),!1})}At.onclick||(At.onclick=()=>!1),At.className="internalLink"}_bindResetFormAction(At,Ot){const Dt=At.onclick;if(Dt||(At.href=this.linkService.getAnchorUrl("")),At.className="internalLink",!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Dt||(At.onclick=()=>!1);return}At.onclick=()=>{Dt&&Dt();const{fields:zt,refs:Xt,include:wt}=Ot,Vt=[];if(zt.length!==0||Xt.length!==0){const Qt=new Set(Xt);for(const sr of zt){const lr=this._fieldObjects[sr]||[];for(const{id:ar}of lr)Qt.add(ar)}for(const sr of Object.values(this._fieldObjects))for(const lr of sr)Qt.has(lr.id)===wt&&Vt.push(lr)}else for(const Qt of Object.values(this._fieldObjects))Vt.push(...Qt);const qt=this.annotationStorage,Nt=[];for(const Qt of Vt){const{id:sr}=Qt;switch(Nt.push(sr),Qt.type){case"text":{const ar=Qt.defaultValue||"";qt.setValue(sr,{value:ar});break}case"checkbox":case"radiobutton":{const ar=Qt.defaultValue===Qt.exportValues;qt.setValue(sr,{value:ar});break}case"combobox":case"listbox":{const ar=Qt.defaultValue||"";qt.setValue(sr,{value:ar});break}default:continue}const lr=document.querySelector(`[data-element-id="${sr}"]`);if(lr){if(!at.has(lr)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${sr}`);continue}}else continue;lr.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var Bt;(Bt=this.linkService.eventBus)===null||Bt===void 0||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Nt,name:"ResetForm"}})}return!1}}}class pt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt})}render(){this.container.className="textAnnotation";const At=document.createElement("img");return At.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",At.alt="[{{type}} Annotation]",At.dataset.l10nId="text_annotation_type",At.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(At,this.data),this.container.append(At),this.container}}class ut extends ct{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(At){const{isWin:Ot,isMac:Dt}=ct.platform;return Ot&&At.ctrlKey||Dt&&At.metaKey}_setEventListener(At,Ot,Dt,zt){Ot.includes("mouse")?At.addEventListener(Ot,Xt=>{var wt;(wt=this.linkService.eventBus)===null||wt===void 0||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:zt(Xt),shift:Xt.shiftKey,modifier:this._getKeyModifier(Xt)}})}):At.addEventListener(Ot,Xt=>{var wt;(wt=this.linkService.eventBus)===null||wt===void 0||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:zt(Xt)}})})}_setEventListeners(At,Ot,Dt){for(const[Xt,wt]of Ot){var zt;(wt==="Action"||(zt=this.data.actions)!==null&&zt!==void 0&&zt[wt])&&this._setEventListener(At,Xt,wt,Dt)}}_setBackgroundColor(At){const Ot=this.data.backgroundColor||null;At.style.backgroundColor=Ot===null?"transparent":o.Util.makeHexColor(Ot[0],Ot[1],Ot[2])}_setTextStyle(At){const Ot=["left","center","right"],{fontColor:Dt}=this.data.defaultAppearanceData,zt=this.data.defaultAppearanceData.fontSize||ot,Xt=At.style;let wt;if(this.data.multiLine){const Vt=Math.abs(this.data.rect[3]-this.data.rect[1]),qt=Math.round(Vt/(o.LINE_FACTOR*zt))||1,Nt=Vt/qt;wt=Math.min(zt,Math.round(Nt/o.LINE_FACTOR))}else{const Vt=Math.abs(this.data.rect[3]-this.data.rect[1]);wt=Math.min(zt,Math.round(Vt/o.LINE_FACTOR))}Xt.fontSize=`calc(${wt}px * var(--scale-factor))`,Xt.color=o.Util.makeHexColor(Dt[0],Dt[1],Dt[2]),this.data.textAlignment!==null&&(Xt.textAlign=Ot[this.data.textAlignment])}_setRequired(At,Ot){Ot?At.setAttribute("required",!0):At.removeAttribute("required"),At.setAttribute("aria-required",Ot)}}class ht extends ut{constructor(At){const Ot=At.renderForms||!At.data.hasAppearance&&!!At.data.fieldValue;super(At,{isRenderable:Ot})}setPropertyOnSiblings(At,Ot,Dt,zt){const Xt=this.annotationStorage;for(const wt of this._getElementsByName(At.name,At.id))wt.domElement&&(wt.domElement[Ot]=Dt),Xt.setValue(wt.id,{[zt]:Dt})}render(){const At=this.annotationStorage,Ot=this.data.id;this.container.className="textWidgetAnnotation";let Dt=null;if(this.renderForms){const Xt=At.getValue(Ot,{value:this.data.fieldValue});let wt=Xt.formattedValue||Xt.value||"";const Vt=At.getValue(Ot,{charLimit:this.data.maxLen}).charLimit;Vt&&wt.length>Vt&&(wt=wt.slice(0,Vt));const qt={userValue:wt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Dt=document.createElement("textarea"),Dt.textContent=wt,this.data.doNotScroll&&(Dt.style.overflowY="hidden")):(Dt=document.createElement("input"),Dt.type="text",Dt.setAttribute("value",wt),this.data.doNotScroll&&(Dt.style.overflowX="hidden")),at.add(Dt),Dt.setAttribute("data-element-id",Ot),Dt.disabled=this.data.readOnly,Dt.name=this.data.fieldName,Dt.tabIndex=it,this._setRequired(Dt,this.data.required),Vt&&(Dt.maxLength=Vt),Dt.addEventListener("input",Bt=>{At.setValue(Ot,{value:Bt.target.value}),this.setPropertyOnSiblings(Dt,"value",Bt.target.value,"value")}),Dt.addEventListener("resetform",Bt=>{var Qt;const sr=(Qt=this.data.defaultFieldValue)!==null&&Qt!==void 0?Qt:"";Dt.value=qt.userValue=sr,qt.formattedValue=null});let Nt=Bt=>{const{formattedValue:Qt}=qt;Qt!=null&&(Bt.target.value=Qt),Bt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var zt;Dt.addEventListener("focus",Qt=>{qt.userValue&&(Qt.target.value=qt.userValue),qt.valueOnFocus=Qt.target.value}),Dt.addEventListener("updatefromsandbox",Qt=>{const sr={value(lr){var ar;qt.userValue=(ar=lr.detail.value)!==null&&ar!==void 0?ar:"",At.setValue(Ot,{value:qt.userValue.toString()}),lr.target.value=qt.userValue},formattedValue(lr){const{formattedValue:ar}=lr.detail;qt.formattedValue=ar,ar!=null&&lr.target!==document.activeElement&&(lr.target.value=ar),At.setValue(Ot,{formattedValue:ar})},selRange(lr){lr.target.setSelectionRange(...lr.detail.selRange)},charLimit:lr=>{var ar;const{charLimit:vr}=lr.detail,{target:_r}=lr;if(vr===0){_r.removeAttribute("maxLength");return}_r.setAttribute("maxLength",vr);let Cr=qt.userValue;!Cr||Cr.length<=vr||(Cr=Cr.slice(0,vr),_r.value=qt.userValue=Cr,At.setValue(Ot,{value:Cr}),(ar=this.linkService.eventBus)===null||ar===void 0||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:Cr,willCommit:!0,commitKey:1,selStart:_r.selectionStart,selEnd:_r.selectionEnd}}))}};this._dispatchEventFromSandbox(sr,Qt)}),Dt.addEventListener("keydown",Qt=>{var sr;let lr=-1;if(Qt.key==="Escape"?lr=0:Qt.key==="Enter"?lr=2:Qt.key==="Tab"&&(lr=3),lr===-1)return;const{value:ar}=Qt.target;qt.valueOnFocus!==ar&&(qt.userValue=ar,(sr=this.linkService.eventBus)===null||sr===void 0||sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:ar,willCommit:!0,commitKey:lr,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}}))});const Bt=Nt;Nt=null,Dt.addEventListener("blur",Qt=>{const{value:sr}=Qt.target;if(qt.userValue=sr,this._mouseState.isDown&&qt.valueOnFocus!==sr){var lr;(lr=this.linkService.eventBus)===null||lr===void 0||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:sr,willCommit:!0,commitKey:1,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}})}Bt(Qt)}),(zt=this.data.actions)!==null&&zt!==void 0&&zt.Keystroke&&Dt.addEventListener("beforeinput",Qt=>{var sr;const{data:lr,target:ar}=Qt,{value:vr,selectionStart:_r,selectionEnd:Cr}=ar;let Er=_r,qr=Cr;switch(Qt.inputType){case"deleteWordBackward":{const Ur=vr.substring(0,_r).match(/\w*[^\w]*$/);Ur&&(Er-=Ur[0].length);break}case"deleteWordForward":{const Ur=vr.substring(_r).match(/^[^\w]*\w*/);Ur&&(qr+=Ur[0].length);break}case"deleteContentBackward":_r===Cr&&(Er-=1);break;case"deleteContentForward":_r===Cr&&(qr+=1);break}Qt.preventDefault(),(sr=this.linkService.eventBus)===null||sr===void 0||sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:vr,change:lr||"",willCommit:!1,selStart:Er,selEnd:qr}})}),this._setEventListeners(Dt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qt=>Qt.target.value)}if(Nt&&Dt.addEventListener("blur",Nt),this.data.comb){const Qt=(this.data.rect[2]-this.data.rect[0])/Vt;Dt.classList.add("comb"),Dt.style.letterSpacing=`calc(${Qt}px * var(--scale-factor) - 1ch)`}}else Dt=document.createElement("div"),Dt.textContent=this.data.fieldValue,Dt.style.verticalAlign="middle",Dt.style.display="table-cell";return this._setTextStyle(Dt),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class mt extends ut{constructor(At){super(At,{isRenderable:At.renderForms})}render(){const At=this.annotationStorage,Ot=this.data,Dt=Ot.id;let zt=At.getValue(Dt,{value:Ot.exportValue===Ot.fieldValue}).value;typeof zt=="string"&&(zt=zt!=="Off",At.setValue(Dt,{value:zt})),this.container.className="buttonWidgetAnnotation checkBox";const Xt=document.createElement("input");return at.add(Xt),Xt.setAttribute("data-element-id",Dt),Xt.disabled=Ot.readOnly,this._setRequired(Xt,this.data.required),Xt.type="checkbox",Xt.name=Ot.fieldName,zt&&Xt.setAttribute("checked",!0),Xt.setAttribute("exportValue",Ot.exportValue),Xt.tabIndex=it,Xt.addEventListener("change",wt=>{const{name:Vt,checked:qt}=wt.target;for(const Nt of this._getElementsByName(Vt,Dt)){const Bt=qt&&Nt.exportValue===Ot.exportValue;Nt.domElement&&(Nt.domElement.checked=Bt),At.setValue(Nt.id,{value:Bt})}At.setValue(Dt,{value:qt})}),Xt.addEventListener("resetform",wt=>{const Vt=Ot.defaultFieldValue||"Off";wt.target.checked=Vt===Ot.exportValue}),this.enableScripting&&this.hasJSActions&&(Xt.addEventListener("updatefromsandbox",wt=>{const Vt={value(qt){qt.target.checked=qt.detail.value!=="Off",At.setValue(Dt,{value:qt.target.checked})}};this._dispatchEventFromSandbox(Vt,wt)}),this._setEventListeners(Xt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wt=>wt.target.checked)),this._setBackgroundColor(Xt),this._setDefaultPropertiesFromJS(Xt),this.container.append(Xt),this.container}}class dt extends ut{constructor(At){super(At,{isRenderable:At.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const At=this.annotationStorage,Ot=this.data,Dt=Ot.id;let zt=At.getValue(Dt,{value:Ot.fieldValue===Ot.buttonValue}).value;typeof zt=="string"&&(zt=zt!==Ot.buttonValue,At.setValue(Dt,{value:zt}));const Xt=document.createElement("input");if(at.add(Xt),Xt.setAttribute("data-element-id",Dt),Xt.disabled=Ot.readOnly,this._setRequired(Xt,this.data.required),Xt.type="radio",Xt.name=Ot.fieldName,zt&&Xt.setAttribute("checked",!0),Xt.tabIndex=it,Xt.addEventListener("change",wt=>{const{name:Vt,checked:qt}=wt.target;for(const Nt of this._getElementsByName(Vt,Dt))At.setValue(Nt.id,{value:!1});At.setValue(Dt,{value:qt})}),Xt.addEventListener("resetform",wt=>{const Vt=Ot.defaultFieldValue;wt.target.checked=Vt!=null&&Vt===Ot.buttonValue}),this.enableScripting&&this.hasJSActions){const wt=Ot.buttonValue;Xt.addEventListener("updatefromsandbox",Vt=>{const qt={value:Nt=>{const Bt=wt===Nt.detail.value;for(const Qt of this._getElementsByName(Nt.target.name)){const sr=Bt&&Qt.id===Dt;Qt.domElement&&(Qt.domElement.checked=sr),At.setValue(Qt.id,{value:sr})}}};this._dispatchEventFromSandbox(qt,Vt)}),this._setEventListeners(Xt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Vt=>Vt.target.checked)}return this._setBackgroundColor(Xt),this._setDefaultPropertiesFromJS(Xt),this.container.append(Xt),this.container}}class vt extends yt{constructor(At){super(At,{ignoreBorder:At.data.hasAppearance})}render(){const At=super.render();At.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(At.title=this.data.alternativeText);const Ot=At.lastChild;return this.enableScripting&&this.hasJSActions&&Ot&&(this._setDefaultPropertiesFromJS(Ot),Ot.addEventListener("updatefromsandbox",Dt=>{this._dispatchEventFromSandbox({},Dt)})),At}}class St extends ut{constructor(At){super(At,{isRenderable:At.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const At=this.annotationStorage,Ot=this.data.id,Dt=At.getValue(Ot,{value:this.data.fieldValue}),zt=document.createElement("select");at.add(zt),zt.setAttribute("data-element-id",Ot),zt.disabled=this.data.readOnly,this._setRequired(zt,this.data.required),zt.name=this.data.fieldName,zt.tabIndex=it;let Xt=this.data.combo&&this.data.options.length>0;this.data.combo||(zt.size=this.data.options.length,this.data.multiSelect&&(zt.multiple=!0)),zt.addEventListener("resetform",Nt=>{const Bt=this.data.defaultFieldValue;for(const Qt of zt.options)Qt.selected=Qt.value===Bt});for(const Nt of this.data.options){const Bt=document.createElement("option");Bt.textContent=Nt.displayValue,Bt.value=Nt.exportValue,Dt.value.includes(Nt.exportValue)&&(Bt.setAttribute("selected",!0),Xt=!1),zt.append(Bt)}let wt=null;if(Xt){const Nt=document.createElement("option");Nt.value=" ",Nt.setAttribute("hidden",!0),Nt.setAttribute("selected",!0),zt.prepend(Nt),wt=()=>{Nt.remove(),zt.removeEventListener("input",wt),wt=null},zt.addEventListener("input",wt)}const Vt=(Nt,Bt)=>{const Qt=Bt?"value":"textContent",sr=Nt.target.options;return Nt.target.multiple?Array.prototype.filter.call(sr,lr=>lr.selected).map(lr=>lr[Qt]):sr.selectedIndex===-1?null:sr[sr.selectedIndex][Qt]},qt=Nt=>{const Bt=Nt.target.options;return Array.prototype.map.call(Bt,Qt=>({displayValue:Qt.textContent,exportValue:Qt.value}))};return this.enableScripting&&this.hasJSActions?(zt.addEventListener("updatefromsandbox",Nt=>{const Bt={value(Qt){var sr;(sr=wt)===null||sr===void 0||sr();const lr=Qt.detail.value,ar=new Set(Array.isArray(lr)?lr:[lr]);for(const vr of zt.options)vr.selected=ar.has(vr.value);At.setValue(Ot,{value:Vt(Qt,!0)})},multipleSelection(Qt){zt.multiple=!0},remove(Qt){const sr=zt.options,lr=Qt.detail.remove;sr[lr].selected=!1,zt.remove(lr),sr.length>0&&Array.prototype.findIndex.call(sr,vr=>vr.selected)===-1&&(sr[0].selected=!0),At.setValue(Ot,{value:Vt(Qt,!0),items:qt(Qt)})},clear(Qt){for(;zt.length!==0;)zt.remove(0);At.setValue(Ot,{value:null,items:[]})},insert(Qt){const{index:sr,displayValue:lr,exportValue:ar}=Qt.detail.insert,vr=zt.children[sr],_r=document.createElement("option");_r.textContent=lr,_r.value=ar,vr?vr.before(_r):zt.append(_r),At.setValue(Ot,{value:Vt(Qt,!0),items:qt(Qt)})},items(Qt){const{items:sr}=Qt.detail;for(;zt.length!==0;)zt.remove(0);for(const lr of sr){const{displayValue:ar,exportValue:vr}=lr,_r=document.createElement("option");_r.textContent=ar,_r.value=vr,zt.append(_r)}zt.options.length>0&&(zt.options[0].selected=!0),At.setValue(Ot,{value:Vt(Qt,!0),items:qt(Qt)})},indices(Qt){const sr=new Set(Qt.detail.indices);for(const lr of Qt.target.options)lr.selected=sr.has(lr.index);At.setValue(Ot,{value:Vt(Qt,!0)})},editable(Qt){Qt.target.disabled=!Qt.detail.editable}};this._dispatchEventFromSandbox(Bt,Nt)}),zt.addEventListener("input",Nt=>{var Bt;const Qt=Vt(Nt,!0),sr=Vt(Nt,!1);At.setValue(Ot,{value:Qt}),(Bt=this.linkService.eventBus)===null||Bt===void 0||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:sr,changeEx:Qt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(zt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Nt=>Nt.target.checked)):zt.addEventListener("input",function(Nt){At.setValue(Ot,{value:Vt(Nt,!0)})}),this.data.combo&&this._setTextStyle(zt),this._setBackgroundColor(zt),this._setDefaultPropertiesFromJS(zt),this.container.append(zt),this.container}}class _t extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!((Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt})}render(){const At=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",At.includes(this.data.parentType))return this.container;const Ot=`[data-annotation-id="${this.data.parentId}"]`,Dt=this.layer.querySelectorAll(Ot);if(Dt.length===0)return this.container;const zt=new Et({container:this.container,trigger:Array.from(Dt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Xt=this.page,wt=o.Util.normalizeRect([this.data.parentRect[0],Xt.view[3]-this.data.parentRect[1]+Xt.view[1],this.data.parentRect[2],Xt.view[3]-this.data.parentRect[3]+Xt.view[1]]),Vt=wt[0]+this.data.parentRect[2]-this.data.parentRect[0],qt=wt[1],[Nt,Bt,Qt,sr]=this.viewport.viewBox,lr=Qt-Nt,ar=sr-Bt;return this.container.style.left=`${100*(Vt-Nt)/lr}%`,this.container.style.top=`${100*(qt-Bt)/ar}%`,this.container.append(zt.render()),this.container}}class Et{constructor(At){this.container=At.container,this.trigger=At.trigger,this.color=At.color,this.titleObj=At.titleObj,this.modificationDate=At.modificationDate,this.contentsObj=At.contentsObj,this.richText=At.richText,this.hideWrapper=At.hideWrapper||!1,this.pinned=!1}render(){var At,Ot;const zt=document.createElement("div");zt.className="popupWrapper",this.hideElement=this.hideWrapper?zt:this.container,this.hideElement.hidden=!0;const Xt=document.createElement("div");Xt.className="popup";const wt=this.color;if(wt){const Nt=.7*(255-wt[0])+wt[0],Bt=.7*(255-wt[1])+wt[1],Qt=.7*(255-wt[2])+wt[2];Xt.style.backgroundColor=o.Util.makeHexColor(Nt|0,Bt|0,Qt|0)}const Vt=document.createElement("h1");Vt.dir=this.titleObj.dir,Vt.textContent=this.titleObj.str,Xt.append(Vt);const qt=_.PDFDateString.toDateObject(this.modificationDate);if(qt){const Nt=document.createElement("span");Nt.className="popupDate",Nt.textContent="{{date}}, {{time}}",Nt.dataset.l10nId="annotation_date_string",Nt.dataset.l10nArgs=JSON.stringify({date:qt.toLocaleDateString(),time:qt.toLocaleTimeString()}),Xt.append(Nt)}if((At=this.richText)!==null&&At!==void 0&&At.str&&(!((Ot=this.contentsObj)!==null&&Ot!==void 0&&Ot.str)||this.contentsObj.str===this.richText.str))et.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Xt}),Xt.lastChild.className="richText popupContent";else{const Nt=this._formatContents(this.contentsObj);Xt.append(Nt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Nt of this.trigger)Nt.addEventListener("click",this._toggle.bind(this)),Nt.addEventListener("mouseover",this._show.bind(this,!1)),Nt.addEventListener("mouseout",this._hide.bind(this,!1));return Xt.addEventListener("click",this._hide.bind(this,!0)),zt.append(Xt),zt}_formatContents(At){let{str:Ot,dir:Dt}=At;const zt=document.createElement("p");zt.className="popupContent",zt.dir=Dt;const Xt=Ot.split(/(?:\r\n?|\n)/);for(let wt=0,Vt=Xt.length;wt<Vt;++wt){const qt=Xt[wt];zt.append(document.createTextNode(qt)),wt<Vt-1&&zt.append(document.createElement("br"))}return zt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Pt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0}),this.textContent=At.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const At=document.createElement("div");At.className="annotationTextContent",At.setAttribute("role","comment");for(const Ot of this.textContent){const Dt=document.createElement("span");Dt.textContent=Ot,At.append(Dt)}this.container.append(At)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Mt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const At=this.data,{width:Ot,height:Dt}=lt(At.rect),zt=this.svgFactory.create(Ot,Dt,!0),Xt=this.svgFactory.createElement("svg:line");return Xt.setAttribute("x1",At.rect[2]-At.lineCoordinates[0]),Xt.setAttribute("y1",At.rect[3]-At.lineCoordinates[1]),Xt.setAttribute("x2",At.rect[2]-At.lineCoordinates[2]),Xt.setAttribute("y2",At.rect[3]-At.lineCoordinates[3]),Xt.setAttribute("stroke-width",At.borderStyle.width||1),Xt.setAttribute("stroke","transparent"),Xt.setAttribute("fill","transparent"),zt.append(Xt),this.container.append(zt),this._createPopup(Xt,At),this.container}}class Rt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const At=this.data,{width:Ot,height:Dt}=lt(At.rect),zt=this.svgFactory.create(Ot,Dt,!0),Xt=At.borderStyle.width,wt=this.svgFactory.createElement("svg:rect");return wt.setAttribute("x",Xt/2),wt.setAttribute("y",Xt/2),wt.setAttribute("width",Ot-Xt),wt.setAttribute("height",Dt-Xt),wt.setAttribute("stroke-width",Xt||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),zt.append(wt),this.container.append(zt),this._createPopup(wt,At),this.container}}class Ut extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const At=this.data,{width:Ot,height:Dt}=lt(At.rect),zt=this.svgFactory.create(Ot,Dt,!0),Xt=At.borderStyle.width,wt=this.svgFactory.createElement("svg:ellipse");return wt.setAttribute("cx",Ot/2),wt.setAttribute("cy",Dt/2),wt.setAttribute("rx",Ot/2-Xt/2),wt.setAttribute("ry",Dt/2-Xt/2),wt.setAttribute("stroke-width",Xt||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),zt.append(wt),this.container.append(zt),this._createPopup(wt,At),this.container}}class Ct extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const At=this.data,{width:Ot,height:Dt}=lt(At.rect),zt=this.svgFactory.create(Ot,Dt,!0);let Xt=[];for(const Vt of At.vertices){const qt=Vt.x-At.rect[0],Nt=At.rect[3]-Vt.y;Xt.push(qt+","+Nt)}Xt=Xt.join(" ");const wt=this.svgFactory.createElement(this.svgElementName);return wt.setAttribute("points",Xt),wt.setAttribute("stroke-width",At.borderStyle.width||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),zt.append(wt),this.container.append(zt),this._createPopup(wt,At),this.container}}class Kt extends Ct{constructor(At){super(At),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Gt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class It extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const At=this.data,{width:Ot,height:Dt}=lt(At.rect),zt=this.svgFactory.create(Ot,Dt,!0);for(const Xt of At.inkLists){let wt=[];for(const qt of Xt){const Nt=qt.x-At.rect[0],Bt=At.rect[3]-qt.y;wt.push(`${Nt},${Bt}`)}wt=wt.join(" ");const Vt=this.svgFactory.createElement(this.svgElementName);Vt.setAttribute("points",wt),Vt.setAttribute("stroke-width",At.borderStyle.width||1),Vt.setAttribute("stroke","transparent"),Vt.setAttribute("fill","transparent"),this._createPopup(Vt,At),zt.append(Vt)}return this.container.append(zt),this.container}}class jt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class $t extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Jt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Wt extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class tr extends ct{constructor(At){var Ot,Dt,zt;const Xt=!!(At.data.hasPopup||(Ot=At.data.titleObj)!==null&&Ot!==void 0&&Ot.str||(Dt=At.data.contentsObj)!==null&&Dt!==void 0&&Dt.str||(zt=At.data.richText)!==null&&zt!==void 0&&zt.str);super(At,{isRenderable:Xt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class mr extends ct{constructor(At){var Ot;super(At,{isRenderable:!0});const{filename:Dt,content:zt}=this.data.file;this.filename=(0,_.getFilenameFromUrl)(Dt),this.content=zt,(Ot=this.linkService.eventBus)===null||Ot===void 0||Ot.dispatch("fileattachmentannotation",{source:this,filename:Dt,content:zt})}render(){var At,Ot;this.container.className="fileAttachmentAnnotation";const Dt=document.createElement("div");return Dt.className="popupTriggerArea",Dt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((At=this.data.titleObj)!==null&&At!==void 0&&At.str||(Ot=this.data.contentsObj)!==null&&Ot!==void 0&&Ot.str||this.data.richText)&&this._createPopup(Dt,this.data),this.container.append(Dt),this.container}_download(){var At;(At=this.downloadManager)===null||At===void 0||At.openOrDownloadData(this.container,this.content,this.filename)}}class Yt{static render(At){const{annotations:Ot,div:Dt,viewport:zt,accessibilityManager:Xt}=At;rt(this,Yt,Ft).call(this,Dt,zt);let wt=0;for(const Vt of Ot){if(Vt.annotationType!==o.AnnotationType.POPUP){const{width:Nt,height:Bt}=lt(Vt.rect);if(Nt<=0||Bt<=0)continue}const qt=gt.create({data:Vt,layer:Dt,page:At.page,viewport:zt,linkService:At.linkService,downloadManager:At.downloadManager,imageResourcesPath:At.imageResourcesPath||"",renderForms:At.renderForms!==!1,svgFactory:new _.DOMSVGFactory,annotationStorage:At.annotationStorage||new $.AnnotationStorage,enableScripting:At.enableScripting,hasJSActions:At.hasJSActions,fieldObjects:At.fieldObjects,mouseState:At.mouseState||{isDown:!1}});if(qt.isRenderable){const Nt=qt.render();if(Vt.hidden&&(Nt.style.visibility="hidden"),Array.isArray(Nt))for(const Bt of Nt)Bt.style.zIndex=wt++,rt(Yt,Yt,kt).call(Yt,Bt,Vt.id,Dt,Xt);else Nt.style.zIndex=wt++,qt instanceof _t?Dt.prepend(Nt):rt(Yt,Yt,kt).call(Yt,Nt,Vt.id,Dt,Xt)}}rt(this,Yt,er).call(this,Dt,At.annotationCanvasMap)}static update(At){const{annotationCanvasMap:Ot,div:Dt,viewport:zt}=At;rt(this,Yt,Ft).call(this,Dt,zt),rt(this,Yt,er).call(this,Dt,Ot),Dt.hidden=!1}}s.AnnotationLayer=Yt;function kt(Zt,At,Ot,Dt){const zt=Zt.firstChild||Zt;zt.id=`${_.AnnotationPrefix}${At}`,Ot.append(Zt),Dt==null||Dt.moveElementInDOM(Ot,Zt,zt,!1)}function Ft(Zt,At){let{width:Ot,height:Dt,rotation:zt}=At;const{style:Xt}=Zt,wt=zt%180!==0,Vt=Math.floor(Ot)+"px",qt=Math.floor(Dt)+"px";Xt.width=wt?qt:Vt,Xt.height=wt?Vt:qt,Zt.setAttribute("data-main-rotation",zt)}function er(Zt,At){if(At){for(const[Ot,Dt]of At){const zt=Zt.querySelector(`[data-annotation-id="${Ot}"]`);if(!zt)continue;const{firstChild:Xt}=zt;Xt?Xt.nodeName==="CANVAS"?Xt.replaceWith(Dt):Xt.before(Dt):zt.append(Dt)}At.clear()}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function a(_){return Math.floor(Math.max(0,Math.min(1,_))*255).toString(16).padStart(2,"0")}class o{static CMYK_G($){let[j,et,rt,nt]=$;return["G",1-Math.min(1,.3*j+.59*rt+.11*et+nt)]}static G_CMYK($){let[j]=$;return["CMYK",0,0,0,1-j]}static G_RGB($){let[j]=$;return["RGB",j,j,j]}static G_HTML($){let[j]=$;const et=a(j);return`#${et}${et}${et}`}static RGB_G($){let[j,et,rt]=$;return["G",.3*j+.59*et+.11*rt]}static RGB_HTML($){let[j,et,rt]=$;const nt=a(j),it=a(et),ot=a(rt);return`#${nt}${it}${ot}`}static T_HTML(){return"#00000000"}static CMYK_RGB($){let[j,et,rt,nt]=$;return["RGB",1-Math.min(1,j+nt),1-Math.min(1,rt+nt),1-Math.min(1,et+nt)]}static CMYK_HTML($){const j=this.CMYK_RGB($).slice(1);return this.RGB_HTML(j)}static RGB_CMYK($){let[j,et,rt]=$;const nt=1-j,it=1-et,ot=1-rt,at=Math.min(nt,it,ot);return["CMYK",nt,it,ot,at]}}s.ColorConverters=o},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=a(145);class _{static setupStorage(j,et,rt,nt,it){const ot=nt.getValue(et,{value:null});switch(rt.name){case"textarea":if(ot.value!==null&&(j.textContent=ot.value),it==="print")break;j.addEventListener("input",at=>{nt.setValue(et,{value:at.target.value})});break;case"input":if(rt.attributes.type==="radio"||rt.attributes.type==="checkbox"){if(ot.value===rt.attributes.xfaOn?j.setAttribute("checked",!0):ot.value===rt.attributes.xfaOff&&j.removeAttribute("checked"),it==="print")break;j.addEventListener("change",at=>{nt.setValue(et,{value:at.target.checked?at.target.getAttribute("xfaOn"):at.target.getAttribute("xfaOff")})})}else{if(ot.value!==null&&j.setAttribute("value",ot.value),it==="print")break;j.addEventListener("input",at=>{nt.setValue(et,{value:at.target.value})})}break;case"select":if(ot.value!==null)for(const at of rt.children)at.attributes.value===ot.value&&(at.attributes.selected=!0);j.addEventListener("input",at=>{const lt=at.target.options,gt=lt.selectedIndex===-1?"":lt[lt.selectedIndex].value;nt.setValue(et,{value:gt})});break}}static setAttributes(j){let{html:et,element:rt,storage:nt=null,intent:it,linkService:ot}=j;const{attributes:at}=rt,lt=et instanceof HTMLAnchorElement;at.type==="radio"&&(at.name=`${at.name}-${it}`);for(const[gt,ct]of Object.entries(at))if(ct!=null)switch(gt){case"class":ct.length&&et.setAttribute(gt,ct.join(" "));break;case"dataId":break;case"id":et.setAttribute("data-element-id",ct);break;case"style":Object.assign(et.style,ct);break;case"textContent":et.textContent=ct;break;default:(!lt||gt!=="href"&&gt!=="newWindow")&&et.setAttribute(gt,ct)}lt&&ot.addLinkAttributes(et,at.href,at.newWindow),nt&&at.dataId&&this.setupStorage(et,at.dataId,rt,nt)}static render(j){const et=j.annotationStorage,rt=j.linkService,nt=j.xfaHtml,it=j.intent||"display",ot=document.createElement(nt.name);nt.attributes&&this.setAttributes({html:ot,element:nt,intent:it,linkService:rt});const at=[[nt,-1,ot]],lt=j.div;if(lt.append(ot),j.viewport){const yt=`matrix(${j.viewport.transform.join(",")})`;lt.style.transform=yt}it!=="richText"&&lt.setAttribute("class","xfaLayer xfaFont");const gt=[];for(;at.length>0;){var ct;const[yt,pt,ut]=at.at(-1);if(pt+1===yt.children.length){at.pop();continue}const ht=yt.children[++at.at(-1)[1]];if(ht===null)continue;const{name:mt}=ht;if(mt==="#text"){const vt=document.createTextNode(ht.value);gt.push(vt),ut.append(vt);continue}let dt;if(ht!=null&&(ct=ht.attributes)!==null&&ct!==void 0&&ct.xmlns?dt=document.createElementNS(ht.attributes.xmlns,mt):dt=document.createElement(mt),ut.append(dt),ht.attributes&&this.setAttributes({html:dt,element:ht,storage:et,intent:it,linkService:rt}),ht.children&&ht.children.length>0)at.push([ht,-1,dt]);else if(ht.value){const vt=document.createTextNode(ht.value);o.XfaText.shouldBuildText(mt)&&gt.push(vt),dt.append(vt)}}for(const yt of lt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))yt.setAttribute("readOnly",!0);return{textDivs:gt}}static update(j){const et=`matrix(${j.viewport.transform.join(",")})`;j.div.style.transform=et,j.div.hidden=!1}}s.XfaLayer=_},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=ut;var o=a(1),_=a(133);const $=1e5,j=30,et=.8,rt=new Map,nt=/^\s+$/g;function it(ht,mt){const dt=rt.get(ht);if(dt)return dt;mt.save(),mt.font=`${j}px ${ht}`;const vt=mt.measureText("");let St=vt.fontBoundingBoxAscent,_t=Math.abs(vt.fontBoundingBoxDescent);if(St){mt.restore();const Pt=St/(St+_t);return rt.set(ht,Pt),Pt}mt.strokeStyle="red",mt.clearRect(0,0,j,j),mt.strokeText("g",0,0);let Et=mt.getImageData(0,0,j,j).data;_t=0;for(let Pt=Et.length-1-3;Pt>=0;Pt-=4)if(Et[Pt]>0){_t=Math.ceil(Pt/4/j);break}mt.clearRect(0,0,j,j),mt.strokeText("A",0,j),Et=mt.getImageData(0,0,j,j).data,St=0;for(let Pt=0,Mt=Et.length;Pt<Mt;Pt+=4)if(Et[Pt]>0){St=j-Math.floor(Pt/4/j);break}if(mt.restore(),St){const Pt=St/(St+_t);return rt.set(ht,Pt),Pt}return rt.set(ht,et),et}function ot(ht,mt,dt,vt){const St=document.createElement("span"),_t=ht._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:mt.str!=="",hasEOL:mt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:mt.str!=="",hasEOL:mt.hasEOL,fontSize:0};ht._textDivs.push(St);const Et=o.Util.transform(ht._viewport.transform,mt.transform);let Pt=Math.atan2(Et[1],Et[0]);const Mt=dt[mt.fontName];Mt.vertical&&(Pt+=Math.PI/2);const Rt=Math.hypot(Et[2],Et[3]),Ut=Rt*it(Mt.fontFamily,vt);let Ct,Kt;Pt===0?(Ct=Et[4],Kt=Et[5]-Ut):(Ct=Et[4]+Ut*Math.sin(Pt),Kt=Et[5]-Ut*Math.cos(Pt)),St.style.left=`${Ct}px`,St.style.top=`${Kt}px`,St.style.fontSize=`${Rt}px`,St.style.fontFamily=Mt.fontFamily,_t.fontSize=Rt,St.setAttribute("role","presentation"),St.textContent=mt.str,St.dir=mt.dir,ht._fontInspectorEnabled&&(St.dataset.fontName=mt.fontName),Pt!==0&&(_t.angle=Pt*(180/Math.PI));let Gt=!1;if(mt.str.length>1||ht._enhanceTextSelection&&nt.test(mt.str))Gt=!0;else if(mt.str!==" "&&mt.transform[0]!==mt.transform[3]){const It=Math.abs(mt.transform[0]),jt=Math.abs(mt.transform[3]);It!==jt&&Math.max(It,jt)/Math.min(It,jt)>1.5&&(Gt=!0)}if(Gt&&(Mt.vertical?_t.canvasWidth=mt.height*ht._viewport.scale:_t.canvasWidth=mt.width*ht._viewport.scale),ht._textDivProperties.set(St,_t),ht._textContentStream&&ht._layoutText(St),ht._enhanceTextSelection&&_t.hasText){let It=1,jt=0;Pt!==0&&(It=Math.cos(Pt),jt=Math.sin(Pt));const $t=(Mt.vertical?mt.height:mt.width)*ht._viewport.scale,Jt=Rt;let Wt,tr;Pt!==0?(Wt=[It,jt,-jt,It,Ct,Kt],tr=o.Util.getAxialAlignedBoundingBox([0,0,$t,Jt],Wt)):tr=[Ct,Kt,Ct+$t,Kt+Jt],ht._bounds.push({left:tr[0],top:tr[1],right:tr[2],bottom:tr[3],div:St,size:[$t,Jt],m:Wt})}}function at(ht){if(ht._canceled)return;const mt=ht._textDivs,dt=ht._capability,vt=mt.length;if(vt>$){ht._renderingDone=!0,dt.resolve();return}if(!ht._textContentStream)for(let St=0;St<vt;St++)ht._layoutText(mt[St]);ht._renderingDone=!0,dt.resolve()}function lt(ht,mt,dt){let vt=0;for(let St=0;St<dt;St++){const _t=ht[mt++];_t>0&&(vt=vt?Math.min(_t,vt):_t)}return vt}function gt(ht){const mt=ht._bounds,dt=ht._viewport,vt=ct(dt.width,dt.height,mt);for(let St=0;St<vt.length;St++){const _t=mt[St].div,Et=ht._textDivProperties.get(_t);if(Et.angle===0){Et.paddingLeft=mt[St].left-vt[St].left,Et.paddingTop=mt[St].top-vt[St].top,Et.paddingRight=vt[St].right-mt[St].right,Et.paddingBottom=vt[St].bottom-mt[St].bottom,ht._textDivProperties.set(_t,Et);continue}const Pt=vt[St],Mt=mt[St],Rt=Mt.m,Ut=Rt[0],Ct=Rt[1],Kt=[[0,0],[0,Mt.size[1]],[Mt.size[0],0],Mt.size],Gt=new Float64Array(64);for(let jt=0,$t=Kt.length;jt<$t;jt++){const Jt=o.Util.applyTransform(Kt[jt],Rt);Gt[jt+0]=Ut&&(Pt.left-Jt[0])/Ut,Gt[jt+4]=Ct&&(Pt.top-Jt[1])/Ct,Gt[jt+8]=Ut&&(Pt.right-Jt[0])/Ut,Gt[jt+12]=Ct&&(Pt.bottom-Jt[1])/Ct,Gt[jt+16]=Ct&&(Pt.left-Jt[0])/-Ct,Gt[jt+20]=Ut&&(Pt.top-Jt[1])/Ut,Gt[jt+24]=Ct&&(Pt.right-Jt[0])/-Ct,Gt[jt+28]=Ut&&(Pt.bottom-Jt[1])/Ut,Gt[jt+32]=Ut&&(Pt.left-Jt[0])/-Ut,Gt[jt+36]=Ct&&(Pt.top-Jt[1])/-Ct,Gt[jt+40]=Ut&&(Pt.right-Jt[0])/-Ut,Gt[jt+44]=Ct&&(Pt.bottom-Jt[1])/-Ct,Gt[jt+48]=Ct&&(Pt.left-Jt[0])/Ct,Gt[jt+52]=Ut&&(Pt.top-Jt[1])/-Ut,Gt[jt+56]=Ct&&(Pt.right-Jt[0])/Ct,Gt[jt+60]=Ut&&(Pt.bottom-Jt[1])/-Ut}const It=1+Math.min(Math.abs(Ut),Math.abs(Ct));Et.paddingLeft=lt(Gt,32,16)/It,Et.paddingTop=lt(Gt,48,16)/It,Et.paddingRight=lt(Gt,0,16)/It,Et.paddingBottom=lt(Gt,16,16)/It,ht._textDivProperties.set(_t,Et)}}function ct(ht,mt,dt){const vt=dt.map(function(_t,Et){return{x1:_t.left,y1:_t.top,x2:_t.right,y2:_t.bottom,index:Et,x1New:void 0,x2New:void 0}});yt(ht,vt);const St=new Array(dt.length);for(const _t of vt){const Et=_t.index;St[Et]={left:_t.x1New,top:0,right:_t.x2New,bottom:0}}dt.map(function(_t,Et){const Pt=St[Et],Mt=vt[Et];Mt.x1=_t.top,Mt.y1=ht-Pt.right,Mt.x2=_t.bottom,Mt.y2=ht-Pt.left,Mt.index=Et,Mt.x1New=void 0,Mt.x2New=void 0}),yt(mt,vt);for(const _t of vt){const Et=_t.index;St[Et].top=_t.x1New,St[Et].bottom=_t.x2New}return St}function yt(ht,mt){mt.sort(function(St,_t){return St.x1-_t.x1||St.index-_t.index});const vt=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const St of mt){let _t=0;for(;_t<vt.length&&vt[_t].end<=St.y1;)_t++;let Et=vt.length-1;for(;Et>=0&&vt[Et].start>=St.y2;)Et--;let Pt,Mt,Rt,Ut,Ct=-1/0;for(Rt=_t;Rt<=Et;Rt++){Pt=vt[Rt],Mt=Pt.boundary;let It;Mt.x2>St.x1?It=Mt.index>St.index?Mt.x1New:St.x1:Mt.x2New===void 0?It=(Mt.x2+St.x1)/2:It=Mt.x2New,It>Ct&&(Ct=It)}for(St.x1New=Ct,Rt=_t;Rt<=Et;Rt++)Pt=vt[Rt],Mt=Pt.boundary,Mt.x2New===void 0?Mt.x2>St.x1?Mt.index>St.index&&(Mt.x2New=Mt.x2):Mt.x2New=Ct:Mt.x2New>Ct&&(Mt.x2New=Math.max(Ct,Mt.x2));const Kt=[];let Gt=null;for(Rt=_t;Rt<=Et;Rt++){Pt=vt[Rt],Mt=Pt.boundary;const It=Mt.x2>St.x2?Mt:St;Gt===It?Kt.at(-1).end=Pt.end:(Kt.push({start:Pt.start,end:Pt.end,boundary:It}),Gt=It)}for(vt[_t].start<St.y1&&(Kt[0].start=St.y1,Kt.unshift({start:vt[_t].start,end:St.y1,boundary:vt[_t].boundary})),St.y2<vt[Et].end&&(Kt.at(-1).end=St.y2,Kt.push({start:St.y2,end:vt[Et].end,boundary:vt[Et].boundary})),Rt=_t;Rt<=Et;Rt++){if(Pt=vt[Rt],Mt=Pt.boundary,Mt.x2New!==void 0)continue;let It=!1;for(Ut=_t-1;!It&&Ut>=0&&vt[Ut].start>=Mt.y1;Ut--)It=vt[Ut].boundary===Mt;for(Ut=Et+1;!It&&Ut<vt.length&&vt[Ut].end<=Mt.y2;Ut++)It=vt[Ut].boundary===Mt;for(Ut=0;!It&&Ut<Kt.length;Ut++)It=Kt[Ut].boundary===Mt;It||(Mt.x2New=Ct)}Array.prototype.splice.apply(vt,[_t,Et-_t+1,...Kt])}for(const St of vt){const _t=St.boundary;_t.x2New===void 0&&(_t.x2New=Math.max(ht,_t.x2))}}class pt{constructor(mt){var dt;let{textContent:vt,textContentStream:St,container:_t,viewport:Et,textDivs:Pt,textContentItemsStr:Mt,enhanceTextSelection:Rt}=mt;Rt&&(0,_.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=vt,this._textContentStream=St,this._container=_t,this._document=_t.ownerDocument,this._viewport=Et,this._textDivs=Pt||[],this._textContentItemsStr=Mt||[],this._enhanceTextSelection=!!Rt,this._fontInspectorEnabled=!!((dt=globalThis.FontInspector)!==null&&dt!==void 0&&dt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(mt,dt){for(let vt=0,St=mt.length;vt<St;vt++){if(mt[vt].str===void 0){if(mt[vt].type==="beginMarkedContentProps"||mt[vt].type==="beginMarkedContent"){const _t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),mt[vt].id!==null&&this._container.setAttribute("id",`${mt[vt].id}`),_t.append(this._container)}else mt[vt].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(mt[vt].str),ot(this,mt[vt],dt,this._layoutTextCtx)}}_layoutText(mt){const dt=this._textDivProperties.get(mt);let vt="";if(dt.canvasWidth!==0&&dt.hasText){const{fontFamily:St}=mt.style,{fontSize:_t}=dt;(_t!==this._layoutTextLastFontSize||St!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${_t*this._devicePixelRatio}px ${St}`,this._layoutTextLastFontSize=_t,this._layoutTextLastFontFamily=St);const{width:Et}=this._layoutTextCtx.measureText(mt.textContent);if(Et>0){const Pt=this._devicePixelRatio*dt.canvasWidth/Et;this._enhanceTextSelection&&(dt.scale=Pt),vt=`scaleX(${Pt})`}}if(dt.angle!==0&&(vt=`rotate(${dt.angle}deg) ${vt}`),vt.length>0&&(this._enhanceTextSelection&&(dt.originalTransform=vt),mt.style.transform=vt),dt.hasText&&this._container.append(mt),dt.hasEOL){const St=document.createElement("br");St.setAttribute("role","presentation"),this._container.append(St)}}_render(){let mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const dt=(0,o.createPromiseCapability)();let vt=Object.create(null);const St=this._document.createElement("canvas");if(St.height=St.width=j,this._layoutTextCtx=St.getContext("2d",{alpha:!1}),this._textContent){const _t=this._textContent.items,Et=this._textContent.styles;this._processItems(_t,Et),dt.resolve()}else if(this._textContentStream){const _t=()=>{this._reader.read().then(Et=>{let{value:Pt,done:Mt}=Et;if(Mt){dt.resolve();return}Object.assign(vt,Pt.styles),this._processItems(Pt.items,vt),_t()},dt.reject)};this._reader=this._textContentStream.getReader(),_t()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');dt.promise.then(()=>{vt=null,mt?this._renderTimer=setTimeout(()=>{at(this),this._renderTimer=null},mt):at(this)},this._capability.reject)}expandTextDivs(){let mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(gt(this),this._bounds=null);const dt=[],vt=[];for(let St=0,_t=this._textDivs.length;St<_t;St++){const Et=this._textDivs[St],Pt=this._textDivProperties.get(Et);Pt.hasText&&(mt?(dt.length=0,vt.length=0,Pt.originalTransform&&dt.push(Pt.originalTransform),Pt.paddingTop>0?(vt.push(`${Pt.paddingTop}px`),dt.push(`translateY(${-Pt.paddingTop}px)`)):vt.push(0),Pt.paddingRight>0?vt.push(`${Pt.paddingRight/Pt.scale}px`):vt.push(0),Pt.paddingBottom>0?vt.push(`${Pt.paddingBottom}px`):vt.push(0),Pt.paddingLeft>0?(vt.push(`${Pt.paddingLeft/Pt.scale}px`),dt.push(`translateX(${-Pt.paddingLeft/Pt.scale}px)`)):vt.push(0),Et.style.padding=vt.join(" "),dt.length&&(Et.style.transform=dt.join(" "))):(Et.style.padding=null,Et.style.transform=Pt.originalTransform))}}}s.TextLayerRenderTask=pt;function ut(ht){const mt=new pt({textContent:ht.textContent,textContentStream:ht.textContentStream,container:ht.container,viewport:ht.viewport,textDivs:ht.textDivs,textContentItemsStr:ht.textContentItemsStr,enhanceTextSelection:ht.enhanceTextSelection});return mt._render(ht.timeout),mt}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=a(133),_=a(1),$=a(3);let j=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=j;{let ct=function(dt){let vt=[];const St=[];for(const _t of dt){if(_t.fn==="save"){vt.push({fnId:92,fn:"group",items:[]}),St.push(vt),vt=vt.at(-1).items;continue}_t.fn==="restore"?vt=St.pop():vt.push(_t)}return vt},yt=function(dt){if(Number.isInteger(dt))return dt.toString();const vt=dt.toFixed(10);let St=vt.length-1;if(vt[St]!=="0")return vt;do St--;while(vt[St]==="0");return vt.substring(0,vt[St]==="."?St:St+1)},pt=function(dt){if(dt[4]===0&&dt[5]===0){if(dt[1]===0&&dt[2]===0)return dt[0]===1&&dt[3]===1?"":`scale(${yt(dt[0])} ${yt(dt[3])})`;if(dt[0]===dt[3]&&dt[1]===-dt[2]){const vt=Math.acos(dt[0])*180/Math.PI;return`rotate(${yt(vt)})`}}else if(dt[0]===1&&dt[1]===0&&dt[2]===0&&dt[3]===1)return`translate(${yt(dt[4])} ${yt(dt[5])})`;return`matrix(${yt(dt[0])} ${yt(dt[1])} ${yt(dt[2])} ${yt(dt[3])} ${yt(dt[4])} ${yt(dt[5])})`};const et={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},rt="http://www.w3.org/XML/1998/namespace",nt="http://www.w3.org/1999/xlink",it=["butt","round","square"],ot=["miter","round","bevel"],at=function(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",St=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!St)return URL.createObjectURL(new Blob([dt],{type:vt}));const _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Et=`data:${vt};base64,`;for(let Pt=0,Mt=dt.length;Pt<Mt;Pt+=3){const Rt=dt[Pt]&255,Ut=dt[Pt+1]&255,Ct=dt[Pt+2]&255,Kt=Rt>>2,Gt=(Rt&3)<<4|Ut>>4,It=Pt+1<Mt?(Ut&15)<<2|Ct>>6:64,jt=Pt+2<Mt?Ct&63:64;Et+=_t[Kt]+_t[Gt]+_t[It]+_t[jt]}return Et},lt=function(){const dt=new Uint8Array([137,80,78,71,13,10,26,10]),vt=12,St=new Int32Array(256);for(let Ct=0;Ct<256;Ct++){let Kt=Ct;for(let Gt=0;Gt<8;Gt++)Kt&1?Kt=3988292384^Kt>>1&2147483647:Kt=Kt>>1&2147483647;St[Ct]=Kt}function _t(Ct,Kt,Gt){let It=-1;for(let jt=Kt;jt<Gt;jt++){const $t=(It^Ct[jt])&255,Jt=St[$t];It=It>>>8^Jt}return It^-1}function Et(Ct,Kt,Gt,It){let jt=It;const $t=Kt.length;Gt[jt]=$t>>24&255,Gt[jt+1]=$t>>16&255,Gt[jt+2]=$t>>8&255,Gt[jt+3]=$t&255,jt+=4,Gt[jt]=Ct.charCodeAt(0)&255,Gt[jt+1]=Ct.charCodeAt(1)&255,Gt[jt+2]=Ct.charCodeAt(2)&255,Gt[jt+3]=Ct.charCodeAt(3)&255,jt+=4,Gt.set(Kt,jt),jt+=Kt.length;const Jt=_t(Gt,It+4,jt);Gt[jt]=Jt>>24&255,Gt[jt+1]=Jt>>16&255,Gt[jt+2]=Jt>>8&255,Gt[jt+3]=Jt&255}function Pt(Ct,Kt,Gt){let It=1,jt=0;for(let $t=Kt;$t<Gt;++$t)It=(It+(Ct[$t]&255))%65521,jt=(jt+It)%65521;return jt<<16|It}function Mt(Ct){if(!$.isNodeJS)return Rt(Ct);try{let Kt;parseInt(process.versions.node)>=8?Kt=Ct:Kt=Buffer.from(Ct);const Gt=require$$7.deflateSync(Kt,{level:9});return Gt instanceof Uint8Array?Gt:new Uint8Array(Gt)}catch(Kt){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Kt)}return Rt(Ct)}function Rt(Ct){let Kt=Ct.length;const Gt=65535,It=Math.ceil(Kt/Gt),jt=new Uint8Array(2+Kt+It*5+4);let $t=0;jt[$t++]=120,jt[$t++]=156;let Jt=0;for(;Kt>Gt;)jt[$t++]=0,jt[$t++]=255,jt[$t++]=255,jt[$t++]=0,jt[$t++]=0,jt.set(Ct.subarray(Jt,Jt+Gt),$t),$t+=Gt,Jt+=Gt,Kt-=Gt;jt[$t++]=1,jt[$t++]=Kt&255,jt[$t++]=Kt>>8&255,jt[$t++]=~Kt&65535&255,jt[$t++]=(~Kt&65535)>>8&255,jt.set(Ct.subarray(Jt),$t),$t+=Ct.length-Jt;const Wt=Pt(Ct,0,Ct.length);return jt[$t++]=Wt>>24&255,jt[$t++]=Wt>>16&255,jt[$t++]=Wt>>8&255,jt[$t++]=Wt&255,jt}function Ut(Ct,Kt,Gt,It){const jt=Ct.width,$t=Ct.height;let Jt,Wt,tr;const mr=Ct.data;switch(Kt){case _.ImageKind.GRAYSCALE_1BPP:Wt=0,Jt=1,tr=jt+7>>3;break;case _.ImageKind.RGB_24BPP:Wt=2,Jt=8,tr=jt*3;break;case _.ImageKind.RGBA_32BPP:Wt=6,Jt=8,tr=jt*4;break;default:throw new Error("invalid format")}const Yt=new Uint8Array((1+tr)*$t);let kt=0,Ft=0;for(let zt=0;zt<$t;++zt)Yt[kt++]=0,Yt.set(mr.subarray(Ft,Ft+tr),kt),Ft+=tr,kt+=tr;if(Kt===_.ImageKind.GRAYSCALE_1BPP&&It){kt=0;for(let zt=0;zt<$t;zt++){kt++;for(let Xt=0;Xt<tr;Xt++)Yt[kt++]^=255}}const er=new Uint8Array([jt>>24&255,jt>>16&255,jt>>8&255,jt&255,$t>>24&255,$t>>16&255,$t>>8&255,$t&255,Jt,Wt,0,0,0]),Zt=Mt(Yt),At=dt.length+vt*3+er.length+Zt.length,Ot=new Uint8Array(At);let Dt=0;return Ot.set(dt,Dt),Dt+=dt.length,Et("IHDR",er,Ot,Dt),Dt+=vt+er.length,Et("IDATA",Zt,Ot,Dt),Dt+=vt+Zt.length,Et("IEND",new Uint8Array(0),Ot,Dt),at(Ot,"image/png",Gt)}return function(Kt,Gt,It){const jt=Kt.kind===void 0?_.ImageKind.GRAYSCALE_1BPP:Kt.kind;return Ut(Kt,jt,Gt,It)}}();class gt{constructor(){this.fontSizeScale=1,this.fontWeight=et.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=et.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(vt,St){this.x=vt,this.y=St}}let ut=0,ht=0,mt=0;s.SVGGraphics=j=class{constructor(dt,vt){let St=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new gt,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=dt,this.objs=vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!St,this._operatorIdMapping=[];for(const _t in _.OPS)this._operatorIdMapping[_.OPS[_t]]=_t}save(){this.transformStack.push(this.transformMatrix);const dt=this.current;this.extraStack.push(dt),this.current=dt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(dt){this.save(),this.executeOpTree(dt),this.restore()}loadDependencies(dt){const vt=dt.fnArray,St=dt.argsArray;for(let _t=0,Et=vt.length;_t<Et;_t++)if(vt[_t]===_.OPS.dependency)for(const Pt of St[_t]){const Mt=Pt.startsWith("g_")?this.commonObjs:this.objs,Rt=new Promise(Ut=>{Mt.get(Pt,Ut)});this.current.dependencies.push(Rt)}return Promise.all(this.current.dependencies)}transform(dt,vt,St,_t,Et,Pt){const Mt=[dt,vt,St,_t,Et,Pt];this.transformMatrix=_.Util.transform(this.transformMatrix,Mt),this.tgrp=null}getSVG(dt,vt){this.viewport=vt;const St=this._initialize(vt);return this.loadDependencies(dt).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(dt)),St))}convertOpList(dt){const vt=this._operatorIdMapping,St=dt.argsArray,_t=dt.fnArray,Et=[];for(let Pt=0,Mt=_t.length;Pt<Mt;Pt++){const Rt=_t[Pt];Et.push({fnId:Rt,fn:vt[Rt],args:St[Pt]})}return ct(Et)}executeOpTree(dt){for(const vt of dt){const St=vt.fn,_t=vt.fnId,Et=vt.args;switch(_t|0){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(Et);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(Et[0],Et[1]);break;case _.OPS.setFont:this.setFont(Et);break;case _.OPS.showText:this.showText(Et[0]);break;case _.OPS.showSpacedText:this.showText(Et[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(Et[0],Et[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(Et[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(Et[0]);break;case _.OPS.setHScale:this.setHScale(Et[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]);break;case _.OPS.setTextRise:this.setTextRise(Et[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(Et[0]);break;case _.OPS.setLineWidth:this.setLineWidth(Et[0]);break;case _.OPS.setLineJoin:this.setLineJoin(Et[0]);break;case _.OPS.setLineCap:this.setLineCap(Et[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(Et[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(Et[0],Et[1],Et[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Et[0],Et[1],Et[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(Et);break;case _.OPS.setFillColorN:this.setFillColorN(Et);break;case _.OPS.shadingFill:this.shadingFill(Et[0]);break;case _.OPS.setDash:this.setDash(Et[0],Et[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(Et[0]);break;case _.OPS.setFlatness:this.setFlatness(Et[0]);break;case _.OPS.setGState:this.setGState(Et[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(Et[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Et[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Et[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Et[0],Et[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]);break;case _.OPS.constructPath:this.constructPath(Et[0],Et[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(vt.items);break;default:(0,_.warn)(`Unimplemented operator ${St}`);break}}}setWordSpacing(dt){this.current.wordSpacing=dt}setCharSpacing(dt){this.current.charSpacing=dt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(dt,vt,St,_t,Et,Pt){const Mt=this.current;Mt.textMatrix=Mt.lineMatrix=[dt,vt,St,_t,Et,Pt],Mt.textMatrixScale=Math.hypot(dt,vt),Mt.x=Mt.lineX=0,Mt.y=Mt.lineY=0,Mt.xcoords=[],Mt.ycoords=[],Mt.tspan=this.svgFactory.createElement("svg:tspan"),Mt.tspan.setAttributeNS(null,"font-family",Mt.fontFamily),Mt.tspan.setAttributeNS(null,"font-size",`${yt(Mt.fontSize)}px`),Mt.tspan.setAttributeNS(null,"y",yt(-Mt.y)),Mt.txtElement=this.svgFactory.createElement("svg:text"),Mt.txtElement.append(Mt.tspan)}beginText(){const dt=this.current;dt.x=dt.lineX=0,dt.y=dt.lineY=0,dt.textMatrix=_.IDENTITY_MATRIX,dt.lineMatrix=_.IDENTITY_MATRIX,dt.textMatrixScale=1,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.txtElement=this.svgFactory.createElement("svg:text"),dt.txtgrp=this.svgFactory.createElement("svg:g"),dt.xcoords=[],dt.ycoords=[]}moveText(dt,vt){const St=this.current;St.x=St.lineX+=dt,St.y=St.lineY+=vt,St.xcoords=[],St.ycoords=[],St.tspan=this.svgFactory.createElement("svg:tspan"),St.tspan.setAttributeNS(null,"font-family",St.fontFamily),St.tspan.setAttributeNS(null,"font-size",`${yt(St.fontSize)}px`),St.tspan.setAttributeNS(null,"y",yt(-St.y))}showText(dt){const vt=this.current,St=vt.font,_t=vt.fontSize;if(_t===0)return;const Et=vt.fontSizeScale,Pt=vt.charSpacing,Mt=vt.wordSpacing,Rt=vt.fontDirection,Ut=vt.textHScale*Rt,Ct=St.vertical,Kt=Ct?1:-1,Gt=St.defaultVMetrics,It=_t*vt.fontMatrix[0];let jt=0;for(const Wt of dt){if(Wt===null){jt+=Rt*Mt;continue}else if(typeof Wt=="number"){jt+=Kt*Wt*_t/1e3;continue}const tr=(Wt.isSpace?Mt:0)+Pt,mr=Wt.fontChar;let Yt,kt,Ft=Wt.width;if(Ct){let Zt;const At=Wt.vmetric||Gt;Zt=Wt.vmetric?At[1]:Ft*.5,Zt=-Zt*It;const Ot=At[2]*It;Ft=At?-At[0]:Ft,Yt=Zt/Et,kt=(jt+Ot)/Et}else Yt=jt/Et,kt=0;(Wt.isInFont||St.missingFile)&&(vt.xcoords.push(vt.x+Yt),Ct&&vt.ycoords.push(-vt.y+kt),vt.tspan.textContent+=mr);let er;Ct?er=Ft*It-tr*Rt:er=Ft*It+tr*Rt,jt+=er}vt.tspan.setAttributeNS(null,"x",vt.xcoords.map(yt).join(" ")),Ct?vt.tspan.setAttributeNS(null,"y",vt.ycoords.map(yt).join(" ")):vt.tspan.setAttributeNS(null,"y",yt(-vt.y)),Ct?vt.y-=jt:vt.x+=jt*Ut,vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${yt(vt.fontSize)}px`),vt.fontStyle!==et.fontStyle&&vt.tspan.setAttributeNS(null,"font-style",vt.fontStyle),vt.fontWeight!==et.fontWeight&&vt.tspan.setAttributeNS(null,"font-weight",vt.fontWeight);const $t=vt.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;if($t===_.TextRenderingMode.FILL||$t===_.TextRenderingMode.FILL_STROKE?(vt.fillColor!==et.fillColor&&vt.tspan.setAttributeNS(null,"fill",vt.fillColor),vt.fillAlpha<1&&vt.tspan.setAttributeNS(null,"fill-opacity",vt.fillAlpha)):vt.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?vt.tspan.setAttributeNS(null,"fill","transparent"):vt.tspan.setAttributeNS(null,"fill","none"),$t===_.TextRenderingMode.STROKE||$t===_.TextRenderingMode.FILL_STROKE){const Wt=1/(vt.textMatrixScale||1);this._setStrokeAttributes(vt.tspan,Wt)}let Jt=vt.textMatrix;vt.textRise!==0&&(Jt=Jt.slice(),Jt[5]+=vt.textRise),vt.txtElement.setAttributeNS(null,"transform",`${pt(Jt)} scale(${yt(Ut)}, -1)`),vt.txtElement.setAttributeNS(rt,"xml:space","preserve"),vt.txtElement.append(vt.tspan),vt.txtgrp.append(vt.txtElement),this._ensureTransformGroup().append(vt.txtElement)}setLeadingMoveText(dt,vt){this.setLeading(-vt),this.moveText(dt,vt)}addFontStyle(dt){if(!dt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const vt=at(dt.data,dt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${dt.loadedName}"; src: url(${vt}); }
`}setFont(dt){const vt=this.current,St=this.commonObjs.get(dt[0]);let _t=dt[1];vt.font=St,this.embedFonts&&!St.missingFile&&!this.embeddedFonts[St.loadedName]&&(this.addFontStyle(St),this.embeddedFonts[St.loadedName]=St),vt.fontMatrix=St.fontMatrix||_.FONT_IDENTITY_MATRIX;let Et="normal";St.black?Et="900":St.bold&&(Et="bold");const Pt=St.italic?"italic":"normal";_t<0?(_t=-_t,vt.fontDirection=-1):vt.fontDirection=1,vt.fontSize=_t,vt.fontFamily=St.loadedName,vt.fontWeight=Et,vt.fontStyle=Pt,vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"y",yt(-vt.y)),vt.xcoords=[],vt.ycoords=[]}endText(){var dt;const vt=this.current;vt.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&(dt=vt.txtElement)!==null&&dt!==void 0&&dt.hasChildNodes()&&(vt.element=vt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(dt){dt>0&&(this.current.lineWidth=dt)}setLineCap(dt){this.current.lineCap=it[dt]}setLineJoin(dt){this.current.lineJoin=ot[dt]}setMiterLimit(dt){this.current.miterLimit=dt}setStrokeAlpha(dt){this.current.strokeAlpha=dt}setStrokeRGBColor(dt,vt,St){this.current.strokeColor=_.Util.makeHexColor(dt,vt,St)}setFillAlpha(dt){this.current.fillAlpha=dt}setFillRGBColor(dt,vt,St){this.current.fillColor=_.Util.makeHexColor(dt,vt,St),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(dt){this.current.strokeColor=this._makeColorN_Pattern(dt)}setFillColorN(dt){this.current.fillColor=this._makeColorN_Pattern(dt)}shadingFill(dt){const vt=this.viewport.width,St=this.viewport.height,_t=_.Util.inverseTransform(this.transformMatrix),Et=_.Util.applyTransform([0,0],_t),Pt=_.Util.applyTransform([0,St],_t),Mt=_.Util.applyTransform([vt,0],_t),Rt=_.Util.applyTransform([vt,St],_t),Ut=Math.min(Et[0],Pt[0],Mt[0],Rt[0]),Ct=Math.min(Et[1],Pt[1],Mt[1],Rt[1]),Kt=Math.max(Et[0],Pt[0],Mt[0],Rt[0]),Gt=Math.max(Et[1],Pt[1],Mt[1],Rt[1]),It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x",Ut),It.setAttributeNS(null,"y",Ct),It.setAttributeNS(null,"width",Kt-Ut),It.setAttributeNS(null,"height",Gt-Ct),It.setAttributeNS(null,"fill",this._makeShadingPattern(dt)),this.current.fillAlpha<1&&It.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(It)}_makeColorN_Pattern(dt){return dt[0]==="TilingPattern"?this._makeTilingPattern(dt):this._makeShadingPattern(dt)}_makeTilingPattern(dt){const vt=dt[1],St=dt[2],_t=dt[3]||_.IDENTITY_MATRIX,[Et,Pt,Mt,Rt]=dt[4],Ut=dt[5],Ct=dt[6],Kt=dt[7],Gt=`shading${mt++}`,[It,jt,$t,Jt]=_.Util.normalizeRect([..._.Util.applyTransform([Et,Pt],_t),..._.Util.applyTransform([Mt,Rt],_t)]),[Wt,tr]=_.Util.singularValueDecompose2dScale(_t),mr=Ut*Wt,Yt=Ct*tr,kt=this.svgFactory.createElement("svg:pattern");kt.setAttributeNS(null,"id",Gt),kt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),kt.setAttributeNS(null,"width",mr),kt.setAttributeNS(null,"height",Yt),kt.setAttributeNS(null,"x",`${It}`),kt.setAttributeNS(null,"y",`${jt}`);const Ft=this.svg,er=this.transformMatrix,Zt=this.current.fillColor,At=this.current.strokeColor,Ot=this.svgFactory.create($t-It,Jt-jt);if(this.svg=Ot,this.transformMatrix=_t,Kt===2){const Dt=_.Util.makeHexColor(...vt);this.current.fillColor=Dt,this.current.strokeColor=Dt}return this.executeOpTree(this.convertOpList(St)),this.svg=Ft,this.transformMatrix=er,this.current.fillColor=Zt,this.current.strokeColor=At,kt.append(Ot.childNodes[0]),this.defs.append(kt),`url(#${Gt})`}_makeShadingPattern(dt){switch(typeof dt=="string"&&(dt=this.objs.get(dt)),dt[0]){case"RadialAxial":const vt=`shading${mt++}`,St=dt[3];let _t;switch(dt[1]){case"axial":const Et=dt[4],Pt=dt[5];_t=this.svgFactory.createElement("svg:linearGradient"),_t.setAttributeNS(null,"id",vt),_t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_t.setAttributeNS(null,"x1",Et[0]),_t.setAttributeNS(null,"y1",Et[1]),_t.setAttributeNS(null,"x2",Pt[0]),_t.setAttributeNS(null,"y2",Pt[1]);break;case"radial":const Mt=dt[4],Rt=dt[5],Ut=dt[6],Ct=dt[7];_t=this.svgFactory.createElement("svg:radialGradient"),_t.setAttributeNS(null,"id",vt),_t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_t.setAttributeNS(null,"cx",Rt[0]),_t.setAttributeNS(null,"cy",Rt[1]),_t.setAttributeNS(null,"r",Ct),_t.setAttributeNS(null,"fx",Mt[0]),_t.setAttributeNS(null,"fy",Mt[1]),_t.setAttributeNS(null,"fr",Ut);break;default:throw new Error(`Unknown RadialAxial type: ${dt[1]}`)}for(const Et of St){const Pt=this.svgFactory.createElement("svg:stop");Pt.setAttributeNS(null,"offset",Et[0]),Pt.setAttributeNS(null,"stop-color",Et[1]),_t.append(Pt)}return this.defs.append(_t),`url(#${vt})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${dt[0]}`)}}setDash(dt,vt){this.current.dashArray=dt,this.current.dashPhase=vt}constructPath(dt,vt){const St=this.current;let _t=St.x,Et=St.y,Pt=[],Mt=0;for(const Rt of dt)switch(Rt|0){case _.OPS.rectangle:_t=vt[Mt++],Et=vt[Mt++];const Ut=vt[Mt++],Ct=vt[Mt++],Kt=_t+Ut,Gt=Et+Ct;Pt.push("M",yt(_t),yt(Et),"L",yt(Kt),yt(Et),"L",yt(Kt),yt(Gt),"L",yt(_t),yt(Gt),"Z");break;case _.OPS.moveTo:_t=vt[Mt++],Et=vt[Mt++],Pt.push("M",yt(_t),yt(Et));break;case _.OPS.lineTo:_t=vt[Mt++],Et=vt[Mt++],Pt.push("L",yt(_t),yt(Et));break;case _.OPS.curveTo:_t=vt[Mt+4],Et=vt[Mt+5],Pt.push("C",yt(vt[Mt]),yt(vt[Mt+1]),yt(vt[Mt+2]),yt(vt[Mt+3]),yt(_t),yt(Et)),Mt+=6;break;case _.OPS.curveTo2:Pt.push("C",yt(_t),yt(Et),yt(vt[Mt]),yt(vt[Mt+1]),yt(vt[Mt+2]),yt(vt[Mt+3])),_t=vt[Mt+2],Et=vt[Mt+3],Mt+=4;break;case _.OPS.curveTo3:_t=vt[Mt+2],Et=vt[Mt+3],Pt.push("C",yt(vt[Mt]),yt(vt[Mt+1]),yt(_t),yt(Et),yt(_t),yt(Et)),Mt+=4;break;case _.OPS.closePath:Pt.push("Z");break}Pt=Pt.join(" "),St.path&&dt.length>0&&dt[0]!==_.OPS.rectangle&&dt[0]!==_.OPS.moveTo?Pt=St.path.getAttributeNS(null,"d")+Pt:(St.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(St.path)),St.path.setAttributeNS(null,"d",Pt),St.path.setAttributeNS(null,"fill","none"),St.element=St.path,St.setCurrentPoint(_t,Et)}endPath(){const dt=this.current;if(dt.path=null,!this.pendingClip)return;if(!dt.element){this.pendingClip=null;return}const vt=`clippath${ut++}`,St=this.svgFactory.createElement("svg:clipPath");St.setAttributeNS(null,"id",vt),St.setAttributeNS(null,"transform",pt(this.transformMatrix));const _t=dt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_t.setAttributeNS(null,"clip-rule","evenodd"):_t.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,St.append(_t),this.defs.append(St),dt.activeClipUrl){dt.clipGroup=null;for(const Et of this.extraStack)Et.clipGroup=null;St.setAttributeNS(null,"clip-path",dt.activeClipUrl)}dt.activeClipUrl=`url(#${vt})`,this.tgrp=null}clip(dt){this.pendingClip=dt}closePath(){const dt=this.current;if(dt.path){const vt=`${dt.path.getAttributeNS(null,"d")}Z`;dt.path.setAttributeNS(null,"d",vt)}}setLeading(dt){this.current.leading=-dt}setTextRise(dt){this.current.textRise=dt}setTextRenderingMode(dt){this.current.textRenderingMode=dt}setHScale(dt){this.current.textHScale=dt/100}setRenderingIntent(dt){}setFlatness(dt){}setGState(dt){for(const[vt,St]of dt)switch(vt){case"LW":this.setLineWidth(St);break;case"LC":this.setLineCap(St);break;case"LJ":this.setLineJoin(St);break;case"ML":this.setMiterLimit(St);break;case"D":this.setDash(St[0],St[1]);break;case"RI":this.setRenderingIntent(St);break;case"FL":this.setFlatness(St);break;case"Font":this.setFont(St);break;case"CA":this.setStrokeAlpha(St);break;case"ca":this.setFillAlpha(St);break;default:(0,_.warn)(`Unimplemented graphic state operator ${vt}`);break}}fill(){const dt=this.current;dt.element&&(dt.element.setAttributeNS(null,"fill",dt.fillColor),dt.element.setAttributeNS(null,"fill-opacity",dt.fillAlpha),this.endPath())}stroke(){const dt=this.current;dt.element&&(this._setStrokeAttributes(dt.element),dt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const St=this.current;let _t=St.dashArray;vt!==1&&_t.length>0&&(_t=_t.map(function(Et){return vt*Et})),dt.setAttributeNS(null,"stroke",St.strokeColor),dt.setAttributeNS(null,"stroke-opacity",St.strokeAlpha),dt.setAttributeNS(null,"stroke-miterlimit",yt(St.miterLimit)),dt.setAttributeNS(null,"stroke-linecap",St.lineCap),dt.setAttributeNS(null,"stroke-linejoin",St.lineJoin),dt.setAttributeNS(null,"stroke-width",yt(vt*St.lineWidth)+"px"),dt.setAttributeNS(null,"stroke-dasharray",_t.map(yt).join(" ")),dt.setAttributeNS(null,"stroke-dashoffset",yt(vt*St.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x","0"),dt.setAttributeNS(null,"y","0"),dt.setAttributeNS(null,"width","1px"),dt.setAttributeNS(null,"height","1px"),dt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(dt)}paintImageXObject(dt){const vt=dt.startsWith("g_")?this.commonObjs.get(dt):this.objs.get(dt);if(!vt){(0,_.warn)(`Dependent image with object ID ${dt} is not ready yet`);return}this.paintInlineImageXObject(vt)}paintInlineImageXObject(dt,vt){const St=dt.width,_t=dt.height,Et=lt(dt,this.forceDataSchema,!!vt),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",yt(St)),Pt.setAttributeNS(null,"height",yt(_t)),this.current.element=Pt,this.clip("nonzero");const Mt=this.svgFactory.createElement("svg:image");Mt.setAttributeNS(nt,"xlink:href",Et),Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y",yt(-_t)),Mt.setAttributeNS(null,"width",yt(St)+"px"),Mt.setAttributeNS(null,"height",yt(_t)+"px"),Mt.setAttributeNS(null,"transform",`scale(${yt(1/St)} ${yt(-1/_t)})`),vt?vt.append(Mt):this._ensureTransformGroup().append(Mt)}paintImageMaskXObject(dt){const vt=this.current,St=dt.width,_t=dt.height,Et=vt.fillColor;vt.maskId=`mask${ht++}`;const Pt=this.svgFactory.createElement("svg:mask");Pt.setAttributeNS(null,"id",vt.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",yt(St)),Mt.setAttributeNS(null,"height",yt(_t)),Mt.setAttributeNS(null,"fill",Et),Mt.setAttributeNS(null,"mask",`url(#${vt.maskId})`),this.defs.append(Pt),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(dt,Pt)}paintFormXObjectBegin(dt,vt){if(Array.isArray(dt)&&dt.length===6&&this.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),vt){const St=vt[2]-vt[0],_t=vt[3]-vt[1],Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x",vt[0]),Et.setAttributeNS(null,"y",vt[1]),Et.setAttributeNS(null,"width",yt(St)),Et.setAttributeNS(null,"height",yt(_t)),this.current.element=Et,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(dt){const vt=this.svgFactory.create(dt.width,dt.height),St=this.svgFactory.createElement("svg:defs");vt.append(St),this.defs=St;const _t=this.svgFactory.createElement("svg:g");return _t.setAttributeNS(null,"transform",pt(dt.transform)),vt.append(_t),this.svg=_t,vt}_ensureClipGroup(){if(!this.current.clipGroup){const dt=this.svgFactory.createElement("svg:g");dt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(dt),this.current.clipGroup=dt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=a(1),_=a(158);const $=require$$7,j=require$$7,et=require$$7,rt=require$$7,nt=/^file:\/\/\/[a-zA-Z]:\//;function it(ht){const mt=rt.parse(ht);return mt.protocol==="file:"||mt.host?mt:/^[a-z]:[/\\]/i.test(ht)?rt.parse(`file:///${ht}`):(mt.host||(mt.protocol="file:"),mt)}class ot{constructor(mt){this.source=mt,this.url=it(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt,dt;return(mt=(dt=this._fullRequestReader)===null||dt===void 0?void 0:dt._loaded)!==null&&mt!==void 0?mt:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new pt(this):new ct(this),this._fullRequestReader}getRangeReader(mt,dt){if(dt<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new ut(this,mt,dt):new yt(this,mt,dt);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests(mt){this._fullRequestReader&&this._fullRequestReader.cancel(mt);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(mt)}}s.PDFNodeStream=ot;class at{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const dt=mt.source;this._contentLength=dt.length,this._loaded=0,this._filename=null,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=mt.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",dt=>{this._error(dt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lt{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();const dt=mt.source;this._isStreamingSupported=!dt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=mt.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",dt=>{this._error(dt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function gt(ht,mt){return{protocol:ht.protocol,auth:ht.auth,host:ht.hostname,port:ht.port,path:ht.path,method:"GET",headers:mt}}class ct extends at{constructor(mt){super(mt);const dt=vt=>{if(vt.statusCode===404){const Pt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Pt,this._headersCapability.reject(Pt);return}this._headersCapability.resolve(),this._setReadableStream(vt);const St=Pt=>this._readableStream.headers[Pt.toLowerCase()],{allowRangeRequests:_t,suggestedLength:Et}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:St,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=Et||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(St)};this._request=null,this._url.protocol==="http:"?this._request=j.request(gt(this._url,mt.httpHeaders),dt):this._request=et.request(gt(this._url,mt.httpHeaders),dt),this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class yt extends lt{constructor(mt,dt,vt){super(mt),this._httpHeaders={};for(const _t in mt.httpHeaders){const Et=mt.httpHeaders[_t];typeof Et>"u"||(this._httpHeaders[_t]=Et)}this._httpHeaders.Range=`bytes=${dt}-${vt-1}`;const St=_t=>{if(_t.statusCode===404){const Et=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(_t)};this._request=null,this._url.protocol==="http:"?this._request=j.request(gt(this._url,this._httpHeaders),St):this._request=et.request(gt(this._url,this._httpHeaders),St),this._request.on("error",_t=>{this._storedError=_t}),this._request.end()}}class pt extends at{constructor(mt){super(mt);let dt=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(dt=dt.replace(/^\//,"")),$.lstat(dt,(vt,St)=>{if(vt){vt.code==="ENOENT"&&(vt=new o.MissingPDFException(`Missing PDF "${dt}".`)),this._storedError=vt,this._headersCapability.reject(vt);return}this._contentLength=St.size,this._setReadableStream($.createReadStream(dt)),this._headersCapability.resolve()})}}class ut extends lt{constructor(mt,dt,vt){super(mt);let St=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(St=St.replace(/^\//,"")),this._setReadableStream($.createReadStream(St,{start:dt,end:vt-1}))}}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=rt,s.extractFilenameFromHeader=et,s.validateRangeRequestCapabilities=j,s.validateResponseStatus=nt;var o=a(1),_=a(159),$=a(133);function j(it){let{getResponseHeader:ot,isHttp:at,rangeChunkSize:lt,disableRange:gt}=it;const ct={allowRangeRequests:!1,suggestedLength:void 0},yt=parseInt(ot("Content-Length"),10);return!Number.isInteger(yt)||(ct.suggestedLength=yt,yt<=2*lt)||gt||!at||ot("Accept-Ranges")!=="bytes"||(ot("Content-Encoding")||"identity")!=="identity"||(ct.allowRangeRequests=!0),ct}function et(it){const ot=it("Content-Disposition");if(ot){let at=(0,_.getFilenameFromContentDispositionHeader)(ot);if(at.includes("%"))try{at=decodeURIComponent(at)}catch{}if((0,$.isPdfFile)(at))return at}return null}function rt(it,ot){return it===404||it===0&&ot.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+ot+'".'):new o.UnexpectedResponseException(`Unexpected server response (${it}) while retrieving PDF "${ot}".`,it)}function nt(it){return it===200||it===206}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=_;var o=a(1);function _($){let j=!0,et=rt("filename\\*","i").exec($);if(et){et=et[1];let ct=at(et);return ct=unescape(ct),ct=lt(ct),ct=gt(ct),it(ct)}if(et=ot($),et){const ct=gt(et);return it(ct)}if(et=rt("filename","i").exec($),et){et=et[1];let ct=at(et);return ct=gt(ct),it(ct)}function rt(ct,yt){return new RegExp("(?:^|;)\\s*"+ct+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',yt)}function nt(ct,yt){if(ct){if(!/^[\x00-\xFF]+$/.test(yt))return yt;try{const pt=new TextDecoder(ct,{fatal:!0}),ut=(0,o.stringToBytes)(yt);yt=pt.decode(ut),j=!1}catch{}}return yt}function it(ct){return j&&/[\x80-\xff]/.test(ct)&&(ct=nt("utf-8",ct),j&&(ct=nt("iso-8859-1",ct))),ct}function ot(ct){const yt=[];let pt;const ut=rt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(pt=ut.exec(ct))!==null;){let[,mt,dt,vt]=pt;if(mt=parseInt(mt,10),mt in yt){if(mt===0)break;continue}yt[mt]=[dt,vt]}const ht=[];for(let mt=0;mt<yt.length&&mt in yt;++mt){let[dt,vt]=yt[mt];vt=at(vt),dt&&(vt=unescape(vt),mt===0&&(vt=lt(vt))),ht.push(vt)}return ht.join("")}function at(ct){if(ct.startsWith('"')){const yt=ct.slice(1).split('\\"');for(let pt=0;pt<yt.length;++pt){const ut=yt[pt].indexOf('"');ut!==-1&&(yt[pt]=yt[pt].slice(0,ut),yt.length=pt+1),yt[pt]=yt[pt].replace(/\\(.)/g,"$1")}ct=yt.join('"')}return ct}function lt(ct){const yt=ct.indexOf("'");if(yt===-1)return ct;const pt=ct.slice(0,yt),ht=ct.slice(yt+1).replace(/^[^']*'/,"");return nt(pt,ht)}function gt(ct){return!ct.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ct)?ct:ct.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(yt,pt,ut,ht){if(ut==="q"||ut==="Q")return ht=ht.replace(/_/g," "),ht=ht.replace(/=([0-9a-fA-F]{2})/g,function(mt,dt){return String.fromCharCode(parseInt(dt,16))}),nt(pt,ht);try{ht=atob(ht)}catch{}return nt(pt,ht)})}return""}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=a(1),_=a(158);const $=200,j=206;function et(at){const lt=at.response;return typeof lt!="string"?lt:(0,o.stringToBytes)(lt).buffer}class rt{constructor(lt){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=lt,this.isHttp=/^https?:/i.test(lt),this.httpHeaders=this.isHttp&&gt.httpHeaders||Object.create(null),this.withCredentials=gt.withCredentials||!1,this.getXhr=gt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(lt,gt,ct){const yt={begin:lt,end:gt};for(const pt in ct)yt[pt]=ct[pt];return this.request(yt)}requestFull(lt){return this.request(lt)}request(lt){const gt=this.getXhr(),ct=this.currXhrId++,yt=this.pendingRequests[ct]={xhr:gt};gt.open("GET",this.url),gt.withCredentials=this.withCredentials;for(const pt in this.httpHeaders){const ut=this.httpHeaders[pt];typeof ut>"u"||gt.setRequestHeader(pt,ut)}return this.isHttp&&"begin"in lt&&"end"in lt?(gt.setRequestHeader("Range",`bytes=${lt.begin}-${lt.end-1}`),yt.expectedStatus=j):yt.expectedStatus=$,gt.responseType="arraybuffer",lt.onError&&(gt.onerror=function(pt){lt.onError(gt.status)}),gt.onreadystatechange=this.onStateChange.bind(this,ct),gt.onprogress=this.onProgress.bind(this,ct),yt.onHeadersReceived=lt.onHeadersReceived,yt.onDone=lt.onDone,yt.onError=lt.onError,yt.onProgress=lt.onProgress,gt.send(null),ct}onProgress(lt,gt){var ct;const yt=this.pendingRequests[lt];yt&&((ct=yt.onProgress)===null||ct===void 0||ct.call(yt,gt))}onStateChange(lt,gt){const ct=this.pendingRequests[lt];if(!ct)return;const yt=ct.xhr;if(yt.readyState>=2&&ct.onHeadersReceived&&(ct.onHeadersReceived(),delete ct.onHeadersReceived),yt.readyState!==4||!(lt in this.pendingRequests))return;if(delete this.pendingRequests[lt],yt.status===0&&this.isHttp){var pt;(pt=ct.onError)===null||pt===void 0||pt.call(ct,yt.status);return}const ut=yt.status||$;if(!(ut===$&&ct.expectedStatus===j)&&ut!==ct.expectedStatus){var mt;(mt=ct.onError)===null||mt===void 0||mt.call(ct,yt.status);return}const dt=et(yt);if(ut===j){const St=yt.getResponseHeader("Content-Range"),_t=/bytes (\d+)-(\d+)\/(\d+)/.exec(St);ct.onDone({begin:parseInt(_t[1],10),chunk:dt})}else if(dt)ct.onDone({begin:0,chunk:dt});else{var vt;(vt=ct.onError)===null||vt===void 0||vt.call(ct,yt.status)}}getRequestXhr(lt){return this.pendingRequests[lt].xhr}isPendingRequest(lt){return lt in this.pendingRequests}abortRequest(lt){const gt=this.pendingRequests[lt].xhr;delete this.pendingRequests[lt],gt.abort()}}class nt{constructor(lt){this._source=lt,this._manager=new rt(lt.url,{httpHeaders:lt.httpHeaders,withCredentials:lt.withCredentials}),this._rangeChunkSize=lt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(lt){const gt=this._rangeRequestReaders.indexOf(lt);gt>=0&&this._rangeRequestReaders.splice(gt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new it(this._manager,this._source),this._fullRequestReader}getRangeReader(lt,gt){const ct=new ot(this._manager,lt,gt);return ct.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ct),ct}cancelAllRequests(lt){var gt;(gt=this._fullRequestReader)===null||gt===void 0||gt.cancel(lt);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(lt)}}s.PDFNetworkStream=nt;class it{constructor(lt,gt){this._manager=lt;const ct={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=gt.url,this._fullRequestId=lt.requestFull(ct),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=gt.disableRange||!1,this._contentLength=gt.length,this._rangeChunkSize=gt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const lt=this._fullRequestId,gt=this._manager.getRequestXhr(lt),ct=ut=>gt.getResponseHeader(ut),{allowRangeRequests:yt,suggestedLength:pt}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:ct,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});yt&&(this._isRangeSupported=!0),this._contentLength=pt||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(ct),this._isRangeSupported&&this._manager.abortRequest(lt),this._headersReceivedCapability.resolve()}_onDone(lt){if(lt&&(this._requests.length>0?this._requests.shift().resolve({value:lt.chunk,done:!1}):this._cachedChunks.push(lt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(lt){this._storedError=(0,_.createResponseStatusError)(lt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(lt){var gt;(gt=this.onProgress)===null||gt===void 0||gt.call(this,{loaded:lt.loaded,total:lt.lengthComputable?lt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=(0,o.createPromiseCapability)();return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0,this._headersReceivedCapability.reject(lt);for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ot{constructor(lt,gt,ct){this._manager=lt;const yt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._requestId=lt.requestRange(gt,ct,yt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var lt;(lt=this.onClosed)===null||lt===void 0||lt.call(this,this)}_onDone(lt){const gt=lt.chunk;this._requests.length>0?this._requests.shift().resolve({value:gt,done:!1}):this._queuedChunk=gt,this._done=!0;for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(lt){this._storedError=(0,_.createResponseStatusError)(lt,this._url);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(lt){if(!this.isStreamingSupported){var gt;(gt=this.onProgress)===null||gt===void 0||gt.call(this,{loaded:lt.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const gt=this._queuedChunk;return this._queuedChunk=null,{value:gt,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=(0,o.createPromiseCapability)();return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=a(1),_=a(158);function $(it,ot,at){return{method:"GET",headers:it,signal:at.signal,mode:"cors",credentials:ot?"include":"same-origin",redirect:"follow"}}function j(it){const ot=new Headers;for(const at in it){const lt=it[at];typeof lt>"u"||ot.append(at,lt)}return ot}class et{constructor(ot){this.source=ot,this.isHttp=/^https?:/i.test(ot.url),this.httpHeaders=this.isHttp&&ot.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ot,at;return(ot=(at=this._fullRequestReader)===null||at===void 0?void 0:at._loaded)!==null&&ot!==void 0?ot:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rt(this),this._fullRequestReader}getRangeReader(ot,at){if(at<=this._progressiveDataLength)return null;const lt=new nt(this,ot,at);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(ot){this._fullRequestReader&&this._fullRequestReader.cancel(ot);for(const at of this._rangeRequestReaders.slice(0))at.cancel(ot)}}s.PDFFetchStream=et;class rt{constructor(ot){this._stream=ot,this._reader=null,this._loaded=0,this._filename=null;const at=ot.source;this._withCredentials=at.withCredentials||!1,this._contentLength=at.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=at.disableRange||!1,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!at.disableStream,this._isRangeSupported=!at.disableRange,this._headers=j(this._stream.httpHeaders);const lt=at.url;fetch(lt,$(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,_.validateResponseStatus)(gt.status))throw(0,_.createResponseStatusError)(gt.status,lt);this._reader=gt.body.getReader(),this._headersCapability.resolve();const ct=ut=>gt.headers.get(ut),{allowRangeRequests:yt,suggestedLength:pt}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:ct,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=yt,this._contentLength=pt||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(ct),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ot,done:at}=await this._reader.read();return at?{value:ot,done:at}:(this._loaded+=ot.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ot).buffer,done:!1})}cancel(ot){this._reader&&this._reader.cancel(ot),this._abortController.abort()}}class nt{constructor(ot,at,lt){this._stream=ot,this._reader=null,this._loaded=0;const gt=ot.source;this._withCredentials=gt.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!gt.disableStream,this._abortController=new AbortController,this._headers=j(this._stream.httpHeaders),this._headers.append("Range",`bytes=${at}-${lt-1}`);const ct=gt.url;fetch(ct,$(this._headers,this._withCredentials,this._abortController)).then(yt=>{if(!(0,_.validateResponseStatus)(yt.status))throw(0,_.createResponseStatusError)(yt.status,ct);this._readCapability.resolve(),this._reader=yt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ot,done:at}=await this._reader.read();return at?{value:ot,done:at}:(this._loaded+=ot.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ot).buffer,done:!1})}cancel(ot){this._reader&&this._reader.cancel(ot),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var a=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return j.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return et.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return a.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return it.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return ot.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return a.version}});var s=__w_pdfjs_require__(1),a=__w_pdfjs_require__(129),o=__w_pdfjs_require__(133),_=__w_pdfjs_require__(147),$=__w_pdfjs_require__(132),j=__w_pdfjs_require__(152),et=__w_pdfjs_require__(140),rt=__w_pdfjs_require__(3),nt=__w_pdfjs_require__(155),it=__w_pdfjs_require__(156),ot=__w_pdfjs_require__(154);if(rt.isNodeJS){const{PDFNodeStream:at}=__w_pdfjs_require__(157);(0,a.setPDFNetworkStreamFactory)(lt=>new at(lt))}else{const{PDFNetworkStream:at}=__w_pdfjs_require__(160),{PDFFetchStream:lt}=__w_pdfjs_require__(161);(0,a.setPDFNetworkStreamFactory)(gt=>(0,o.isValidFetchUrl)(gt.url)?new lt(gt):new at(gt))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,s){(function(a){i.exports=a()})(function(){return function a(o,_,$){function j(nt,it){if(!_[nt]){if(!o[nt]){var ot=typeof commonjsRequire=="function"&&commonjsRequire;if(!it&&ot)return ot(nt,!0);if(et)return et(nt,!0);var at=new Error("Cannot find module '"+nt+"'");throw at.code="MODULE_NOT_FOUND",at}var lt=_[nt]={exports:{}};o[nt][0].call(lt.exports,function(gt){var ct=o[nt][1][gt];return j(ct||gt)},lt,lt.exports,a,o,_,$)}return _[nt].exports}for(var et=typeof commonjsRequire=="function"&&commonjsRequire,rt=0;rt<$.length;rt++)j($[rt]);return j}({1:[function(a,o,_){var $=a("./utils"),j=a("./support"),et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";_.encode=function(rt){for(var nt,it,ot,at,lt,gt,ct,yt=[],pt=0,ut=rt.length,ht=ut,mt=$.getTypeOf(rt)!=="string";pt<rt.length;)ht=ut-pt,ot=mt?(nt=rt[pt++],it=pt<ut?rt[pt++]:0,pt<ut?rt[pt++]:0):(nt=rt.charCodeAt(pt++),it=pt<ut?rt.charCodeAt(pt++):0,pt<ut?rt.charCodeAt(pt++):0),at=nt>>2,lt=(3&nt)<<4|it>>4,gt=1<ht?(15&it)<<2|ot>>6:64,ct=2<ht?63&ot:64,yt.push(et.charAt(at)+et.charAt(lt)+et.charAt(gt)+et.charAt(ct));return yt.join("")},_.decode=function(rt){var nt,it,ot,at,lt,gt,ct=0,yt=0,pt="data:";if(rt.substr(0,pt.length)===pt)throw new Error("Invalid base64 input, it looks like a data url.");var ut,ht=3*(rt=rt.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(rt.charAt(rt.length-1)===et.charAt(64)&&ht--,rt.charAt(rt.length-2)===et.charAt(64)&&ht--,ht%1!=0)throw new Error("Invalid base64 input, bad content length.");for(ut=j.uint8array?new Uint8Array(0|ht):new Array(0|ht);ct<rt.length;)nt=et.indexOf(rt.charAt(ct++))<<2|(at=et.indexOf(rt.charAt(ct++)))>>4,it=(15&at)<<4|(lt=et.indexOf(rt.charAt(ct++)))>>2,ot=(3&lt)<<6|(gt=et.indexOf(rt.charAt(ct++))),ut[yt++]=nt,lt!==64&&(ut[yt++]=it),gt!==64&&(ut[yt++]=ot);return ut}},{"./support":30,"./utils":32}],2:[function(a,o,_){var $=a("./external"),j=a("./stream/DataWorker"),et=a("./stream/Crc32Probe"),rt=a("./stream/DataLengthProbe");function nt(it,ot,at,lt,gt){this.compressedSize=it,this.uncompressedSize=ot,this.crc32=at,this.compression=lt,this.compressedContent=gt}nt.prototype={getContentWorker:function(){var it=new j($.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new rt("data_length")),ot=this;return it.on("end",function(){if(this.streamInfo.data_length!==ot.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),it},getCompressedWorker:function(){return new j($.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},nt.createWorkerFrom=function(it,ot,at){return it.pipe(new et).pipe(new rt("uncompressedSize")).pipe(ot.compressWorker(at)).pipe(new rt("compressedSize")).withStreamInfo("compression",ot)},o.exports=nt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,o,_){var $=a("./stream/GenericWorker");_.STORE={magic:"\0\0",compressWorker:function(){return new $("STORE compression")},uncompressWorker:function(){return new $("STORE decompression")}},_.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,o,_){var $=a("./utils"),j=function(){for(var et,rt=[],nt=0;nt<256;nt++){et=nt;for(var it=0;it<8;it++)et=1&et?3988292384^et>>>1:et>>>1;rt[nt]=et}return rt}();o.exports=function(et,rt){return et!==void 0&&et.length?$.getTypeOf(et)!=="string"?function(nt,it,ot,at){var lt=j,gt=at+ot;nt^=-1;for(var ct=at;ct<gt;ct++)nt=nt>>>8^lt[255&(nt^it[ct])];return-1^nt}(0|rt,et,et.length,0):function(nt,it,ot,at){var lt=j,gt=at+ot;nt^=-1;for(var ct=at;ct<gt;ct++)nt=nt>>>8^lt[255&(nt^it.charCodeAt(ct))];return-1^nt}(0|rt,et,et.length,0):0}},{"./utils":32}],5:[function(a,o,_){_.base64=!1,_.binary=!1,_.dir=!1,_.createFolders=!0,_.date=null,_.compression=null,_.compressionOptions=null,_.comment=null,_.unixPermissions=null,_.dosPermissions=null},{}],6:[function(a,o,_){var $=null;$=typeof Promise<"u"?Promise:a("lie"),o.exports={Promise:$}},{lie:37}],7:[function(a,o,_){var $=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",j=a("pako"),et=a("./utils"),rt=a("./stream/GenericWorker"),nt=$?"uint8array":"array";function it(ot,at){rt.call(this,"FlateWorker/"+ot),this._pako=null,this._pakoAction=ot,this._pakoOptions=at,this.meta={}}_.magic="\b\0",et.inherits(it,rt),it.prototype.processChunk=function(ot){this.meta=ot.meta,this._pako===null&&this._createPako(),this._pako.push(et.transformTo(nt,ot.data),!1)},it.prototype.flush=function(){rt.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},it.prototype.cleanUp=function(){rt.prototype.cleanUp.call(this),this._pako=null},it.prototype._createPako=function(){this._pako=new j[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ot=this;this._pako.onData=function(at){ot.push({data:at,meta:ot.meta})}},_.compressWorker=function(ot){return new it("Deflate",ot)},_.uncompressWorker=function(){return new it("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,o,_){function $(lt,gt){var ct,yt="";for(ct=0;ct<gt;ct++)yt+=String.fromCharCode(255&lt),lt>>>=8;return yt}function j(lt,gt,ct,yt,pt,ut){var ht,mt,dt=lt.file,vt=lt.compression,St=ut!==nt.utf8encode,_t=et.transformTo("string",ut(dt.name)),Et=et.transformTo("string",nt.utf8encode(dt.name)),Pt=dt.comment,Mt=et.transformTo("string",ut(Pt)),Rt=et.transformTo("string",nt.utf8encode(Pt)),Ut=Et.length!==dt.name.length,Ct=Rt.length!==Pt.length,Kt="",Gt="",It="",jt=dt.dir,$t=dt.date,Jt={crc32:0,compressedSize:0,uncompressedSize:0};gt&&!ct||(Jt.crc32=lt.crc32,Jt.compressedSize=lt.compressedSize,Jt.uncompressedSize=lt.uncompressedSize);var Wt=0;gt&&(Wt|=8),St||!Ut&&!Ct||(Wt|=2048);var tr=0,mr=0;jt&&(tr|=16),pt==="UNIX"?(mr=798,tr|=function(kt,Ft){var er=kt;return kt||(er=Ft?16893:33204),(65535&er)<<16}(dt.unixPermissions,jt)):(mr=20,tr|=function(kt){return 63&(kt||0)}(dt.dosPermissions)),ht=$t.getUTCHours(),ht<<=6,ht|=$t.getUTCMinutes(),ht<<=5,ht|=$t.getUTCSeconds()/2,mt=$t.getUTCFullYear()-1980,mt<<=4,mt|=$t.getUTCMonth()+1,mt<<=5,mt|=$t.getUTCDate(),Ut&&(Gt=$(1,1)+$(it(_t),4)+Et,Kt+="up"+$(Gt.length,2)+Gt),Ct&&(It=$(1,1)+$(it(Mt),4)+Rt,Kt+="uc"+$(It.length,2)+It);var Yt="";return Yt+=`
\0`,Yt+=$(Wt,2),Yt+=vt.magic,Yt+=$(ht,2),Yt+=$(mt,2),Yt+=$(Jt.crc32,4),Yt+=$(Jt.compressedSize,4),Yt+=$(Jt.uncompressedSize,4),Yt+=$(_t.length,2),Yt+=$(Kt.length,2),{fileRecord:ot.LOCAL_FILE_HEADER+Yt+_t+Kt,dirRecord:ot.CENTRAL_FILE_HEADER+$(mr,2)+Yt+$(Mt.length,2)+"\0\0\0\0"+$(tr,4)+$(yt,4)+_t+Kt+Mt}}var et=a("../utils"),rt=a("../stream/GenericWorker"),nt=a("../utf8"),it=a("../crc32"),ot=a("../signature");function at(lt,gt,ct,yt){rt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=gt,this.zipPlatform=ct,this.encodeFileName=yt,this.streamFiles=lt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}et.inherits(at,rt),at.prototype.push=function(lt){var gt=lt.meta.percent||0,ct=this.entriesCount,yt=this._sources.length;this.accumulate?this.contentBuffer.push(lt):(this.bytesWritten+=lt.data.length,rt.prototype.push.call(this,{data:lt.data,meta:{currentFile:this.currentFile,percent:ct?(gt+100*(ct-yt-1))/ct:100}}))},at.prototype.openedSource=function(lt){this.currentSourceOffset=this.bytesWritten,this.currentFile=lt.file.name;var gt=this.streamFiles&&!lt.file.dir;if(gt){var ct=j(lt,gt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ct.fileRecord,meta:{percent:0}})}else this.accumulate=!0},at.prototype.closedSource=function(lt){this.accumulate=!1;var gt=this.streamFiles&&!lt.file.dir,ct=j(lt,gt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ct.dirRecord),gt)this.push({data:function(yt){return ot.DATA_DESCRIPTOR+$(yt.crc32,4)+$(yt.compressedSize,4)+$(yt.uncompressedSize,4)}(lt),meta:{percent:100}});else for(this.push({data:ct.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},at.prototype.flush=function(){for(var lt=this.bytesWritten,gt=0;gt<this.dirRecords.length;gt++)this.push({data:this.dirRecords[gt],meta:{percent:100}});var ct=this.bytesWritten-lt,yt=function(pt,ut,ht,mt,dt){var vt=et.transformTo("string",dt(mt));return ot.CENTRAL_DIRECTORY_END+"\0\0\0\0"+$(pt,2)+$(pt,2)+$(ut,4)+$(ht,4)+$(vt.length,2)+vt}(this.dirRecords.length,ct,lt,this.zipComment,this.encodeFileName);this.push({data:yt,meta:{percent:100}})},at.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},at.prototype.registerPrevious=function(lt){this._sources.push(lt);var gt=this;return lt.on("data",function(ct){gt.processChunk(ct)}),lt.on("end",function(){gt.closedSource(gt.previous.streamInfo),gt._sources.length?gt.prepareNextSource():gt.end()}),lt.on("error",function(ct){gt.error(ct)}),this},at.prototype.resume=function(){return!!rt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},at.prototype.error=function(lt){var gt=this._sources;if(!rt.prototype.error.call(this,lt))return!1;for(var ct=0;ct<gt.length;ct++)try{gt[ct].error(lt)}catch{}return!0},at.prototype.lock=function(){rt.prototype.lock.call(this);for(var lt=this._sources,gt=0;gt<lt.length;gt++)lt[gt].lock()},o.exports=at},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,o,_){var $=a("../compressions"),j=a("./ZipFileWorker");_.generateWorker=function(et,rt,nt){var it=new j(rt.streamFiles,nt,rt.platform,rt.encodeFileName),ot=0;try{et.forEach(function(at,lt){ot++;var gt=function(ut,ht){var mt=ut||ht,dt=$[mt];if(!dt)throw new Error(mt+" is not a valid compression method !");return dt}(lt.options.compression,rt.compression),ct=lt.options.compressionOptions||rt.compressionOptions||{},yt=lt.dir,pt=lt.date;lt._compressWorker(gt,ct).withStreamInfo("file",{name:at,dir:yt,date:pt,comment:lt.comment||"",unixPermissions:lt.unixPermissions,dosPermissions:lt.dosPermissions}).pipe(it)}),it.entriesCount=ot}catch(at){it.error(at)}return it}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,o,_){function $(){if(!(this instanceof $))return new $;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var j=new $;for(var et in this)typeof this[et]!="function"&&(j[et]=this[et]);return j}}($.prototype=a("./object")).loadAsync=a("./load"),$.support=a("./support"),$.defaults=a("./defaults"),$.version="3.10.1",$.loadAsync=function(j,et){return new $().loadAsync(j,et)},$.external=a("./external"),o.exports=$},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,o,_){var $=a("./utils"),j=a("./external"),et=a("./utf8"),rt=a("./zipEntries"),nt=a("./stream/Crc32Probe"),it=a("./nodejsUtils");function ot(at){return new j.Promise(function(lt,gt){var ct=at.decompressed.getContentWorker().pipe(new nt);ct.on("error",function(yt){gt(yt)}).on("end",function(){ct.streamInfo.crc32!==at.decompressed.crc32?gt(new Error("Corrupted zip : CRC32 mismatch")):lt()}).resume()})}o.exports=function(at,lt){var gt=this;return lt=$.extend(lt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:et.utf8decode}),it.isNode&&it.isStream(at)?j.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):$.prepareContent("the loaded zip file",at,!0,lt.optimizedBinaryString,lt.base64).then(function(ct){var yt=new rt(lt);return yt.load(ct),yt}).then(function(ct){var yt=[j.Promise.resolve(ct)],pt=ct.files;if(lt.checkCRC32)for(var ut=0;ut<pt.length;ut++)yt.push(ot(pt[ut]));return j.Promise.all(yt)}).then(function(ct){for(var yt=ct.shift(),pt=yt.files,ut=0;ut<pt.length;ut++){var ht=pt[ut],mt=ht.fileNameStr,dt=$.resolve(ht.fileNameStr);gt.file(dt,ht.decompressed,{binary:!0,optimizedBinaryString:!0,date:ht.date,dir:ht.dir,comment:ht.fileCommentStr.length?ht.fileCommentStr:null,unixPermissions:ht.unixPermissions,dosPermissions:ht.dosPermissions,createFolders:lt.createFolders}),ht.dir||(gt.file(dt).unsafeOriginalName=mt)}return yt.zipComment.length&&(gt.comment=yt.zipComment),gt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,o,_){var $=a("../utils"),j=a("../stream/GenericWorker");function et(rt,nt){j.call(this,"Nodejs stream input adapter for "+rt),this._upstreamEnded=!1,this._bindStream(nt)}$.inherits(et,j),et.prototype._bindStream=function(rt){var nt=this;(this._stream=rt).pause(),rt.on("data",function(it){nt.push({data:it,meta:{percent:0}})}).on("error",function(it){nt.isPaused?this.generatedError=it:nt.error(it)}).on("end",function(){nt.isPaused?nt._upstreamEnded=!0:nt.end()})},et.prototype.pause=function(){return!!j.prototype.pause.call(this)&&(this._stream.pause(),!0)},et.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=et},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,o,_){var $=a("readable-stream").Readable;function j(et,rt,nt){$.call(this,rt),this._helper=et;var it=this;et.on("data",function(ot,at){it.push(ot)||it._helper.pause(),nt&&nt(at)}).on("error",function(ot){it.emit("error",ot)}).on("end",function(){it.push(null)})}a("../utils").inherits(j,$),j.prototype._read=function(){this._helper.resume()},o.exports=j},{"../utils":32,"readable-stream":16}],14:[function(a,o,_){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function($,j){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from($,j);if(typeof $=="number")throw new Error('The "data" argument must not be a number');return new Buffer($,j)},allocBuffer:function($){if(Buffer.alloc)return Buffer.alloc($);var j=new Buffer($);return j.fill(0),j},isBuffer:function($){return Buffer.isBuffer($)},isStream:function($){return $&&typeof $.on=="function"&&typeof $.pause=="function"&&typeof $.resume=="function"}}},{}],15:[function(a,o,_){function $(dt,vt,St){var _t,Et=et.getTypeOf(vt),Pt=et.extend(St||{},it);Pt.date=Pt.date||new Date,Pt.compression!==null&&(Pt.compression=Pt.compression.toUpperCase()),typeof Pt.unixPermissions=="string"&&(Pt.unixPermissions=parseInt(Pt.unixPermissions,8)),Pt.unixPermissions&&16384&Pt.unixPermissions&&(Pt.dir=!0),Pt.dosPermissions&&16&Pt.dosPermissions&&(Pt.dir=!0),Pt.dir&&(dt=pt(dt)),Pt.createFolders&&(_t=yt(dt))&&ut.call(this,_t,!0);var Mt=Et==="string"&&Pt.binary===!1&&Pt.base64===!1;St&&St.binary!==void 0||(Pt.binary=!Mt),(vt instanceof ot&&vt.uncompressedSize===0||Pt.dir||!vt||vt.length===0)&&(Pt.base64=!1,Pt.binary=!0,vt="",Pt.compression="STORE",Et="string");var Rt=null;Rt=vt instanceof ot||vt instanceof rt?vt:gt.isNode&&gt.isStream(vt)?new ct(dt,vt):et.prepareContent(dt,vt,Pt.binary,Pt.optimizedBinaryString,Pt.base64);var Ut=new at(dt,Rt,Pt);this.files[dt]=Ut}var j=a("./utf8"),et=a("./utils"),rt=a("./stream/GenericWorker"),nt=a("./stream/StreamHelper"),it=a("./defaults"),ot=a("./compressedObject"),at=a("./zipObject"),lt=a("./generate"),gt=a("./nodejsUtils"),ct=a("./nodejs/NodejsStreamInputAdapter"),yt=function(dt){dt.slice(-1)==="/"&&(dt=dt.substring(0,dt.length-1));var vt=dt.lastIndexOf("/");return 0<vt?dt.substring(0,vt):""},pt=function(dt){return dt.slice(-1)!=="/"&&(dt+="/"),dt},ut=function(dt,vt){return vt=vt!==void 0?vt:it.createFolders,dt=pt(dt),this.files[dt]||$.call(this,dt,null,{dir:!0,createFolders:vt}),this.files[dt]};function ht(dt){return Object.prototype.toString.call(dt)==="[object RegExp]"}var mt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(dt){var vt,St,_t;for(vt in this.files)_t=this.files[vt],(St=vt.slice(this.root.length,vt.length))&&vt.slice(0,this.root.length)===this.root&&dt(St,_t)},filter:function(dt){var vt=[];return this.forEach(function(St,_t){dt(St,_t)&&vt.push(_t)}),vt},file:function(dt,vt,St){if(arguments.length!==1)return dt=this.root+dt,$.call(this,dt,vt,St),this;if(ht(dt)){var _t=dt;return this.filter(function(Pt,Mt){return!Mt.dir&&_t.test(Pt)})}var Et=this.files[this.root+dt];return Et&&!Et.dir?Et:null},folder:function(dt){if(!dt)return this;if(ht(dt))return this.filter(function(Et,Pt){return Pt.dir&&dt.test(Et)});var vt=this.root+dt,St=ut.call(this,vt),_t=this.clone();return _t.root=St.name,_t},remove:function(dt){dt=this.root+dt;var vt=this.files[dt];if(vt||(dt.slice(-1)!=="/"&&(dt+="/"),vt=this.files[dt]),vt&&!vt.dir)delete this.files[dt];else for(var St=this.filter(function(Et,Pt){return Pt.name.slice(0,dt.length)===dt}),_t=0;_t<St.length;_t++)delete this.files[St[_t].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(dt){var vt,St={};try{if((St=et.extend(dt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:j.utf8encode})).type=St.type.toLowerCase(),St.compression=St.compression.toUpperCase(),St.type==="binarystring"&&(St.type="string"),!St.type)throw new Error("No output type specified.");et.checkSupport(St.type),St.platform!=="darwin"&&St.platform!=="freebsd"&&St.platform!=="linux"&&St.platform!=="sunos"||(St.platform="UNIX"),St.platform==="win32"&&(St.platform="DOS");var _t=St.comment||this.comment||"";vt=lt.generateWorker(this,St,_t)}catch(Et){(vt=new rt("error")).error(Et)}return new nt(vt,St.type||"string",St.mimeType)},generateAsync:function(dt,vt){return this.generateInternalStream(dt).accumulate(vt)},generateNodeStream:function(dt,vt){return(dt=dt||{}).type||(dt.type="nodebuffer"),this.generateInternalStream(dt).toNodejsStream(vt)}};o.exports=mt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,o,_){o.exports=a("stream")},{stream:void 0}],17:[function(a,o,_){var $=a("./DataReader");function j(et){$.call(this,et);for(var rt=0;rt<this.data.length;rt++)et[rt]=255&et[rt]}a("../utils").inherits(j,$),j.prototype.byteAt=function(et){return this.data[this.zero+et]},j.prototype.lastIndexOfSignature=function(et){for(var rt=et.charCodeAt(0),nt=et.charCodeAt(1),it=et.charCodeAt(2),ot=et.charCodeAt(3),at=this.length-4;0<=at;--at)if(this.data[at]===rt&&this.data[at+1]===nt&&this.data[at+2]===it&&this.data[at+3]===ot)return at-this.zero;return-1},j.prototype.readAndCheckSignature=function(et){var rt=et.charCodeAt(0),nt=et.charCodeAt(1),it=et.charCodeAt(2),ot=et.charCodeAt(3),at=this.readData(4);return rt===at[0]&&nt===at[1]&&it===at[2]&&ot===at[3]},j.prototype.readData=function(et){if(this.checkOffset(et),et===0)return[];var rt=this.data.slice(this.zero+this.index,this.zero+this.index+et);return this.index+=et,rt},o.exports=j},{"../utils":32,"./DataReader":18}],18:[function(a,o,_){var $=a("../utils");function j(et){this.data=et,this.length=et.length,this.index=0,this.zero=0}j.prototype={checkOffset:function(et){this.checkIndex(this.index+et)},checkIndex:function(et){if(this.length<this.zero+et||et<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+et+"). Corrupted zip ?")},setIndex:function(et){this.checkIndex(et),this.index=et},skip:function(et){this.setIndex(this.index+et)},byteAt:function(){},readInt:function(et){var rt,nt=0;for(this.checkOffset(et),rt=this.index+et-1;rt>=this.index;rt--)nt=(nt<<8)+this.byteAt(rt);return this.index+=et,nt},readString:function(et){return $.transformTo("string",this.readData(et))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var et=this.readInt(4);return new Date(Date.UTC(1980+(et>>25&127),(et>>21&15)-1,et>>16&31,et>>11&31,et>>5&63,(31&et)<<1))}},o.exports=j},{"../utils":32}],19:[function(a,o,_){var $=a("./Uint8ArrayReader");function j(et){$.call(this,et)}a("../utils").inherits(j,$),j.prototype.readData=function(et){this.checkOffset(et);var rt=this.data.slice(this.zero+this.index,this.zero+this.index+et);return this.index+=et,rt},o.exports=j},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,o,_){var $=a("./DataReader");function j(et){$.call(this,et)}a("../utils").inherits(j,$),j.prototype.byteAt=function(et){return this.data.charCodeAt(this.zero+et)},j.prototype.lastIndexOfSignature=function(et){return this.data.lastIndexOf(et)-this.zero},j.prototype.readAndCheckSignature=function(et){return et===this.readData(4)},j.prototype.readData=function(et){this.checkOffset(et);var rt=this.data.slice(this.zero+this.index,this.zero+this.index+et);return this.index+=et,rt},o.exports=j},{"../utils":32,"./DataReader":18}],21:[function(a,o,_){var $=a("./ArrayReader");function j(et){$.call(this,et)}a("../utils").inherits(j,$),j.prototype.readData=function(et){if(this.checkOffset(et),et===0)return new Uint8Array(0);var rt=this.data.subarray(this.zero+this.index,this.zero+this.index+et);return this.index+=et,rt},o.exports=j},{"../utils":32,"./ArrayReader":17}],22:[function(a,o,_){var $=a("../utils"),j=a("../support"),et=a("./ArrayReader"),rt=a("./StringReader"),nt=a("./NodeBufferReader"),it=a("./Uint8ArrayReader");o.exports=function(ot){var at=$.getTypeOf(ot);return $.checkSupport(at),at!=="string"||j.uint8array?at==="nodebuffer"?new nt(ot):j.uint8array?new it($.transformTo("uint8array",ot)):new et($.transformTo("array",ot)):new rt(ot)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,o,_){_.LOCAL_FILE_HEADER="PK",_.CENTRAL_FILE_HEADER="PK",_.CENTRAL_DIRECTORY_END="PK",_.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",_.ZIP64_CENTRAL_DIRECTORY_END="PK",_.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,o,_){var $=a("./GenericWorker"),j=a("../utils");function et(rt){$.call(this,"ConvertWorker to "+rt),this.destType=rt}j.inherits(et,$),et.prototype.processChunk=function(rt){this.push({data:j.transformTo(this.destType,rt.data),meta:rt.meta})},o.exports=et},{"../utils":32,"./GenericWorker":28}],25:[function(a,o,_){var $=a("./GenericWorker"),j=a("../crc32");function et(){$.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(et,$),et.prototype.processChunk=function(rt){this.streamInfo.crc32=j(rt.data,this.streamInfo.crc32||0),this.push(rt)},o.exports=et},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,o,_){var $=a("../utils"),j=a("./GenericWorker");function et(rt){j.call(this,"DataLengthProbe for "+rt),this.propName=rt,this.withStreamInfo(rt,0)}$.inherits(et,j),et.prototype.processChunk=function(rt){if(rt){var nt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=nt+rt.data.length}j.prototype.processChunk.call(this,rt)},o.exports=et},{"../utils":32,"./GenericWorker":28}],27:[function(a,o,_){var $=a("../utils"),j=a("./GenericWorker");function et(rt){j.call(this,"DataWorker");var nt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,rt.then(function(it){nt.dataIsReady=!0,nt.data=it,nt.max=it&&it.length||0,nt.type=$.getTypeOf(it),nt.isPaused||nt._tickAndRepeat()},function(it){nt.error(it)})}$.inherits(et,j),et.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this.data=null},et.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,$.delay(this._tickAndRepeat,[],this)),!0)},et.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||($.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},et.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var rt=null,nt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":rt=this.data.substring(this.index,nt);break;case"uint8array":rt=this.data.subarray(this.index,nt);break;case"array":case"nodebuffer":rt=this.data.slice(this.index,nt)}return this.index=nt,this.push({data:rt,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=et},{"../utils":32,"./GenericWorker":28}],28:[function(a,o,_){function $(j){this.name=j||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}$.prototype={push:function(j){this.emit("data",j)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(j){this.emit("error",j)}return!0},error:function(j){return!this.isFinished&&(this.isPaused?this.generatedError=j:(this.isFinished=!0,this.emit("error",j),this.previous&&this.previous.error(j),this.cleanUp()),!0)},on:function(j,et){return this._listeners[j].push(et),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(j,et){if(this._listeners[j])for(var rt=0;rt<this._listeners[j].length;rt++)this._listeners[j][rt].call(this,et)},pipe:function(j){return j.registerPrevious(this)},registerPrevious:function(j){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=j.streamInfo,this.mergeStreamInfo(),this.previous=j;var et=this;return j.on("data",function(rt){et.processChunk(rt)}),j.on("end",function(){et.end()}),j.on("error",function(rt){et.error(rt)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var j=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),j=!0),this.previous&&this.previous.resume(),!j},flush:function(){},processChunk:function(j){this.push(j)},withStreamInfo:function(j,et){return this.extraStreamInfo[j]=et,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var j in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,j)&&(this.streamInfo[j]=this.extraStreamInfo[j])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var j="Worker "+this.name;return this.previous?this.previous+" -> "+j:j}},o.exports=$},{}],29:[function(a,o,_){var $=a("../utils"),j=a("./ConvertWorker"),et=a("./GenericWorker"),rt=a("../base64"),nt=a("../support"),it=a("../external"),ot=null;if(nt.nodestream)try{ot=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function at(gt,ct){return new it.Promise(function(yt,pt){var ut=[],ht=gt._internalType,mt=gt._outputType,dt=gt._mimeType;gt.on("data",function(vt,St){ut.push(vt),ct&&ct(St)}).on("error",function(vt){ut=[],pt(vt)}).on("end",function(){try{var vt=function(St,_t,Et){switch(St){case"blob":return $.newBlob($.transformTo("arraybuffer",_t),Et);case"base64":return rt.encode(_t);default:return $.transformTo(St,_t)}}(mt,function(St,_t){var Et,Pt=0,Mt=null,Rt=0;for(Et=0;Et<_t.length;Et++)Rt+=_t[Et].length;switch(St){case"string":return _t.join("");case"array":return Array.prototype.concat.apply([],_t);case"uint8array":for(Mt=new Uint8Array(Rt),Et=0;Et<_t.length;Et++)Mt.set(_t[Et],Pt),Pt+=_t[Et].length;return Mt;case"nodebuffer":return Buffer.concat(_t);default:throw new Error("concat : unsupported type '"+St+"'")}}(ht,ut),dt);yt(vt)}catch(St){pt(St)}ut=[]}).resume()})}function lt(gt,ct,yt){var pt=ct;switch(ct){case"blob":case"arraybuffer":pt="uint8array";break;case"base64":pt="string"}try{this._internalType=pt,this._outputType=ct,this._mimeType=yt,$.checkSupport(pt),this._worker=gt.pipe(new j(pt)),gt.lock()}catch(ut){this._worker=new et("error"),this._worker.error(ut)}}lt.prototype={accumulate:function(gt){return at(this,gt)},on:function(gt,ct){var yt=this;return gt==="data"?this._worker.on(gt,function(pt){ct.call(yt,pt.data,pt.meta)}):this._worker.on(gt,function(){$.delay(ct,arguments,yt)}),this},resume:function(){return $.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(gt){if($.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ot(this,{objectMode:this._outputType!=="nodebuffer"},gt)}},o.exports=lt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,o,_){if(_.base64=!0,_.array=!0,_.string=!0,_.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",_.nodebuffer=typeof Buffer<"u",_.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")_.blob=!1;else{var $=new ArrayBuffer(0);try{_.blob=new Blob([$],{type:"application/zip"}).size===0}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);j.append($),_.blob=j.getBlob("application/zip").size===0}catch{_.blob=!1}}}try{_.nodestream=!!a("readable-stream").Readable}catch{_.nodestream=!1}},{"readable-stream":16}],31:[function(a,o,_){for(var $=a("./utils"),j=a("./support"),et=a("./nodejsUtils"),rt=a("./stream/GenericWorker"),nt=new Array(256),it=0;it<256;it++)nt[it]=252<=it?6:248<=it?5:240<=it?4:224<=it?3:192<=it?2:1;nt[254]=nt[254]=1;function ot(){rt.call(this,"utf-8 decode"),this.leftOver=null}function at(){rt.call(this,"utf-8 encode")}_.utf8encode=function(lt){return j.nodebuffer?et.newBufferFrom(lt,"utf-8"):function(gt){var ct,yt,pt,ut,ht,mt=gt.length,dt=0;for(ut=0;ut<mt;ut++)(64512&(yt=gt.charCodeAt(ut)))==55296&&ut+1<mt&&(64512&(pt=gt.charCodeAt(ut+1)))==56320&&(yt=65536+(yt-55296<<10)+(pt-56320),ut++),dt+=yt<128?1:yt<2048?2:yt<65536?3:4;for(ct=j.uint8array?new Uint8Array(dt):new Array(dt),ut=ht=0;ht<dt;ut++)(64512&(yt=gt.charCodeAt(ut)))==55296&&ut+1<mt&&(64512&(pt=gt.charCodeAt(ut+1)))==56320&&(yt=65536+(yt-55296<<10)+(pt-56320),ut++),yt<128?ct[ht++]=yt:(yt<2048?ct[ht++]=192|yt>>>6:(yt<65536?ct[ht++]=224|yt>>>12:(ct[ht++]=240|yt>>>18,ct[ht++]=128|yt>>>12&63),ct[ht++]=128|yt>>>6&63),ct[ht++]=128|63&yt);return ct}(lt)},_.utf8decode=function(lt){return j.nodebuffer?$.transformTo("nodebuffer",lt).toString("utf-8"):function(gt){var ct,yt,pt,ut,ht=gt.length,mt=new Array(2*ht);for(ct=yt=0;ct<ht;)if((pt=gt[ct++])<128)mt[yt++]=pt;else if(4<(ut=nt[pt]))mt[yt++]=65533,ct+=ut-1;else{for(pt&=ut===2?31:ut===3?15:7;1<ut&&ct<ht;)pt=pt<<6|63&gt[ct++],ut--;1<ut?mt[yt++]=65533:pt<65536?mt[yt++]=pt:(pt-=65536,mt[yt++]=55296|pt>>10&1023,mt[yt++]=56320|1023&pt)}return mt.length!==yt&&(mt.subarray?mt=mt.subarray(0,yt):mt.length=yt),$.applyFromCharCode(mt)}(lt=$.transformTo(j.uint8array?"uint8array":"array",lt))},$.inherits(ot,rt),ot.prototype.processChunk=function(lt){var gt=$.transformTo(j.uint8array?"uint8array":"array",lt.data);if(this.leftOver&&this.leftOver.length){if(j.uint8array){var ct=gt;(gt=new Uint8Array(ct.length+this.leftOver.length)).set(this.leftOver,0),gt.set(ct,this.leftOver.length)}else gt=this.leftOver.concat(gt);this.leftOver=null}var yt=function(ut,ht){var mt;for((ht=ht||ut.length)>ut.length&&(ht=ut.length),mt=ht-1;0<=mt&&(192&ut[mt])==128;)mt--;return mt<0||mt===0?ht:mt+nt[ut[mt]]>ht?mt:ht}(gt),pt=gt;yt!==gt.length&&(j.uint8array?(pt=gt.subarray(0,yt),this.leftOver=gt.subarray(yt,gt.length)):(pt=gt.slice(0,yt),this.leftOver=gt.slice(yt,gt.length))),this.push({data:_.utf8decode(pt),meta:lt.meta})},ot.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:_.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},_.Utf8DecodeWorker=ot,$.inherits(at,rt),at.prototype.processChunk=function(lt){this.push({data:_.utf8encode(lt.data),meta:lt.meta})},_.Utf8EncodeWorker=at},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,o,_){var $=a("./support"),j=a("./base64"),et=a("./nodejsUtils"),rt=a("./external");function nt(ct){return ct}function it(ct,yt){for(var pt=0;pt<ct.length;++pt)yt[pt]=255&ct.charCodeAt(pt);return yt}a("setimmediate"),_.newBlob=function(ct,yt){_.checkSupport("blob");try{return new Blob([ct],{type:yt})}catch{try{var pt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return pt.append(ct),pt.getBlob(yt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ot={stringifyByChunk:function(ct,yt,pt){var ut=[],ht=0,mt=ct.length;if(mt<=pt)return String.fromCharCode.apply(null,ct);for(;ht<mt;)yt==="array"||yt==="nodebuffer"?ut.push(String.fromCharCode.apply(null,ct.slice(ht,Math.min(ht+pt,mt)))):ut.push(String.fromCharCode.apply(null,ct.subarray(ht,Math.min(ht+pt,mt)))),ht+=pt;return ut.join("")},stringifyByChar:function(ct){for(var yt="",pt=0;pt<ct.length;pt++)yt+=String.fromCharCode(ct[pt]);return yt},applyCanBeUsed:{uint8array:function(){try{return $.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return $.nodebuffer&&String.fromCharCode.apply(null,et.allocBuffer(1)).length===1}catch{return!1}}()}};function at(ct){var yt=65536,pt=_.getTypeOf(ct),ut=!0;if(pt==="uint8array"?ut=ot.applyCanBeUsed.uint8array:pt==="nodebuffer"&&(ut=ot.applyCanBeUsed.nodebuffer),ut)for(;1<yt;)try{return ot.stringifyByChunk(ct,pt,yt)}catch{yt=Math.floor(yt/2)}return ot.stringifyByChar(ct)}function lt(ct,yt){for(var pt=0;pt<ct.length;pt++)yt[pt]=ct[pt];return yt}_.applyFromCharCode=at;var gt={};gt.string={string:nt,array:function(ct){return it(ct,new Array(ct.length))},arraybuffer:function(ct){return gt.string.uint8array(ct).buffer},uint8array:function(ct){return it(ct,new Uint8Array(ct.length))},nodebuffer:function(ct){return it(ct,et.allocBuffer(ct.length))}},gt.array={string:at,array:nt,arraybuffer:function(ct){return new Uint8Array(ct).buffer},uint8array:function(ct){return new Uint8Array(ct)},nodebuffer:function(ct){return et.newBufferFrom(ct)}},gt.arraybuffer={string:function(ct){return at(new Uint8Array(ct))},array:function(ct){return lt(new Uint8Array(ct),new Array(ct.byteLength))},arraybuffer:nt,uint8array:function(ct){return new Uint8Array(ct)},nodebuffer:function(ct){return et.newBufferFrom(new Uint8Array(ct))}},gt.uint8array={string:at,array:function(ct){return lt(ct,new Array(ct.length))},arraybuffer:function(ct){return ct.buffer},uint8array:nt,nodebuffer:function(ct){return et.newBufferFrom(ct)}},gt.nodebuffer={string:at,array:function(ct){return lt(ct,new Array(ct.length))},arraybuffer:function(ct){return gt.nodebuffer.uint8array(ct).buffer},uint8array:function(ct){return lt(ct,new Uint8Array(ct.length))},nodebuffer:nt},_.transformTo=function(ct,yt){if(yt=yt||"",!ct)return yt;_.checkSupport(ct);var pt=_.getTypeOf(yt);return gt[pt][ct](yt)},_.resolve=function(ct){for(var yt=ct.split("/"),pt=[],ut=0;ut<yt.length;ut++){var ht=yt[ut];ht==="."||ht===""&&ut!==0&&ut!==yt.length-1||(ht===".."?pt.pop():pt.push(ht))}return pt.join("/")},_.getTypeOf=function(ct){return typeof ct=="string"?"string":Object.prototype.toString.call(ct)==="[object Array]"?"array":$.nodebuffer&&et.isBuffer(ct)?"nodebuffer":$.uint8array&&ct instanceof Uint8Array?"uint8array":$.arraybuffer&&ct instanceof ArrayBuffer?"arraybuffer":void 0},_.checkSupport=function(ct){if(!$[ct.toLowerCase()])throw new Error(ct+" is not supported by this platform")},_.MAX_VALUE_16BITS=65535,_.MAX_VALUE_32BITS=-1,_.pretty=function(ct){var yt,pt,ut="";for(pt=0;pt<(ct||"").length;pt++)ut+="\\x"+((yt=ct.charCodeAt(pt))<16?"0":"")+yt.toString(16).toUpperCase();return ut},_.delay=function(ct,yt,pt){setImmediate(function(){ct.apply(pt||null,yt||[])})},_.inherits=function(ct,yt){function pt(){}pt.prototype=yt.prototype,ct.prototype=new pt},_.extend=function(){var ct,yt,pt={};for(ct=0;ct<arguments.length;ct++)for(yt in arguments[ct])Object.prototype.hasOwnProperty.call(arguments[ct],yt)&&pt[yt]===void 0&&(pt[yt]=arguments[ct][yt]);return pt},_.prepareContent=function(ct,yt,pt,ut,ht){return rt.Promise.resolve(yt).then(function(mt){return $.blob&&(mt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(mt))!==-1)&&typeof FileReader<"u"?new rt.Promise(function(dt,vt){var St=new FileReader;St.onload=function(_t){dt(_t.target.result)},St.onerror=function(_t){vt(_t.target.error)},St.readAsArrayBuffer(mt)}):mt}).then(function(mt){var dt=_.getTypeOf(mt);return dt?(dt==="arraybuffer"?mt=_.transformTo("uint8array",mt):dt==="string"&&(ht?mt=j.decode(mt):pt&&ut!==!0&&(mt=function(vt){return it(vt,$.uint8array?new Uint8Array(vt.length):new Array(vt.length))}(mt))),mt):rt.Promise.reject(new Error("Can't read the data of '"+ct+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,o,_){var $=a("./reader/readerFor"),j=a("./utils"),et=a("./signature"),rt=a("./zipEntry"),nt=a("./support");function it(ot){this.files=[],this.loadOptions=ot}it.prototype={checkSignature:function(ot){if(!this.reader.readAndCheckSignature(ot)){this.reader.index-=4;var at=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+j.pretty(at)+", expected "+j.pretty(ot)+")")}},isSignature:function(ot,at){var lt=this.reader.index;this.reader.setIndex(ot);var gt=this.reader.readString(4)===at;return this.reader.setIndex(lt),gt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ot=this.reader.readData(this.zipCommentLength),at=nt.uint8array?"uint8array":"array",lt=j.transformTo(at,ot);this.zipComment=this.loadOptions.decodeFileName(lt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ot,at,lt,gt=this.zip64EndOfCentralSize-44;0<gt;)ot=this.reader.readInt(2),at=this.reader.readInt(4),lt=this.reader.readData(at),this.zip64ExtensibleData[ot]={id:ot,length:at,value:lt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ot,at;for(ot=0;ot<this.files.length;ot++)at=this.files[ot],this.reader.setIndex(at.localHeaderOffset),this.checkSignature(et.LOCAL_FILE_HEADER),at.readLocalPart(this.reader),at.handleUTF8(),at.processAttributes()},readCentralDir:function(){var ot;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(et.CENTRAL_FILE_HEADER);)(ot=new rt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ot);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ot=this.reader.lastIndexOfSignature(et.CENTRAL_DIRECTORY_END);if(ot<0)throw this.isSignature(0,et.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ot);var at=ot;if(this.checkSignature(et.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===j.MAX_VALUE_16BITS||this.diskWithCentralDirStart===j.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===j.MAX_VALUE_16BITS||this.centralDirRecords===j.MAX_VALUE_16BITS||this.centralDirSize===j.MAX_VALUE_32BITS||this.centralDirOffset===j.MAX_VALUE_32BITS){if(this.zip64=!0,(ot=this.reader.lastIndexOfSignature(et.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ot),this.checkSignature(et.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,et.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(et.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(et.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var lt=this.centralDirOffset+this.centralDirSize;this.zip64&&(lt+=20,lt+=12+this.zip64EndOfCentralSize);var gt=at-lt;if(0<gt)this.isSignature(at,et.CENTRAL_FILE_HEADER)||(this.reader.zero=gt);else if(gt<0)throw new Error("Corrupted zip: missing "+Math.abs(gt)+" bytes.")},prepareReader:function(ot){this.reader=$(ot)},load:function(ot){this.prepareReader(ot),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=it},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,o,_){var $=a("./reader/readerFor"),j=a("./utils"),et=a("./compressedObject"),rt=a("./crc32"),nt=a("./utf8"),it=a("./compressions"),ot=a("./support");function at(lt,gt){this.options=lt,this.loadOptions=gt}at.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(lt){var gt,ct;if(lt.skip(22),this.fileNameLength=lt.readInt(2),ct=lt.readInt(2),this.fileName=lt.readData(this.fileNameLength),lt.skip(ct),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((gt=function(yt){for(var pt in it)if(Object.prototype.hasOwnProperty.call(it,pt)&&it[pt].magic===yt)return it[pt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+j.pretty(this.compressionMethod)+" unknown (inner file : "+j.transformTo("string",this.fileName)+")");this.decompressed=new et(this.compressedSize,this.uncompressedSize,this.crc32,gt,lt.readData(this.compressedSize))},readCentralPart:function(lt){this.versionMadeBy=lt.readInt(2),lt.skip(2),this.bitFlag=lt.readInt(2),this.compressionMethod=lt.readString(2),this.date=lt.readDate(),this.crc32=lt.readInt(4),this.compressedSize=lt.readInt(4),this.uncompressedSize=lt.readInt(4);var gt=lt.readInt(2);if(this.extraFieldsLength=lt.readInt(2),this.fileCommentLength=lt.readInt(2),this.diskNumberStart=lt.readInt(2),this.internalFileAttributes=lt.readInt(2),this.externalFileAttributes=lt.readInt(4),this.localHeaderOffset=lt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");lt.skip(gt),this.readExtraFields(lt),this.parseZIP64ExtraField(lt),this.fileComment=lt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var lt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),lt==0&&(this.dosPermissions=63&this.externalFileAttributes),lt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var lt=$(this.extraFields[1].value);this.uncompressedSize===j.MAX_VALUE_32BITS&&(this.uncompressedSize=lt.readInt(8)),this.compressedSize===j.MAX_VALUE_32BITS&&(this.compressedSize=lt.readInt(8)),this.localHeaderOffset===j.MAX_VALUE_32BITS&&(this.localHeaderOffset=lt.readInt(8)),this.diskNumberStart===j.MAX_VALUE_32BITS&&(this.diskNumberStart=lt.readInt(4))}},readExtraFields:function(lt){var gt,ct,yt,pt=lt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});lt.index+4<pt;)gt=lt.readInt(2),ct=lt.readInt(2),yt=lt.readData(ct),this.extraFields[gt]={id:gt,length:ct,value:yt};lt.setIndex(pt)},handleUTF8:function(){var lt=ot.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=nt.utf8decode(this.fileName),this.fileCommentStr=nt.utf8decode(this.fileComment);else{var gt=this.findExtraFieldUnicodePath();if(gt!==null)this.fileNameStr=gt;else{var ct=j.transformTo(lt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ct)}var yt=this.findExtraFieldUnicodeComment();if(yt!==null)this.fileCommentStr=yt;else{var pt=j.transformTo(lt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(pt)}}},findExtraFieldUnicodePath:function(){var lt=this.extraFields[28789];if(lt){var gt=$(lt.value);return gt.readInt(1)!==1||rt(this.fileName)!==gt.readInt(4)?null:nt.utf8decode(gt.readData(lt.length-5))}return null},findExtraFieldUnicodeComment:function(){var lt=this.extraFields[25461];if(lt){var gt=$(lt.value);return gt.readInt(1)!==1||rt(this.fileComment)!==gt.readInt(4)?null:nt.utf8decode(gt.readData(lt.length-5))}return null}},o.exports=at},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,o,_){function $(gt,ct,yt){this.name=gt,this.dir=yt.dir,this.date=yt.date,this.comment=yt.comment,this.unixPermissions=yt.unixPermissions,this.dosPermissions=yt.dosPermissions,this._data=ct,this._dataBinary=yt.binary,this.options={compression:yt.compression,compressionOptions:yt.compressionOptions}}var j=a("./stream/StreamHelper"),et=a("./stream/DataWorker"),rt=a("./utf8"),nt=a("./compressedObject"),it=a("./stream/GenericWorker");$.prototype={internalStream:function(gt){var ct=null,yt="string";try{if(!gt)throw new Error("No output type specified.");var pt=(yt=gt.toLowerCase())==="string"||yt==="text";yt!=="binarystring"&&yt!=="text"||(yt="string"),ct=this._decompressWorker();var ut=!this._dataBinary;ut&&!pt&&(ct=ct.pipe(new rt.Utf8EncodeWorker)),!ut&&pt&&(ct=ct.pipe(new rt.Utf8DecodeWorker))}catch(ht){(ct=new it("error")).error(ht)}return new j(ct,yt,"")},async:function(gt,ct){return this.internalStream(gt).accumulate(ct)},nodeStream:function(gt,ct){return this.internalStream(gt||"nodebuffer").toNodejsStream(ct)},_compressWorker:function(gt,ct){if(this._data instanceof nt&&this._data.compression.magic===gt.magic)return this._data.getCompressedWorker();var yt=this._decompressWorker();return this._dataBinary||(yt=yt.pipe(new rt.Utf8EncodeWorker)),nt.createWorkerFrom(yt,gt,ct)},_decompressWorker:function(){return this._data instanceof nt?this._data.getContentWorker():this._data instanceof it?this._data:new et(this._data)}};for(var ot=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],at=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},lt=0;lt<ot.length;lt++)$.prototype[ot[lt]]=at;o.exports=$},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,o,_){(function($){var j,et,rt=$.MutationObserver||$.WebKitMutationObserver;if(rt){var nt=0,it=new rt(gt),ot=$.document.createTextNode("");it.observe(ot,{characterData:!0}),j=function(){ot.data=nt=++nt%2}}else if($.setImmediate||$.MessageChannel===void 0)j="document"in $&&"onreadystatechange"in $.document.createElement("script")?function(){var ct=$.document.createElement("script");ct.onreadystatechange=function(){gt(),ct.onreadystatechange=null,ct.parentNode.removeChild(ct),ct=null},$.document.documentElement.appendChild(ct)}:function(){setTimeout(gt,0)};else{var at=new $.MessageChannel;at.port1.onmessage=gt,j=function(){at.port2.postMessage(0)}}var lt=[];function gt(){var ct,yt;et=!0;for(var pt=lt.length;pt;){for(yt=lt,lt=[],ct=-1;++ct<pt;)yt[ct]();pt=lt.length}et=!1}o.exports=function(ct){lt.push(ct)!==1||et||j()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,o,_){var $=a("immediate");function j(){}var et={},rt=["REJECTED"],nt=["FULFILLED"],it=["PENDING"];function ot(pt){if(typeof pt!="function")throw new TypeError("resolver must be a function");this.state=it,this.queue=[],this.outcome=void 0,pt!==j&&ct(this,pt)}function at(pt,ut,ht){this.promise=pt,typeof ut=="function"&&(this.onFulfilled=ut,this.callFulfilled=this.otherCallFulfilled),typeof ht=="function"&&(this.onRejected=ht,this.callRejected=this.otherCallRejected)}function lt(pt,ut,ht){$(function(){var mt;try{mt=ut(ht)}catch(dt){return et.reject(pt,dt)}mt===pt?et.reject(pt,new TypeError("Cannot resolve promise with itself")):et.resolve(pt,mt)})}function gt(pt){var ut=pt&&pt.then;if(pt&&(typeof pt=="object"||typeof pt=="function")&&typeof ut=="function")return function(){ut.apply(pt,arguments)}}function ct(pt,ut){var ht=!1;function mt(St){ht||(ht=!0,et.reject(pt,St))}function dt(St){ht||(ht=!0,et.resolve(pt,St))}var vt=yt(function(){ut(dt,mt)});vt.status==="error"&&mt(vt.value)}function yt(pt,ut){var ht={};try{ht.value=pt(ut),ht.status="success"}catch(mt){ht.status="error",ht.value=mt}return ht}(o.exports=ot).prototype.finally=function(pt){if(typeof pt!="function")return this;var ut=this.constructor;return this.then(function(ht){return ut.resolve(pt()).then(function(){return ht})},function(ht){return ut.resolve(pt()).then(function(){throw ht})})},ot.prototype.catch=function(pt){return this.then(null,pt)},ot.prototype.then=function(pt,ut){if(typeof pt!="function"&&this.state===nt||typeof ut!="function"&&this.state===rt)return this;var ht=new this.constructor(j);return this.state!==it?lt(ht,this.state===nt?pt:ut,this.outcome):this.queue.push(new at(ht,pt,ut)),ht},at.prototype.callFulfilled=function(pt){et.resolve(this.promise,pt)},at.prototype.otherCallFulfilled=function(pt){lt(this.promise,this.onFulfilled,pt)},at.prototype.callRejected=function(pt){et.reject(this.promise,pt)},at.prototype.otherCallRejected=function(pt){lt(this.promise,this.onRejected,pt)},et.resolve=function(pt,ut){var ht=yt(gt,ut);if(ht.status==="error")return et.reject(pt,ht.value);var mt=ht.value;if(mt)ct(pt,mt);else{pt.state=nt,pt.outcome=ut;for(var dt=-1,vt=pt.queue.length;++dt<vt;)pt.queue[dt].callFulfilled(ut)}return pt},et.reject=function(pt,ut){pt.state=rt,pt.outcome=ut;for(var ht=-1,mt=pt.queue.length;++ht<mt;)pt.queue[ht].callRejected(ut);return pt},ot.resolve=function(pt){return pt instanceof this?pt:et.resolve(new this(j),pt)},ot.reject=function(pt){var ut=new this(j);return et.reject(ut,pt)},ot.all=function(pt){var ut=this;if(Object.prototype.toString.call(pt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=pt.length,mt=!1;if(!ht)return this.resolve([]);for(var dt=new Array(ht),vt=0,St=-1,_t=new this(j);++St<ht;)Et(pt[St],St);return _t;function Et(Pt,Mt){ut.resolve(Pt).then(function(Rt){dt[Mt]=Rt,++vt!==ht||mt||(mt=!0,et.resolve(_t,dt))},function(Rt){mt||(mt=!0,et.reject(_t,Rt))})}},ot.race=function(pt){var ut=this;if(Object.prototype.toString.call(pt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=pt.length,mt=!1;if(!ht)return this.resolve([]);for(var dt=-1,vt=new this(j);++dt<ht;)St=pt[dt],ut.resolve(St).then(function(_t){mt||(mt=!0,et.resolve(vt,_t))},function(_t){mt||(mt=!0,et.reject(vt,_t))});var St;return vt}},{immediate:36}],38:[function(a,o,_){var $={};(0,a("./lib/utils/common").assign)($,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),o.exports=$},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,o,_){var $=a("./zlib/deflate"),j=a("./utils/common"),et=a("./utils/strings"),rt=a("./zlib/messages"),nt=a("./zlib/zstream"),it=Object.prototype.toString,ot=0,at=-1,lt=0,gt=8;function ct(pt){if(!(this instanceof ct))return new ct(pt);this.options=j.assign({level:at,method:gt,chunkSize:16384,windowBits:15,memLevel:8,strategy:lt,to:""},pt||{});var ut=this.options;ut.raw&&0<ut.windowBits?ut.windowBits=-ut.windowBits:ut.gzip&&0<ut.windowBits&&ut.windowBits<16&&(ut.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nt,this.strm.avail_out=0;var ht=$.deflateInit2(this.strm,ut.level,ut.method,ut.windowBits,ut.memLevel,ut.strategy);if(ht!==ot)throw new Error(rt[ht]);if(ut.header&&$.deflateSetHeader(this.strm,ut.header),ut.dictionary){var mt;if(mt=typeof ut.dictionary=="string"?et.string2buf(ut.dictionary):it.call(ut.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ut.dictionary):ut.dictionary,(ht=$.deflateSetDictionary(this.strm,mt))!==ot)throw new Error(rt[ht]);this._dict_set=!0}}function yt(pt,ut){var ht=new ct(ut);if(ht.push(pt,!0),ht.err)throw ht.msg||rt[ht.err];return ht.result}ct.prototype.push=function(pt,ut){var ht,mt,dt=this.strm,vt=this.options.chunkSize;if(this.ended)return!1;mt=ut===~~ut?ut:ut===!0?4:0,typeof pt=="string"?dt.input=et.string2buf(pt):it.call(pt)==="[object ArrayBuffer]"?dt.input=new Uint8Array(pt):dt.input=pt,dt.next_in=0,dt.avail_in=dt.input.length;do{if(dt.avail_out===0&&(dt.output=new j.Buf8(vt),dt.next_out=0,dt.avail_out=vt),(ht=$.deflate(dt,mt))!==1&&ht!==ot)return this.onEnd(ht),!(this.ended=!0);dt.avail_out!==0&&(dt.avail_in!==0||mt!==4&&mt!==2)||(this.options.to==="string"?this.onData(et.buf2binstring(j.shrinkBuf(dt.output,dt.next_out))):this.onData(j.shrinkBuf(dt.output,dt.next_out)))}while((0<dt.avail_in||dt.avail_out===0)&&ht!==1);return mt===4?(ht=$.deflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===ot):mt!==2||(this.onEnd(ot),!(dt.avail_out=0))},ct.prototype.onData=function(pt){this.chunks.push(pt)},ct.prototype.onEnd=function(pt){pt===ot&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j.flattenChunks(this.chunks)),this.chunks=[],this.err=pt,this.msg=this.strm.msg},_.Deflate=ct,_.deflate=yt,_.deflateRaw=function(pt,ut){return(ut=ut||{}).raw=!0,yt(pt,ut)},_.gzip=function(pt,ut){return(ut=ut||{}).gzip=!0,yt(pt,ut)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,o,_){var $=a("./zlib/inflate"),j=a("./utils/common"),et=a("./utils/strings"),rt=a("./zlib/constants"),nt=a("./zlib/messages"),it=a("./zlib/zstream"),ot=a("./zlib/gzheader"),at=Object.prototype.toString;function lt(ct){if(!(this instanceof lt))return new lt(ct);this.options=j.assign({chunkSize:16384,windowBits:0,to:""},ct||{});var yt=this.options;yt.raw&&0<=yt.windowBits&&yt.windowBits<16&&(yt.windowBits=-yt.windowBits,yt.windowBits===0&&(yt.windowBits=-15)),!(0<=yt.windowBits&&yt.windowBits<16)||ct&&ct.windowBits||(yt.windowBits+=32),15<yt.windowBits&&yt.windowBits<48&&!(15&yt.windowBits)&&(yt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new it,this.strm.avail_out=0;var pt=$.inflateInit2(this.strm,yt.windowBits);if(pt!==rt.Z_OK)throw new Error(nt[pt]);this.header=new ot,$.inflateGetHeader(this.strm,this.header)}function gt(ct,yt){var pt=new lt(yt);if(pt.push(ct,!0),pt.err)throw pt.msg||nt[pt.err];return pt.result}lt.prototype.push=function(ct,yt){var pt,ut,ht,mt,dt,vt,St=this.strm,_t=this.options.chunkSize,Et=this.options.dictionary,Pt=!1;if(this.ended)return!1;ut=yt===~~yt?yt:yt===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof ct=="string"?St.input=et.binstring2buf(ct):at.call(ct)==="[object ArrayBuffer]"?St.input=new Uint8Array(ct):St.input=ct,St.next_in=0,St.avail_in=St.input.length;do{if(St.avail_out===0&&(St.output=new j.Buf8(_t),St.next_out=0,St.avail_out=_t),(pt=$.inflate(St,rt.Z_NO_FLUSH))===rt.Z_NEED_DICT&&Et&&(vt=typeof Et=="string"?et.string2buf(Et):at.call(Et)==="[object ArrayBuffer]"?new Uint8Array(Et):Et,pt=$.inflateSetDictionary(this.strm,vt)),pt===rt.Z_BUF_ERROR&&Pt===!0&&(pt=rt.Z_OK,Pt=!1),pt!==rt.Z_STREAM_END&&pt!==rt.Z_OK)return this.onEnd(pt),!(this.ended=!0);St.next_out&&(St.avail_out!==0&&pt!==rt.Z_STREAM_END&&(St.avail_in!==0||ut!==rt.Z_FINISH&&ut!==rt.Z_SYNC_FLUSH)||(this.options.to==="string"?(ht=et.utf8border(St.output,St.next_out),mt=St.next_out-ht,dt=et.buf2string(St.output,ht),St.next_out=mt,St.avail_out=_t-mt,mt&&j.arraySet(St.output,St.output,ht,mt,0),this.onData(dt)):this.onData(j.shrinkBuf(St.output,St.next_out)))),St.avail_in===0&&St.avail_out===0&&(Pt=!0)}while((0<St.avail_in||St.avail_out===0)&&pt!==rt.Z_STREAM_END);return pt===rt.Z_STREAM_END&&(ut=rt.Z_FINISH),ut===rt.Z_FINISH?(pt=$.inflateEnd(this.strm),this.onEnd(pt),this.ended=!0,pt===rt.Z_OK):ut!==rt.Z_SYNC_FLUSH||(this.onEnd(rt.Z_OK),!(St.avail_out=0))},lt.prototype.onData=function(ct){this.chunks.push(ct)},lt.prototype.onEnd=function(ct){ct===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j.flattenChunks(this.chunks)),this.chunks=[],this.err=ct,this.msg=this.strm.msg},_.Inflate=lt,_.inflate=gt,_.inflateRaw=function(ct,yt){return(yt=yt||{}).raw=!0,gt(ct,yt)},_.ungzip=gt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,o,_){var $=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";_.assign=function(rt){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var it=nt.shift();if(it){if(typeof it!="object")throw new TypeError(it+"must be non-object");for(var ot in it)it.hasOwnProperty(ot)&&(rt[ot]=it[ot])}}return rt},_.shrinkBuf=function(rt,nt){return rt.length===nt?rt:rt.subarray?rt.subarray(0,nt):(rt.length=nt,rt)};var j={arraySet:function(rt,nt,it,ot,at){if(nt.subarray&&rt.subarray)rt.set(nt.subarray(it,it+ot),at);else for(var lt=0;lt<ot;lt++)rt[at+lt]=nt[it+lt]},flattenChunks:function(rt){var nt,it,ot,at,lt,gt;for(nt=ot=0,it=rt.length;nt<it;nt++)ot+=rt[nt].length;for(gt=new Uint8Array(ot),nt=at=0,it=rt.length;nt<it;nt++)lt=rt[nt],gt.set(lt,at),at+=lt.length;return gt}},et={arraySet:function(rt,nt,it,ot,at){for(var lt=0;lt<ot;lt++)rt[at+lt]=nt[it+lt]},flattenChunks:function(rt){return[].concat.apply([],rt)}};_.setTyped=function(rt){rt?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,j)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,et))},_.setTyped($)},{}],42:[function(a,o,_){var $=a("./common"),j=!0,et=!0;try{String.fromCharCode.apply(null,[0])}catch{j=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{et=!1}for(var rt=new $.Buf8(256),nt=0;nt<256;nt++)rt[nt]=252<=nt?6:248<=nt?5:240<=nt?4:224<=nt?3:192<=nt?2:1;function it(ot,at){if(at<65537&&(ot.subarray&&et||!ot.subarray&&j))return String.fromCharCode.apply(null,$.shrinkBuf(ot,at));for(var lt="",gt=0;gt<at;gt++)lt+=String.fromCharCode(ot[gt]);return lt}rt[254]=rt[254]=1,_.string2buf=function(ot){var at,lt,gt,ct,yt,pt=ot.length,ut=0;for(ct=0;ct<pt;ct++)(64512&(lt=ot.charCodeAt(ct)))==55296&&ct+1<pt&&(64512&(gt=ot.charCodeAt(ct+1)))==56320&&(lt=65536+(lt-55296<<10)+(gt-56320),ct++),ut+=lt<128?1:lt<2048?2:lt<65536?3:4;for(at=new $.Buf8(ut),ct=yt=0;yt<ut;ct++)(64512&(lt=ot.charCodeAt(ct)))==55296&&ct+1<pt&&(64512&(gt=ot.charCodeAt(ct+1)))==56320&&(lt=65536+(lt-55296<<10)+(gt-56320),ct++),lt<128?at[yt++]=lt:(lt<2048?at[yt++]=192|lt>>>6:(lt<65536?at[yt++]=224|lt>>>12:(at[yt++]=240|lt>>>18,at[yt++]=128|lt>>>12&63),at[yt++]=128|lt>>>6&63),at[yt++]=128|63&lt);return at},_.buf2binstring=function(ot){return it(ot,ot.length)},_.binstring2buf=function(ot){for(var at=new $.Buf8(ot.length),lt=0,gt=at.length;lt<gt;lt++)at[lt]=ot.charCodeAt(lt);return at},_.buf2string=function(ot,at){var lt,gt,ct,yt,pt=at||ot.length,ut=new Array(2*pt);for(lt=gt=0;lt<pt;)if((ct=ot[lt++])<128)ut[gt++]=ct;else if(4<(yt=rt[ct]))ut[gt++]=65533,lt+=yt-1;else{for(ct&=yt===2?31:yt===3?15:7;1<yt&&lt<pt;)ct=ct<<6|63&ot[lt++],yt--;1<yt?ut[gt++]=65533:ct<65536?ut[gt++]=ct:(ct-=65536,ut[gt++]=55296|ct>>10&1023,ut[gt++]=56320|1023&ct)}return it(ut,gt)},_.utf8border=function(ot,at){var lt;for((at=at||ot.length)>ot.length&&(at=ot.length),lt=at-1;0<=lt&&(192&ot[lt])==128;)lt--;return lt<0||lt===0?at:lt+rt[ot[lt]]>at?lt:at}},{"./common":41}],43:[function(a,o,_){o.exports=function($,j,et,rt){for(var nt=65535&$|0,it=$>>>16&65535|0,ot=0;et!==0;){for(et-=ot=2e3<et?2e3:et;it=it+(nt=nt+j[rt++]|0)|0,--ot;);nt%=65521,it%=65521}return nt|it<<16|0}},{}],44:[function(a,o,_){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,o,_){var $=function(){for(var j,et=[],rt=0;rt<256;rt++){j=rt;for(var nt=0;nt<8;nt++)j=1&j?3988292384^j>>>1:j>>>1;et[rt]=j}return et}();o.exports=function(j,et,rt,nt){var it=$,ot=nt+rt;j^=-1;for(var at=nt;at<ot;at++)j=j>>>8^it[255&(j^et[at])];return-1^j}},{}],46:[function(a,o,_){var $,j=a("../utils/common"),et=a("./trees"),rt=a("./adler32"),nt=a("./crc32"),it=a("./messages"),ot=0,at=4,lt=0,gt=-2,ct=-1,yt=4,pt=2,ut=8,ht=9,mt=286,dt=30,vt=19,St=2*mt+1,_t=15,Et=3,Pt=258,Mt=Pt+Et+1,Rt=42,Ut=113,Ct=1,Kt=2,Gt=3,It=4;function jt(wt,Vt){return wt.msg=it[Vt],Vt}function $t(wt){return(wt<<1)-(4<wt?9:0)}function Jt(wt){for(var Vt=wt.length;0<=--Vt;)wt[Vt]=0}function Wt(wt){var Vt=wt.state,qt=Vt.pending;qt>wt.avail_out&&(qt=wt.avail_out),qt!==0&&(j.arraySet(wt.output,Vt.pending_buf,Vt.pending_out,qt,wt.next_out),wt.next_out+=qt,Vt.pending_out+=qt,wt.total_out+=qt,wt.avail_out-=qt,Vt.pending-=qt,Vt.pending===0&&(Vt.pending_out=0))}function tr(wt,Vt){et._tr_flush_block(wt,0<=wt.block_start?wt.block_start:-1,wt.strstart-wt.block_start,Vt),wt.block_start=wt.strstart,Wt(wt.strm)}function mr(wt,Vt){wt.pending_buf[wt.pending++]=Vt}function Yt(wt,Vt){wt.pending_buf[wt.pending++]=Vt>>>8&255,wt.pending_buf[wt.pending++]=255&Vt}function kt(wt,Vt){var qt,Nt,Bt=wt.max_chain_length,Qt=wt.strstart,sr=wt.prev_length,lr=wt.nice_match,ar=wt.strstart>wt.w_size-Mt?wt.strstart-(wt.w_size-Mt):0,vr=wt.window,_r=wt.w_mask,Cr=wt.prev,Er=wt.strstart+Pt,qr=vr[Qt+sr-1],Ur=vr[Qt+sr];wt.prev_length>=wt.good_match&&(Bt>>=2),lr>wt.lookahead&&(lr=wt.lookahead);do if(vr[(qt=Vt)+sr]===Ur&&vr[qt+sr-1]===qr&&vr[qt]===vr[Qt]&&vr[++qt]===vr[Qt+1]){Qt+=2,qt++;do;while(vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&vr[++Qt]===vr[++qt]&&Qt<Er);if(Nt=Pt-(Er-Qt),Qt=Er-Pt,sr<Nt){if(wt.match_start=Vt,lr<=(sr=Nt))break;qr=vr[Qt+sr-1],Ur=vr[Qt+sr]}}while((Vt=Cr[Vt&_r])>ar&&--Bt!=0);return sr<=wt.lookahead?sr:wt.lookahead}function Ft(wt){var Vt,qt,Nt,Bt,Qt,sr,lr,ar,vr,_r,Cr=wt.w_size;do{if(Bt=wt.window_size-wt.lookahead-wt.strstart,wt.strstart>=Cr+(Cr-Mt)){for(j.arraySet(wt.window,wt.window,Cr,Cr,0),wt.match_start-=Cr,wt.strstart-=Cr,wt.block_start-=Cr,Vt=qt=wt.hash_size;Nt=wt.head[--Vt],wt.head[Vt]=Cr<=Nt?Nt-Cr:0,--qt;);for(Vt=qt=Cr;Nt=wt.prev[--Vt],wt.prev[Vt]=Cr<=Nt?Nt-Cr:0,--qt;);Bt+=Cr}if(wt.strm.avail_in===0)break;if(sr=wt.strm,lr=wt.window,ar=wt.strstart+wt.lookahead,vr=Bt,_r=void 0,_r=sr.avail_in,vr<_r&&(_r=vr),qt=_r===0?0:(sr.avail_in-=_r,j.arraySet(lr,sr.input,sr.next_in,_r,ar),sr.state.wrap===1?sr.adler=rt(sr.adler,lr,_r,ar):sr.state.wrap===2&&(sr.adler=nt(sr.adler,lr,_r,ar)),sr.next_in+=_r,sr.total_in+=_r,_r),wt.lookahead+=qt,wt.lookahead+wt.insert>=Et)for(Qt=wt.strstart-wt.insert,wt.ins_h=wt.window[Qt],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Qt+1])&wt.hash_mask;wt.insert&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Qt+Et-1])&wt.hash_mask,wt.prev[Qt&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=Qt,Qt++,wt.insert--,!(wt.lookahead+wt.insert<Et)););}while(wt.lookahead<Mt&&wt.strm.avail_in!==0)}function er(wt,Vt){for(var qt,Nt;;){if(wt.lookahead<Mt){if(Ft(wt),wt.lookahead<Mt&&Vt===ot)return Ct;if(wt.lookahead===0)break}if(qt=0,wt.lookahead>=Et&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+Et-1])&wt.hash_mask,qt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),qt!==0&&wt.strstart-qt<=wt.w_size-Mt&&(wt.match_length=kt(wt,qt)),wt.match_length>=Et)if(Nt=et._tr_tally(wt,wt.strstart-wt.match_start,wt.match_length-Et),wt.lookahead-=wt.match_length,wt.match_length<=wt.max_lazy_match&&wt.lookahead>=Et){for(wt.match_length--;wt.strstart++,wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+Et-1])&wt.hash_mask,qt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart,--wt.match_length!=0;);wt.strstart++}else wt.strstart+=wt.match_length,wt.match_length=0,wt.ins_h=wt.window[wt.strstart],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+1])&wt.hash_mask;else Nt=et._tr_tally(wt,0,wt.window[wt.strstart]),wt.lookahead--,wt.strstart++;if(Nt&&(tr(wt,!1),wt.strm.avail_out===0))return Ct}return wt.insert=wt.strstart<Et-1?wt.strstart:Et-1,Vt===at?(tr(wt,!0),wt.strm.avail_out===0?Gt:It):wt.last_lit&&(tr(wt,!1),wt.strm.avail_out===0)?Ct:Kt}function Zt(wt,Vt){for(var qt,Nt,Bt;;){if(wt.lookahead<Mt){if(Ft(wt),wt.lookahead<Mt&&Vt===ot)return Ct;if(wt.lookahead===0)break}if(qt=0,wt.lookahead>=Et&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+Et-1])&wt.hash_mask,qt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),wt.prev_length=wt.match_length,wt.prev_match=wt.match_start,wt.match_length=Et-1,qt!==0&&wt.prev_length<wt.max_lazy_match&&wt.strstart-qt<=wt.w_size-Mt&&(wt.match_length=kt(wt,qt),wt.match_length<=5&&(wt.strategy===1||wt.match_length===Et&&4096<wt.strstart-wt.match_start)&&(wt.match_length=Et-1)),wt.prev_length>=Et&&wt.match_length<=wt.prev_length){for(Bt=wt.strstart+wt.lookahead-Et,Nt=et._tr_tally(wt,wt.strstart-1-wt.prev_match,wt.prev_length-Et),wt.lookahead-=wt.prev_length-1,wt.prev_length-=2;++wt.strstart<=Bt&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+Et-1])&wt.hash_mask,qt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),--wt.prev_length!=0;);if(wt.match_available=0,wt.match_length=Et-1,wt.strstart++,Nt&&(tr(wt,!1),wt.strm.avail_out===0))return Ct}else if(wt.match_available){if((Nt=et._tr_tally(wt,0,wt.window[wt.strstart-1]))&&tr(wt,!1),wt.strstart++,wt.lookahead--,wt.strm.avail_out===0)return Ct}else wt.match_available=1,wt.strstart++,wt.lookahead--}return wt.match_available&&(Nt=et._tr_tally(wt,0,wt.window[wt.strstart-1]),wt.match_available=0),wt.insert=wt.strstart<Et-1?wt.strstart:Et-1,Vt===at?(tr(wt,!0),wt.strm.avail_out===0?Gt:It):wt.last_lit&&(tr(wt,!1),wt.strm.avail_out===0)?Ct:Kt}function At(wt,Vt,qt,Nt,Bt){this.good_length=wt,this.max_lazy=Vt,this.nice_length=qt,this.max_chain=Nt,this.func=Bt}function Ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(2*St),this.dyn_dtree=new j.Buf16(2*(2*dt+1)),this.bl_tree=new j.Buf16(2*(2*vt+1)),Jt(this.dyn_ltree),Jt(this.dyn_dtree),Jt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(_t+1),this.heap=new j.Buf16(2*mt+1),Jt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*mt+1),Jt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Dt(wt){var Vt;return wt&&wt.state?(wt.total_in=wt.total_out=0,wt.data_type=pt,(Vt=wt.state).pending=0,Vt.pending_out=0,Vt.wrap<0&&(Vt.wrap=-Vt.wrap),Vt.status=Vt.wrap?Rt:Ut,wt.adler=Vt.wrap===2?0:1,Vt.last_flush=ot,et._tr_init(Vt),lt):jt(wt,gt)}function zt(wt){var Vt=Dt(wt);return Vt===lt&&function(qt){qt.window_size=2*qt.w_size,Jt(qt.head),qt.max_lazy_match=$[qt.level].max_lazy,qt.good_match=$[qt.level].good_length,qt.nice_match=$[qt.level].nice_length,qt.max_chain_length=$[qt.level].max_chain,qt.strstart=0,qt.block_start=0,qt.lookahead=0,qt.insert=0,qt.match_length=qt.prev_length=Et-1,qt.match_available=0,qt.ins_h=0}(wt.state),Vt}function Xt(wt,Vt,qt,Nt,Bt,Qt){if(!wt)return gt;var sr=1;if(Vt===ct&&(Vt=6),Nt<0?(sr=0,Nt=-Nt):15<Nt&&(sr=2,Nt-=16),Bt<1||ht<Bt||qt!==ut||Nt<8||15<Nt||Vt<0||9<Vt||Qt<0||yt<Qt)return jt(wt,gt);Nt===8&&(Nt=9);var lr=new Ot;return(wt.state=lr).strm=wt,lr.wrap=sr,lr.gzhead=null,lr.w_bits=Nt,lr.w_size=1<<lr.w_bits,lr.w_mask=lr.w_size-1,lr.hash_bits=Bt+7,lr.hash_size=1<<lr.hash_bits,lr.hash_mask=lr.hash_size-1,lr.hash_shift=~~((lr.hash_bits+Et-1)/Et),lr.window=new j.Buf8(2*lr.w_size),lr.head=new j.Buf16(lr.hash_size),lr.prev=new j.Buf16(lr.w_size),lr.lit_bufsize=1<<Bt+6,lr.pending_buf_size=4*lr.lit_bufsize,lr.pending_buf=new j.Buf8(lr.pending_buf_size),lr.d_buf=1*lr.lit_bufsize,lr.l_buf=3*lr.lit_bufsize,lr.level=Vt,lr.strategy=Qt,lr.method=qt,zt(wt)}$=[new At(0,0,0,0,function(wt,Vt){var qt=65535;for(qt>wt.pending_buf_size-5&&(qt=wt.pending_buf_size-5);;){if(wt.lookahead<=1){if(Ft(wt),wt.lookahead===0&&Vt===ot)return Ct;if(wt.lookahead===0)break}wt.strstart+=wt.lookahead,wt.lookahead=0;var Nt=wt.block_start+qt;if((wt.strstart===0||wt.strstart>=Nt)&&(wt.lookahead=wt.strstart-Nt,wt.strstart=Nt,tr(wt,!1),wt.strm.avail_out===0)||wt.strstart-wt.block_start>=wt.w_size-Mt&&(tr(wt,!1),wt.strm.avail_out===0))return Ct}return wt.insert=0,Vt===at?(tr(wt,!0),wt.strm.avail_out===0?Gt:It):(wt.strstart>wt.block_start&&(tr(wt,!1),wt.strm.avail_out),Ct)}),new At(4,4,8,4,er),new At(4,5,16,8,er),new At(4,6,32,32,er),new At(4,4,16,16,Zt),new At(8,16,32,32,Zt),new At(8,16,128,128,Zt),new At(8,32,128,256,Zt),new At(32,128,258,1024,Zt),new At(32,258,258,4096,Zt)],_.deflateInit=function(wt,Vt){return Xt(wt,Vt,ut,15,8,0)},_.deflateInit2=Xt,_.deflateReset=zt,_.deflateResetKeep=Dt,_.deflateSetHeader=function(wt,Vt){return wt&&wt.state?wt.state.wrap!==2?gt:(wt.state.gzhead=Vt,lt):gt},_.deflate=function(wt,Vt){var qt,Nt,Bt,Qt;if(!wt||!wt.state||5<Vt||Vt<0)return wt?jt(wt,gt):gt;if(Nt=wt.state,!wt.output||!wt.input&&wt.avail_in!==0||Nt.status===666&&Vt!==at)return jt(wt,wt.avail_out===0?-5:gt);if(Nt.strm=wt,qt=Nt.last_flush,Nt.last_flush=Vt,Nt.status===Rt)if(Nt.wrap===2)wt.adler=0,mr(Nt,31),mr(Nt,139),mr(Nt,8),Nt.gzhead?(mr(Nt,(Nt.gzhead.text?1:0)+(Nt.gzhead.hcrc?2:0)+(Nt.gzhead.extra?4:0)+(Nt.gzhead.name?8:0)+(Nt.gzhead.comment?16:0)),mr(Nt,255&Nt.gzhead.time),mr(Nt,Nt.gzhead.time>>8&255),mr(Nt,Nt.gzhead.time>>16&255),mr(Nt,Nt.gzhead.time>>24&255),mr(Nt,Nt.level===9?2:2<=Nt.strategy||Nt.level<2?4:0),mr(Nt,255&Nt.gzhead.os),Nt.gzhead.extra&&Nt.gzhead.extra.length&&(mr(Nt,255&Nt.gzhead.extra.length),mr(Nt,Nt.gzhead.extra.length>>8&255)),Nt.gzhead.hcrc&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending,0)),Nt.gzindex=0,Nt.status=69):(mr(Nt,0),mr(Nt,0),mr(Nt,0),mr(Nt,0),mr(Nt,0),mr(Nt,Nt.level===9?2:2<=Nt.strategy||Nt.level<2?4:0),mr(Nt,3),Nt.status=Ut);else{var sr=ut+(Nt.w_bits-8<<4)<<8;sr|=(2<=Nt.strategy||Nt.level<2?0:Nt.level<6?1:Nt.level===6?2:3)<<6,Nt.strstart!==0&&(sr|=32),sr+=31-sr%31,Nt.status=Ut,Yt(Nt,sr),Nt.strstart!==0&&(Yt(Nt,wt.adler>>>16),Yt(Nt,65535&wt.adler)),wt.adler=1}if(Nt.status===69)if(Nt.gzhead.extra){for(Bt=Nt.pending;Nt.gzindex<(65535&Nt.gzhead.extra.length)&&(Nt.pending!==Nt.pending_buf_size||(Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Wt(wt),Bt=Nt.pending,Nt.pending!==Nt.pending_buf_size));)mr(Nt,255&Nt.gzhead.extra[Nt.gzindex]),Nt.gzindex++;Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Nt.gzindex===Nt.gzhead.extra.length&&(Nt.gzindex=0,Nt.status=73)}else Nt.status=73;if(Nt.status===73)if(Nt.gzhead.name){Bt=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Wt(wt),Bt=Nt.pending,Nt.pending===Nt.pending_buf_size)){Qt=1;break}Qt=Nt.gzindex<Nt.gzhead.name.length?255&Nt.gzhead.name.charCodeAt(Nt.gzindex++):0,mr(Nt,Qt)}while(Qt!==0);Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Qt===0&&(Nt.gzindex=0,Nt.status=91)}else Nt.status=91;if(Nt.status===91)if(Nt.gzhead.comment){Bt=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Wt(wt),Bt=Nt.pending,Nt.pending===Nt.pending_buf_size)){Qt=1;break}Qt=Nt.gzindex<Nt.gzhead.comment.length?255&Nt.gzhead.comment.charCodeAt(Nt.gzindex++):0,mr(Nt,Qt)}while(Qt!==0);Nt.gzhead.hcrc&&Nt.pending>Bt&&(wt.adler=nt(wt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Qt===0&&(Nt.status=103)}else Nt.status=103;if(Nt.status===103&&(Nt.gzhead.hcrc?(Nt.pending+2>Nt.pending_buf_size&&Wt(wt),Nt.pending+2<=Nt.pending_buf_size&&(mr(Nt,255&wt.adler),mr(Nt,wt.adler>>8&255),wt.adler=0,Nt.status=Ut)):Nt.status=Ut),Nt.pending!==0){if(Wt(wt),wt.avail_out===0)return Nt.last_flush=-1,lt}else if(wt.avail_in===0&&$t(Vt)<=$t(qt)&&Vt!==at)return jt(wt,-5);if(Nt.status===666&&wt.avail_in!==0)return jt(wt,-5);if(wt.avail_in!==0||Nt.lookahead!==0||Vt!==ot&&Nt.status!==666){var lr=Nt.strategy===2?function(ar,vr){for(var _r;;){if(ar.lookahead===0&&(Ft(ar),ar.lookahead===0)){if(vr===ot)return Ct;break}if(ar.match_length=0,_r=et._tr_tally(ar,0,ar.window[ar.strstart]),ar.lookahead--,ar.strstart++,_r&&(tr(ar,!1),ar.strm.avail_out===0))return Ct}return ar.insert=0,vr===at?(tr(ar,!0),ar.strm.avail_out===0?Gt:It):ar.last_lit&&(tr(ar,!1),ar.strm.avail_out===0)?Ct:Kt}(Nt,Vt):Nt.strategy===3?function(ar,vr){for(var _r,Cr,Er,qr,Ur=ar.window;;){if(ar.lookahead<=Pt){if(Ft(ar),ar.lookahead<=Pt&&vr===ot)return Ct;if(ar.lookahead===0)break}if(ar.match_length=0,ar.lookahead>=Et&&0<ar.strstart&&(Cr=Ur[Er=ar.strstart-1])===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]){qr=ar.strstart+Pt;do;while(Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Cr===Ur[++Er]&&Er<qr);ar.match_length=Pt-(qr-Er),ar.match_length>ar.lookahead&&(ar.match_length=ar.lookahead)}if(ar.match_length>=Et?(_r=et._tr_tally(ar,1,ar.match_length-Et),ar.lookahead-=ar.match_length,ar.strstart+=ar.match_length,ar.match_length=0):(_r=et._tr_tally(ar,0,ar.window[ar.strstart]),ar.lookahead--,ar.strstart++),_r&&(tr(ar,!1),ar.strm.avail_out===0))return Ct}return ar.insert=0,vr===at?(tr(ar,!0),ar.strm.avail_out===0?Gt:It):ar.last_lit&&(tr(ar,!1),ar.strm.avail_out===0)?Ct:Kt}(Nt,Vt):$[Nt.level].func(Nt,Vt);if(lr!==Gt&&lr!==It||(Nt.status=666),lr===Ct||lr===Gt)return wt.avail_out===0&&(Nt.last_flush=-1),lt;if(lr===Kt&&(Vt===1?et._tr_align(Nt):Vt!==5&&(et._tr_stored_block(Nt,0,0,!1),Vt===3&&(Jt(Nt.head),Nt.lookahead===0&&(Nt.strstart=0,Nt.block_start=0,Nt.insert=0))),Wt(wt),wt.avail_out===0))return Nt.last_flush=-1,lt}return Vt!==at?lt:Nt.wrap<=0?1:(Nt.wrap===2?(mr(Nt,255&wt.adler),mr(Nt,wt.adler>>8&255),mr(Nt,wt.adler>>16&255),mr(Nt,wt.adler>>24&255),mr(Nt,255&wt.total_in),mr(Nt,wt.total_in>>8&255),mr(Nt,wt.total_in>>16&255),mr(Nt,wt.total_in>>24&255)):(Yt(Nt,wt.adler>>>16),Yt(Nt,65535&wt.adler)),Wt(wt),0<Nt.wrap&&(Nt.wrap=-Nt.wrap),Nt.pending!==0?lt:1)},_.deflateEnd=function(wt){var Vt;return wt&&wt.state?(Vt=wt.state.status)!==Rt&&Vt!==69&&Vt!==73&&Vt!==91&&Vt!==103&&Vt!==Ut&&Vt!==666?jt(wt,gt):(wt.state=null,Vt===Ut?jt(wt,-3):lt):gt},_.deflateSetDictionary=function(wt,Vt){var qt,Nt,Bt,Qt,sr,lr,ar,vr,_r=Vt.length;if(!wt||!wt.state||(Qt=(qt=wt.state).wrap)===2||Qt===1&&qt.status!==Rt||qt.lookahead)return gt;for(Qt===1&&(wt.adler=rt(wt.adler,Vt,_r,0)),qt.wrap=0,_r>=qt.w_size&&(Qt===0&&(Jt(qt.head),qt.strstart=0,qt.block_start=0,qt.insert=0),vr=new j.Buf8(qt.w_size),j.arraySet(vr,Vt,_r-qt.w_size,qt.w_size,0),Vt=vr,_r=qt.w_size),sr=wt.avail_in,lr=wt.next_in,ar=wt.input,wt.avail_in=_r,wt.next_in=0,wt.input=Vt,Ft(qt);qt.lookahead>=Et;){for(Nt=qt.strstart,Bt=qt.lookahead-(Et-1);qt.ins_h=(qt.ins_h<<qt.hash_shift^qt.window[Nt+Et-1])&qt.hash_mask,qt.prev[Nt&qt.w_mask]=qt.head[qt.ins_h],qt.head[qt.ins_h]=Nt,Nt++,--Bt;);qt.strstart=Nt,qt.lookahead=Et-1,Ft(qt)}return qt.strstart+=qt.lookahead,qt.block_start=qt.strstart,qt.insert=qt.lookahead,qt.lookahead=0,qt.match_length=qt.prev_length=Et-1,qt.match_available=0,wt.next_in=lr,wt.input=ar,wt.avail_in=sr,qt.wrap=Qt,lt},_.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,o,_){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,o,_){o.exports=function($,j){var et,rt,nt,it,ot,at,lt,gt,ct,yt,pt,ut,ht,mt,dt,vt,St,_t,Et,Pt,Mt,Rt,Ut,Ct,Kt;et=$.state,rt=$.next_in,Ct=$.input,nt=rt+($.avail_in-5),it=$.next_out,Kt=$.output,ot=it-(j-$.avail_out),at=it+($.avail_out-257),lt=et.dmax,gt=et.wsize,ct=et.whave,yt=et.wnext,pt=et.window,ut=et.hold,ht=et.bits,mt=et.lencode,dt=et.distcode,vt=(1<<et.lenbits)-1,St=(1<<et.distbits)-1;e:do{ht<15&&(ut+=Ct[rt++]<<ht,ht+=8,ut+=Ct[rt++]<<ht,ht+=8),_t=mt[ut&vt];t:for(;;){if(ut>>>=Et=_t>>>24,ht-=Et,(Et=_t>>>16&255)===0)Kt[it++]=65535&_t;else{if(!(16&Et)){if(!(64&Et)){_t=mt[(65535&_t)+(ut&(1<<Et)-1)];continue t}if(32&Et){et.mode=12;break e}$.msg="invalid literal/length code",et.mode=30;break e}Pt=65535&_t,(Et&=15)&&(ht<Et&&(ut+=Ct[rt++]<<ht,ht+=8),Pt+=ut&(1<<Et)-1,ut>>>=Et,ht-=Et),ht<15&&(ut+=Ct[rt++]<<ht,ht+=8,ut+=Ct[rt++]<<ht,ht+=8),_t=dt[ut&St];r:for(;;){if(ut>>>=Et=_t>>>24,ht-=Et,!(16&(Et=_t>>>16&255))){if(!(64&Et)){_t=dt[(65535&_t)+(ut&(1<<Et)-1)];continue r}$.msg="invalid distance code",et.mode=30;break e}if(Mt=65535&_t,ht<(Et&=15)&&(ut+=Ct[rt++]<<ht,(ht+=8)<Et&&(ut+=Ct[rt++]<<ht,ht+=8)),lt<(Mt+=ut&(1<<Et)-1)){$.msg="invalid distance too far back",et.mode=30;break e}if(ut>>>=Et,ht-=Et,(Et=it-ot)<Mt){if(ct<(Et=Mt-Et)&&et.sane){$.msg="invalid distance too far back",et.mode=30;break e}if(Ut=pt,(Rt=0)===yt){if(Rt+=gt-Et,Et<Pt){for(Pt-=Et;Kt[it++]=pt[Rt++],--Et;);Rt=it-Mt,Ut=Kt}}else if(yt<Et){if(Rt+=gt+yt-Et,(Et-=yt)<Pt){for(Pt-=Et;Kt[it++]=pt[Rt++],--Et;);if(Rt=0,yt<Pt){for(Pt-=Et=yt;Kt[it++]=pt[Rt++],--Et;);Rt=it-Mt,Ut=Kt}}}else if(Rt+=yt-Et,Et<Pt){for(Pt-=Et;Kt[it++]=pt[Rt++],--Et;);Rt=it-Mt,Ut=Kt}for(;2<Pt;)Kt[it++]=Ut[Rt++],Kt[it++]=Ut[Rt++],Kt[it++]=Ut[Rt++],Pt-=3;Pt&&(Kt[it++]=Ut[Rt++],1<Pt&&(Kt[it++]=Ut[Rt++]))}else{for(Rt=it-Mt;Kt[it++]=Kt[Rt++],Kt[it++]=Kt[Rt++],Kt[it++]=Kt[Rt++],2<(Pt-=3););Pt&&(Kt[it++]=Kt[Rt++],1<Pt&&(Kt[it++]=Kt[Rt++]))}break}}break}}while(rt<nt&&it<at);rt-=Pt=ht>>3,ut&=(1<<(ht-=Pt<<3))-1,$.next_in=rt,$.next_out=it,$.avail_in=rt<nt?nt-rt+5:5-(rt-nt),$.avail_out=it<at?at-it+257:257-(it-at),et.hold=ut,et.bits=ht}},{}],49:[function(a,o,_){var $=a("../utils/common"),j=a("./adler32"),et=a("./crc32"),rt=a("./inffast"),nt=a("./inftrees"),it=1,ot=2,at=0,lt=-2,gt=1,ct=852,yt=592;function pt(Rt){return(Rt>>>24&255)+(Rt>>>8&65280)+((65280&Rt)<<8)+((255&Rt)<<24)}function ut(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new $.Buf16(320),this.work=new $.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(Rt){var Ut;return Rt&&Rt.state?(Ut=Rt.state,Rt.total_in=Rt.total_out=Ut.total=0,Rt.msg="",Ut.wrap&&(Rt.adler=1&Ut.wrap),Ut.mode=gt,Ut.last=0,Ut.havedict=0,Ut.dmax=32768,Ut.head=null,Ut.hold=0,Ut.bits=0,Ut.lencode=Ut.lendyn=new $.Buf32(ct),Ut.distcode=Ut.distdyn=new $.Buf32(yt),Ut.sane=1,Ut.back=-1,at):lt}function mt(Rt){var Ut;return Rt&&Rt.state?((Ut=Rt.state).wsize=0,Ut.whave=0,Ut.wnext=0,ht(Rt)):lt}function dt(Rt,Ut){var Ct,Kt;return Rt&&Rt.state?(Kt=Rt.state,Ut<0?(Ct=0,Ut=-Ut):(Ct=1+(Ut>>4),Ut<48&&(Ut&=15)),Ut&&(Ut<8||15<Ut)?lt:(Kt.window!==null&&Kt.wbits!==Ut&&(Kt.window=null),Kt.wrap=Ct,Kt.wbits=Ut,mt(Rt))):lt}function vt(Rt,Ut){var Ct,Kt;return Rt?(Kt=new ut,(Rt.state=Kt).window=null,(Ct=dt(Rt,Ut))!==at&&(Rt.state=null),Ct):lt}var St,_t,Et=!0;function Pt(Rt){if(Et){var Ut;for(St=new $.Buf32(512),_t=new $.Buf32(32),Ut=0;Ut<144;)Rt.lens[Ut++]=8;for(;Ut<256;)Rt.lens[Ut++]=9;for(;Ut<280;)Rt.lens[Ut++]=7;for(;Ut<288;)Rt.lens[Ut++]=8;for(nt(it,Rt.lens,0,288,St,0,Rt.work,{bits:9}),Ut=0;Ut<32;)Rt.lens[Ut++]=5;nt(ot,Rt.lens,0,32,_t,0,Rt.work,{bits:5}),Et=!1}Rt.lencode=St,Rt.lenbits=9,Rt.distcode=_t,Rt.distbits=5}function Mt(Rt,Ut,Ct,Kt){var Gt,It=Rt.state;return It.window===null&&(It.wsize=1<<It.wbits,It.wnext=0,It.whave=0,It.window=new $.Buf8(It.wsize)),Kt>=It.wsize?($.arraySet(It.window,Ut,Ct-It.wsize,It.wsize,0),It.wnext=0,It.whave=It.wsize):(Kt<(Gt=It.wsize-It.wnext)&&(Gt=Kt),$.arraySet(It.window,Ut,Ct-Kt,Gt,It.wnext),(Kt-=Gt)?($.arraySet(It.window,Ut,Ct-Kt,Kt,0),It.wnext=Kt,It.whave=It.wsize):(It.wnext+=Gt,It.wnext===It.wsize&&(It.wnext=0),It.whave<It.wsize&&(It.whave+=Gt))),0}_.inflateReset=mt,_.inflateReset2=dt,_.inflateResetKeep=ht,_.inflateInit=function(Rt){return vt(Rt,15)},_.inflateInit2=vt,_.inflate=function(Rt,Ut){var Ct,Kt,Gt,It,jt,$t,Jt,Wt,tr,mr,Yt,kt,Ft,er,Zt,At,Ot,Dt,zt,Xt,wt,Vt,qt,Nt,Bt=0,Qt=new $.Buf8(4),sr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Rt||!Rt.state||!Rt.output||!Rt.input&&Rt.avail_in!==0)return lt;(Ct=Rt.state).mode===12&&(Ct.mode=13),jt=Rt.next_out,Gt=Rt.output,Jt=Rt.avail_out,It=Rt.next_in,Kt=Rt.input,$t=Rt.avail_in,Wt=Ct.hold,tr=Ct.bits,mr=$t,Yt=Jt,Vt=at;e:for(;;)switch(Ct.mode){case gt:if(Ct.wrap===0){Ct.mode=13;break}for(;tr<16;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(2&Ct.wrap&&Wt===35615){Qt[Ct.check=0]=255&Wt,Qt[1]=Wt>>>8&255,Ct.check=et(Ct.check,Qt,2,0),tr=Wt=0,Ct.mode=2;break}if(Ct.flags=0,Ct.head&&(Ct.head.done=!1),!(1&Ct.wrap)||(((255&Wt)<<8)+(Wt>>8))%31){Rt.msg="incorrect header check",Ct.mode=30;break}if((15&Wt)!=8){Rt.msg="unknown compression method",Ct.mode=30;break}if(tr-=4,wt=8+(15&(Wt>>>=4)),Ct.wbits===0)Ct.wbits=wt;else if(wt>Ct.wbits){Rt.msg="invalid window size",Ct.mode=30;break}Ct.dmax=1<<wt,Rt.adler=Ct.check=1,Ct.mode=512&Wt?10:12,tr=Wt=0;break;case 2:for(;tr<16;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Ct.flags=Wt,(255&Ct.flags)!=8){Rt.msg="unknown compression method",Ct.mode=30;break}if(57344&Ct.flags){Rt.msg="unknown header flags set",Ct.mode=30;break}Ct.head&&(Ct.head.text=Wt>>8&1),512&Ct.flags&&(Qt[0]=255&Wt,Qt[1]=Wt>>>8&255,Ct.check=et(Ct.check,Qt,2,0)),tr=Wt=0,Ct.mode=3;case 3:for(;tr<32;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.head&&(Ct.head.time=Wt),512&Ct.flags&&(Qt[0]=255&Wt,Qt[1]=Wt>>>8&255,Qt[2]=Wt>>>16&255,Qt[3]=Wt>>>24&255,Ct.check=et(Ct.check,Qt,4,0)),tr=Wt=0,Ct.mode=4;case 4:for(;tr<16;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.head&&(Ct.head.xflags=255&Wt,Ct.head.os=Wt>>8),512&Ct.flags&&(Qt[0]=255&Wt,Qt[1]=Wt>>>8&255,Ct.check=et(Ct.check,Qt,2,0)),tr=Wt=0,Ct.mode=5;case 5:if(1024&Ct.flags){for(;tr<16;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.length=Wt,Ct.head&&(Ct.head.extra_len=Wt),512&Ct.flags&&(Qt[0]=255&Wt,Qt[1]=Wt>>>8&255,Ct.check=et(Ct.check,Qt,2,0)),tr=Wt=0}else Ct.head&&(Ct.head.extra=null);Ct.mode=6;case 6:if(1024&Ct.flags&&($t<(kt=Ct.length)&&(kt=$t),kt&&(Ct.head&&(wt=Ct.head.extra_len-Ct.length,Ct.head.extra||(Ct.head.extra=new Array(Ct.head.extra_len)),$.arraySet(Ct.head.extra,Kt,It,kt,wt)),512&Ct.flags&&(Ct.check=et(Ct.check,Kt,kt,It)),$t-=kt,It+=kt,Ct.length-=kt),Ct.length))break e;Ct.length=0,Ct.mode=7;case 7:if(2048&Ct.flags){if($t===0)break e;for(kt=0;wt=Kt[It+kt++],Ct.head&&wt&&Ct.length<65536&&(Ct.head.name+=String.fromCharCode(wt)),wt&&kt<$t;);if(512&Ct.flags&&(Ct.check=et(Ct.check,Kt,kt,It)),$t-=kt,It+=kt,wt)break e}else Ct.head&&(Ct.head.name=null);Ct.length=0,Ct.mode=8;case 8:if(4096&Ct.flags){if($t===0)break e;for(kt=0;wt=Kt[It+kt++],Ct.head&&wt&&Ct.length<65536&&(Ct.head.comment+=String.fromCharCode(wt)),wt&&kt<$t;);if(512&Ct.flags&&(Ct.check=et(Ct.check,Kt,kt,It)),$t-=kt,It+=kt,wt)break e}else Ct.head&&(Ct.head.comment=null);Ct.mode=9;case 9:if(512&Ct.flags){for(;tr<16;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Wt!==(65535&Ct.check)){Rt.msg="header crc mismatch",Ct.mode=30;break}tr=Wt=0}Ct.head&&(Ct.head.hcrc=Ct.flags>>9&1,Ct.head.done=!0),Rt.adler=Ct.check=0,Ct.mode=12;break;case 10:for(;tr<32;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Rt.adler=Ct.check=pt(Wt),tr=Wt=0,Ct.mode=11;case 11:if(Ct.havedict===0)return Rt.next_out=jt,Rt.avail_out=Jt,Rt.next_in=It,Rt.avail_in=$t,Ct.hold=Wt,Ct.bits=tr,2;Rt.adler=Ct.check=1,Ct.mode=12;case 12:if(Ut===5||Ut===6)break e;case 13:if(Ct.last){Wt>>>=7&tr,tr-=7&tr,Ct.mode=27;break}for(;tr<3;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}switch(Ct.last=1&Wt,tr-=1,3&(Wt>>>=1)){case 0:Ct.mode=14;break;case 1:if(Pt(Ct),Ct.mode=20,Ut!==6)break;Wt>>>=2,tr-=2;break e;case 2:Ct.mode=17;break;case 3:Rt.msg="invalid block type",Ct.mode=30}Wt>>>=2,tr-=2;break;case 14:for(Wt>>>=7&tr,tr-=7&tr;tr<32;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if((65535&Wt)!=(Wt>>>16^65535)){Rt.msg="invalid stored block lengths",Ct.mode=30;break}if(Ct.length=65535&Wt,tr=Wt=0,Ct.mode=15,Ut===6)break e;case 15:Ct.mode=16;case 16:if(kt=Ct.length){if($t<kt&&(kt=$t),Jt<kt&&(kt=Jt),kt===0)break e;$.arraySet(Gt,Kt,It,kt,jt),$t-=kt,It+=kt,Jt-=kt,jt+=kt,Ct.length-=kt;break}Ct.mode=12;break;case 17:for(;tr<14;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Ct.nlen=257+(31&Wt),Wt>>>=5,tr-=5,Ct.ndist=1+(31&Wt),Wt>>>=5,tr-=5,Ct.ncode=4+(15&Wt),Wt>>>=4,tr-=4,286<Ct.nlen||30<Ct.ndist){Rt.msg="too many length or distance symbols",Ct.mode=30;break}Ct.have=0,Ct.mode=18;case 18:for(;Ct.have<Ct.ncode;){for(;tr<3;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.lens[sr[Ct.have++]]=7&Wt,Wt>>>=3,tr-=3}for(;Ct.have<19;)Ct.lens[sr[Ct.have++]]=0;if(Ct.lencode=Ct.lendyn,Ct.lenbits=7,qt={bits:Ct.lenbits},Vt=nt(0,Ct.lens,0,19,Ct.lencode,0,Ct.work,qt),Ct.lenbits=qt.bits,Vt){Rt.msg="invalid code lengths set",Ct.mode=30;break}Ct.have=0,Ct.mode=19;case 19:for(;Ct.have<Ct.nlen+Ct.ndist;){for(;At=(Bt=Ct.lencode[Wt&(1<<Ct.lenbits)-1])>>>16&255,Ot=65535&Bt,!((Zt=Bt>>>24)<=tr);){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Ot<16)Wt>>>=Zt,tr-=Zt,Ct.lens[Ct.have++]=Ot;else{if(Ot===16){for(Nt=Zt+2;tr<Nt;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Wt>>>=Zt,tr-=Zt,Ct.have===0){Rt.msg="invalid bit length repeat",Ct.mode=30;break}wt=Ct.lens[Ct.have-1],kt=3+(3&Wt),Wt>>>=2,tr-=2}else if(Ot===17){for(Nt=Zt+3;tr<Nt;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}tr-=Zt,wt=0,kt=3+(7&(Wt>>>=Zt)),Wt>>>=3,tr-=3}else{for(Nt=Zt+7;tr<Nt;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}tr-=Zt,wt=0,kt=11+(127&(Wt>>>=Zt)),Wt>>>=7,tr-=7}if(Ct.have+kt>Ct.nlen+Ct.ndist){Rt.msg="invalid bit length repeat",Ct.mode=30;break}for(;kt--;)Ct.lens[Ct.have++]=wt}}if(Ct.mode===30)break;if(Ct.lens[256]===0){Rt.msg="invalid code -- missing end-of-block",Ct.mode=30;break}if(Ct.lenbits=9,qt={bits:Ct.lenbits},Vt=nt(it,Ct.lens,0,Ct.nlen,Ct.lencode,0,Ct.work,qt),Ct.lenbits=qt.bits,Vt){Rt.msg="invalid literal/lengths set",Ct.mode=30;break}if(Ct.distbits=6,Ct.distcode=Ct.distdyn,qt={bits:Ct.distbits},Vt=nt(ot,Ct.lens,Ct.nlen,Ct.ndist,Ct.distcode,0,Ct.work,qt),Ct.distbits=qt.bits,Vt){Rt.msg="invalid distances set",Ct.mode=30;break}if(Ct.mode=20,Ut===6)break e;case 20:Ct.mode=21;case 21:if(6<=$t&&258<=Jt){Rt.next_out=jt,Rt.avail_out=Jt,Rt.next_in=It,Rt.avail_in=$t,Ct.hold=Wt,Ct.bits=tr,rt(Rt,Yt),jt=Rt.next_out,Gt=Rt.output,Jt=Rt.avail_out,It=Rt.next_in,Kt=Rt.input,$t=Rt.avail_in,Wt=Ct.hold,tr=Ct.bits,Ct.mode===12&&(Ct.back=-1);break}for(Ct.back=0;At=(Bt=Ct.lencode[Wt&(1<<Ct.lenbits)-1])>>>16&255,Ot=65535&Bt,!((Zt=Bt>>>24)<=tr);){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(At&&!(240&At)){for(Dt=Zt,zt=At,Xt=Ot;At=(Bt=Ct.lencode[Xt+((Wt&(1<<Dt+zt)-1)>>Dt)])>>>16&255,Ot=65535&Bt,!(Dt+(Zt=Bt>>>24)<=tr);){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Wt>>>=Dt,tr-=Dt,Ct.back+=Dt}if(Wt>>>=Zt,tr-=Zt,Ct.back+=Zt,Ct.length=Ot,At===0){Ct.mode=26;break}if(32&At){Ct.back=-1,Ct.mode=12;break}if(64&At){Rt.msg="invalid literal/length code",Ct.mode=30;break}Ct.extra=15&At,Ct.mode=22;case 22:if(Ct.extra){for(Nt=Ct.extra;tr<Nt;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.length+=Wt&(1<<Ct.extra)-1,Wt>>>=Ct.extra,tr-=Ct.extra,Ct.back+=Ct.extra}Ct.was=Ct.length,Ct.mode=23;case 23:for(;At=(Bt=Ct.distcode[Wt&(1<<Ct.distbits)-1])>>>16&255,Ot=65535&Bt,!((Zt=Bt>>>24)<=tr);){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(!(240&At)){for(Dt=Zt,zt=At,Xt=Ot;At=(Bt=Ct.distcode[Xt+((Wt&(1<<Dt+zt)-1)>>Dt)])>>>16&255,Ot=65535&Bt,!(Dt+(Zt=Bt>>>24)<=tr);){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Wt>>>=Dt,tr-=Dt,Ct.back+=Dt}if(Wt>>>=Zt,tr-=Zt,Ct.back+=Zt,64&At){Rt.msg="invalid distance code",Ct.mode=30;break}Ct.offset=Ot,Ct.extra=15&At,Ct.mode=24;case 24:if(Ct.extra){for(Nt=Ct.extra;tr<Nt;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}Ct.offset+=Wt&(1<<Ct.extra)-1,Wt>>>=Ct.extra,tr-=Ct.extra,Ct.back+=Ct.extra}if(Ct.offset>Ct.dmax){Rt.msg="invalid distance too far back",Ct.mode=30;break}Ct.mode=25;case 25:if(Jt===0)break e;if(kt=Yt-Jt,Ct.offset>kt){if((kt=Ct.offset-kt)>Ct.whave&&Ct.sane){Rt.msg="invalid distance too far back",Ct.mode=30;break}Ft=kt>Ct.wnext?(kt-=Ct.wnext,Ct.wsize-kt):Ct.wnext-kt,kt>Ct.length&&(kt=Ct.length),er=Ct.window}else er=Gt,Ft=jt-Ct.offset,kt=Ct.length;for(Jt<kt&&(kt=Jt),Jt-=kt,Ct.length-=kt;Gt[jt++]=er[Ft++],--kt;);Ct.length===0&&(Ct.mode=21);break;case 26:if(Jt===0)break e;Gt[jt++]=Ct.length,Jt--,Ct.mode=21;break;case 27:if(Ct.wrap){for(;tr<32;){if($t===0)break e;$t--,Wt|=Kt[It++]<<tr,tr+=8}if(Yt-=Jt,Rt.total_out+=Yt,Ct.total+=Yt,Yt&&(Rt.adler=Ct.check=Ct.flags?et(Ct.check,Gt,Yt,jt-Yt):j(Ct.check,Gt,Yt,jt-Yt)),Yt=Jt,(Ct.flags?Wt:pt(Wt))!==Ct.check){Rt.msg="incorrect data check",Ct.mode=30;break}tr=Wt=0}Ct.mode=28;case 28:if(Ct.wrap&&Ct.flags){for(;tr<32;){if($t===0)break e;$t--,Wt+=Kt[It++]<<tr,tr+=8}if(Wt!==(4294967295&Ct.total)){Rt.msg="incorrect length check",Ct.mode=30;break}tr=Wt=0}Ct.mode=29;case 29:Vt=1;break e;case 30:Vt=-3;break e;case 31:return-4;case 32:default:return lt}return Rt.next_out=jt,Rt.avail_out=Jt,Rt.next_in=It,Rt.avail_in=$t,Ct.hold=Wt,Ct.bits=tr,(Ct.wsize||Yt!==Rt.avail_out&&Ct.mode<30&&(Ct.mode<27||Ut!==4))&&Mt(Rt,Rt.output,Rt.next_out,Yt-Rt.avail_out)?(Ct.mode=31,-4):(mr-=Rt.avail_in,Yt-=Rt.avail_out,Rt.total_in+=mr,Rt.total_out+=Yt,Ct.total+=Yt,Ct.wrap&&Yt&&(Rt.adler=Ct.check=Ct.flags?et(Ct.check,Gt,Yt,Rt.next_out-Yt):j(Ct.check,Gt,Yt,Rt.next_out-Yt)),Rt.data_type=Ct.bits+(Ct.last?64:0)+(Ct.mode===12?128:0)+(Ct.mode===20||Ct.mode===15?256:0),(mr==0&&Yt===0||Ut===4)&&Vt===at&&(Vt=-5),Vt)},_.inflateEnd=function(Rt){if(!Rt||!Rt.state)return lt;var Ut=Rt.state;return Ut.window&&(Ut.window=null),Rt.state=null,at},_.inflateGetHeader=function(Rt,Ut){var Ct;return Rt&&Rt.state&&2&(Ct=Rt.state).wrap?((Ct.head=Ut).done=!1,at):lt},_.inflateSetDictionary=function(Rt,Ut){var Ct,Kt=Ut.length;return Rt&&Rt.state?(Ct=Rt.state).wrap!==0&&Ct.mode!==11?lt:Ct.mode===11&&j(1,Ut,Kt,0)!==Ct.check?-3:Mt(Rt,Ut,Kt,Kt)?(Ct.mode=31,-4):(Ct.havedict=1,at):lt},_.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,o,_){var $=a("../utils/common"),j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],et=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],nt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(it,ot,at,lt,gt,ct,yt,pt){var ut,ht,mt,dt,vt,St,_t,Et,Pt,Mt=pt.bits,Rt=0,Ut=0,Ct=0,Kt=0,Gt=0,It=0,jt=0,$t=0,Jt=0,Wt=0,tr=null,mr=0,Yt=new $.Buf16(16),kt=new $.Buf16(16),Ft=null,er=0;for(Rt=0;Rt<=15;Rt++)Yt[Rt]=0;for(Ut=0;Ut<lt;Ut++)Yt[ot[at+Ut]]++;for(Gt=Mt,Kt=15;1<=Kt&&Yt[Kt]===0;Kt--);if(Kt<Gt&&(Gt=Kt),Kt===0)return gt[ct++]=20971520,gt[ct++]=20971520,pt.bits=1,0;for(Ct=1;Ct<Kt&&Yt[Ct]===0;Ct++);for(Gt<Ct&&(Gt=Ct),Rt=$t=1;Rt<=15;Rt++)if($t<<=1,($t-=Yt[Rt])<0)return-1;if(0<$t&&(it===0||Kt!==1))return-1;for(kt[1]=0,Rt=1;Rt<15;Rt++)kt[Rt+1]=kt[Rt]+Yt[Rt];for(Ut=0;Ut<lt;Ut++)ot[at+Ut]!==0&&(yt[kt[ot[at+Ut]]++]=Ut);if(St=it===0?(tr=Ft=yt,19):it===1?(tr=j,mr-=257,Ft=et,er-=257,256):(tr=rt,Ft=nt,-1),Rt=Ct,vt=ct,jt=Ut=Wt=0,mt=-1,dt=(Jt=1<<(It=Gt))-1,it===1&&852<Jt||it===2&&592<Jt)return 1;for(;;){for(_t=Rt-jt,Pt=yt[Ut]<St?(Et=0,yt[Ut]):yt[Ut]>St?(Et=Ft[er+yt[Ut]],tr[mr+yt[Ut]]):(Et=96,0),ut=1<<Rt-jt,Ct=ht=1<<It;gt[vt+(Wt>>jt)+(ht-=ut)]=_t<<24|Et<<16|Pt|0,ht!==0;);for(ut=1<<Rt-1;Wt&ut;)ut>>=1;if(ut!==0?(Wt&=ut-1,Wt+=ut):Wt=0,Ut++,--Yt[Rt]==0){if(Rt===Kt)break;Rt=ot[at+yt[Ut]]}if(Gt<Rt&&(Wt&dt)!==mt){for(jt===0&&(jt=Gt),vt+=Ct,$t=1<<(It=Rt-jt);It+jt<Kt&&!(($t-=Yt[It+jt])<=0);)It++,$t<<=1;if(Jt+=1<<It,it===1&&852<Jt||it===2&&592<Jt)return 1;gt[mt=Wt&dt]=Gt<<24|It<<16|vt-ct|0}}return Wt!==0&&(gt[vt+Wt]=Rt-jt<<24|64<<16|0),pt.bits=Gt,0}},{"../utils/common":41}],51:[function(a,o,_){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,o,_){var $=a("../utils/common"),j=0,et=1;function rt(Bt){for(var Qt=Bt.length;0<=--Qt;)Bt[Qt]=0}var nt=0,it=29,ot=256,at=ot+1+it,lt=30,gt=19,ct=2*at+1,yt=15,pt=16,ut=7,ht=256,mt=16,dt=17,vt=18,St=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mt=new Array(2*(at+2));rt(Mt);var Rt=new Array(2*lt);rt(Rt);var Ut=new Array(512);rt(Ut);var Ct=new Array(256);rt(Ct);var Kt=new Array(it);rt(Kt);var Gt,It,jt,$t=new Array(lt);function Jt(Bt,Qt,sr,lr,ar){this.static_tree=Bt,this.extra_bits=Qt,this.extra_base=sr,this.elems=lr,this.max_length=ar,this.has_stree=Bt&&Bt.length}function Wt(Bt,Qt){this.dyn_tree=Bt,this.max_code=0,this.stat_desc=Qt}function tr(Bt){return Bt<256?Ut[Bt]:Ut[256+(Bt>>>7)]}function mr(Bt,Qt){Bt.pending_buf[Bt.pending++]=255&Qt,Bt.pending_buf[Bt.pending++]=Qt>>>8&255}function Yt(Bt,Qt,sr){Bt.bi_valid>pt-sr?(Bt.bi_buf|=Qt<<Bt.bi_valid&65535,mr(Bt,Bt.bi_buf),Bt.bi_buf=Qt>>pt-Bt.bi_valid,Bt.bi_valid+=sr-pt):(Bt.bi_buf|=Qt<<Bt.bi_valid&65535,Bt.bi_valid+=sr)}function kt(Bt,Qt,sr){Yt(Bt,sr[2*Qt],sr[2*Qt+1])}function Ft(Bt,Qt){for(var sr=0;sr|=1&Bt,Bt>>>=1,sr<<=1,0<--Qt;);return sr>>>1}function er(Bt,Qt,sr){var lr,ar,vr=new Array(yt+1),_r=0;for(lr=1;lr<=yt;lr++)vr[lr]=_r=_r+sr[lr-1]<<1;for(ar=0;ar<=Qt;ar++){var Cr=Bt[2*ar+1];Cr!==0&&(Bt[2*ar]=Ft(vr[Cr]++,Cr))}}function Zt(Bt){var Qt;for(Qt=0;Qt<at;Qt++)Bt.dyn_ltree[2*Qt]=0;for(Qt=0;Qt<lt;Qt++)Bt.dyn_dtree[2*Qt]=0;for(Qt=0;Qt<gt;Qt++)Bt.bl_tree[2*Qt]=0;Bt.dyn_ltree[2*ht]=1,Bt.opt_len=Bt.static_len=0,Bt.last_lit=Bt.matches=0}function At(Bt){8<Bt.bi_valid?mr(Bt,Bt.bi_buf):0<Bt.bi_valid&&(Bt.pending_buf[Bt.pending++]=Bt.bi_buf),Bt.bi_buf=0,Bt.bi_valid=0}function Ot(Bt,Qt,sr,lr){var ar=2*Qt,vr=2*sr;return Bt[ar]<Bt[vr]||Bt[ar]===Bt[vr]&&lr[Qt]<=lr[sr]}function Dt(Bt,Qt,sr){for(var lr=Bt.heap[sr],ar=sr<<1;ar<=Bt.heap_len&&(ar<Bt.heap_len&&Ot(Qt,Bt.heap[ar+1],Bt.heap[ar],Bt.depth)&&ar++,!Ot(Qt,lr,Bt.heap[ar],Bt.depth));)Bt.heap[sr]=Bt.heap[ar],sr=ar,ar<<=1;Bt.heap[sr]=lr}function zt(Bt,Qt,sr){var lr,ar,vr,_r,Cr=0;if(Bt.last_lit!==0)for(;lr=Bt.pending_buf[Bt.d_buf+2*Cr]<<8|Bt.pending_buf[Bt.d_buf+2*Cr+1],ar=Bt.pending_buf[Bt.l_buf+Cr],Cr++,lr===0?kt(Bt,ar,Qt):(kt(Bt,(vr=Ct[ar])+ot+1,Qt),(_r=St[vr])!==0&&Yt(Bt,ar-=Kt[vr],_r),kt(Bt,vr=tr(--lr),sr),(_r=_t[vr])!==0&&Yt(Bt,lr-=$t[vr],_r)),Cr<Bt.last_lit;);kt(Bt,ht,Qt)}function Xt(Bt,Qt){var sr,lr,ar,vr=Qt.dyn_tree,_r=Qt.stat_desc.static_tree,Cr=Qt.stat_desc.has_stree,Er=Qt.stat_desc.elems,qr=-1;for(Bt.heap_len=0,Bt.heap_max=ct,sr=0;sr<Er;sr++)vr[2*sr]!==0?(Bt.heap[++Bt.heap_len]=qr=sr,Bt.depth[sr]=0):vr[2*sr+1]=0;for(;Bt.heap_len<2;)vr[2*(ar=Bt.heap[++Bt.heap_len]=qr<2?++qr:0)]=1,Bt.depth[ar]=0,Bt.opt_len--,Cr&&(Bt.static_len-=_r[2*ar+1]);for(Qt.max_code=qr,sr=Bt.heap_len>>1;1<=sr;sr--)Dt(Bt,vr,sr);for(ar=Er;sr=Bt.heap[1],Bt.heap[1]=Bt.heap[Bt.heap_len--],Dt(Bt,vr,1),lr=Bt.heap[1],Bt.heap[--Bt.heap_max]=sr,Bt.heap[--Bt.heap_max]=lr,vr[2*ar]=vr[2*sr]+vr[2*lr],Bt.depth[ar]=(Bt.depth[sr]>=Bt.depth[lr]?Bt.depth[sr]:Bt.depth[lr])+1,vr[2*sr+1]=vr[2*lr+1]=ar,Bt.heap[1]=ar++,Dt(Bt,vr,1),2<=Bt.heap_len;);Bt.heap[--Bt.heap_max]=Bt.heap[1],function(Ur,Vr){var Dr,hr,Or,Wr,gn,Ar,Nr=Vr.dyn_tree,Jr=Vr.max_code,wr=Vr.stat_desc.static_tree,dr=Vr.stat_desc.has_stree,fr=Vr.stat_desc.extra_bits,Rr=Vr.stat_desc.extra_base,Yr=Vr.stat_desc.max_length,Qr=0;for(Wr=0;Wr<=yt;Wr++)Ur.bl_count[Wr]=0;for(Nr[2*Ur.heap[Ur.heap_max]+1]=0,Dr=Ur.heap_max+1;Dr<ct;Dr++)Yr<(Wr=Nr[2*Nr[2*(hr=Ur.heap[Dr])+1]+1]+1)&&(Wr=Yr,Qr++),Nr[2*hr+1]=Wr,Jr<hr||(Ur.bl_count[Wr]++,gn=0,Rr<=hr&&(gn=fr[hr-Rr]),Ar=Nr[2*hr],Ur.opt_len+=Ar*(Wr+gn),dr&&(Ur.static_len+=Ar*(wr[2*hr+1]+gn)));if(Qr!==0){do{for(Wr=Yr-1;Ur.bl_count[Wr]===0;)Wr--;Ur.bl_count[Wr]--,Ur.bl_count[Wr+1]+=2,Ur.bl_count[Yr]--,Qr-=2}while(0<Qr);for(Wr=Yr;Wr!==0;Wr--)for(hr=Ur.bl_count[Wr];hr!==0;)Jr<(Or=Ur.heap[--Dr])||(Nr[2*Or+1]!==Wr&&(Ur.opt_len+=(Wr-Nr[2*Or+1])*Nr[2*Or],Nr[2*Or+1]=Wr),hr--)}}(Bt,Qt),er(vr,qr,Bt.bl_count)}function wt(Bt,Qt,sr){var lr,ar,vr=-1,_r=Qt[1],Cr=0,Er=7,qr=4;for(_r===0&&(Er=138,qr=3),Qt[2*(sr+1)+1]=65535,lr=0;lr<=sr;lr++)ar=_r,_r=Qt[2*(lr+1)+1],++Cr<Er&&ar===_r||(Cr<qr?Bt.bl_tree[2*ar]+=Cr:ar!==0?(ar!==vr&&Bt.bl_tree[2*ar]++,Bt.bl_tree[2*mt]++):Cr<=10?Bt.bl_tree[2*dt]++:Bt.bl_tree[2*vt]++,vr=ar,qr=(Cr=0)===_r?(Er=138,3):ar===_r?(Er=6,3):(Er=7,4))}function Vt(Bt,Qt,sr){var lr,ar,vr=-1,_r=Qt[1],Cr=0,Er=7,qr=4;for(_r===0&&(Er=138,qr=3),lr=0;lr<=sr;lr++)if(ar=_r,_r=Qt[2*(lr+1)+1],!(++Cr<Er&&ar===_r)){if(Cr<qr)for(;kt(Bt,ar,Bt.bl_tree),--Cr!=0;);else ar!==0?(ar!==vr&&(kt(Bt,ar,Bt.bl_tree),Cr--),kt(Bt,mt,Bt.bl_tree),Yt(Bt,Cr-3,2)):Cr<=10?(kt(Bt,dt,Bt.bl_tree),Yt(Bt,Cr-3,3)):(kt(Bt,vt,Bt.bl_tree),Yt(Bt,Cr-11,7));vr=ar,qr=(Cr=0)===_r?(Er=138,3):ar===_r?(Er=6,3):(Er=7,4)}}rt($t);var qt=!1;function Nt(Bt,Qt,sr,lr){Yt(Bt,(nt<<1)+(lr?1:0),3),function(ar,vr,_r,Cr){At(ar),mr(ar,_r),mr(ar,~_r),$.arraySet(ar.pending_buf,ar.window,vr,_r,ar.pending),ar.pending+=_r}(Bt,Qt,sr)}_._tr_init=function(Bt){qt||(function(){var Qt,sr,lr,ar,vr,_r=new Array(yt+1);for(ar=lr=0;ar<it-1;ar++)for(Kt[ar]=lr,Qt=0;Qt<1<<St[ar];Qt++)Ct[lr++]=ar;for(Ct[lr-1]=ar,ar=vr=0;ar<16;ar++)for($t[ar]=vr,Qt=0;Qt<1<<_t[ar];Qt++)Ut[vr++]=ar;for(vr>>=7;ar<lt;ar++)for($t[ar]=vr<<7,Qt=0;Qt<1<<_t[ar]-7;Qt++)Ut[256+vr++]=ar;for(sr=0;sr<=yt;sr++)_r[sr]=0;for(Qt=0;Qt<=143;)Mt[2*Qt+1]=8,Qt++,_r[8]++;for(;Qt<=255;)Mt[2*Qt+1]=9,Qt++,_r[9]++;for(;Qt<=279;)Mt[2*Qt+1]=7,Qt++,_r[7]++;for(;Qt<=287;)Mt[2*Qt+1]=8,Qt++,_r[8]++;for(er(Mt,at+1,_r),Qt=0;Qt<lt;Qt++)Rt[2*Qt+1]=5,Rt[2*Qt]=Ft(Qt,5);Gt=new Jt(Mt,St,ot+1,at,yt),It=new Jt(Rt,_t,0,lt,yt),jt=new Jt(new Array(0),Et,0,gt,ut)}(),qt=!0),Bt.l_desc=new Wt(Bt.dyn_ltree,Gt),Bt.d_desc=new Wt(Bt.dyn_dtree,It),Bt.bl_desc=new Wt(Bt.bl_tree,jt),Bt.bi_buf=0,Bt.bi_valid=0,Zt(Bt)},_._tr_stored_block=Nt,_._tr_flush_block=function(Bt,Qt,sr,lr){var ar,vr,_r=0;0<Bt.level?(Bt.strm.data_type===2&&(Bt.strm.data_type=function(Cr){var Er,qr=4093624447;for(Er=0;Er<=31;Er++,qr>>>=1)if(1&qr&&Cr.dyn_ltree[2*Er]!==0)return j;if(Cr.dyn_ltree[18]!==0||Cr.dyn_ltree[20]!==0||Cr.dyn_ltree[26]!==0)return et;for(Er=32;Er<ot;Er++)if(Cr.dyn_ltree[2*Er]!==0)return et;return j}(Bt)),Xt(Bt,Bt.l_desc),Xt(Bt,Bt.d_desc),_r=function(Cr){var Er;for(wt(Cr,Cr.dyn_ltree,Cr.l_desc.max_code),wt(Cr,Cr.dyn_dtree,Cr.d_desc.max_code),Xt(Cr,Cr.bl_desc),Er=gt-1;3<=Er&&Cr.bl_tree[2*Pt[Er]+1]===0;Er--);return Cr.opt_len+=3*(Er+1)+5+5+4,Er}(Bt),ar=Bt.opt_len+3+7>>>3,(vr=Bt.static_len+3+7>>>3)<=ar&&(ar=vr)):ar=vr=sr+5,sr+4<=ar&&Qt!==-1?Nt(Bt,Qt,sr,lr):Bt.strategy===4||vr===ar?(Yt(Bt,2+(lr?1:0),3),zt(Bt,Mt,Rt)):(Yt(Bt,4+(lr?1:0),3),function(Cr,Er,qr,Ur){var Vr;for(Yt(Cr,Er-257,5),Yt(Cr,qr-1,5),Yt(Cr,Ur-4,4),Vr=0;Vr<Ur;Vr++)Yt(Cr,Cr.bl_tree[2*Pt[Vr]+1],3);Vt(Cr,Cr.dyn_ltree,Er-1),Vt(Cr,Cr.dyn_dtree,qr-1)}(Bt,Bt.l_desc.max_code+1,Bt.d_desc.max_code+1,_r+1),zt(Bt,Bt.dyn_ltree,Bt.dyn_dtree)),Zt(Bt),lr&&At(Bt)},_._tr_tally=function(Bt,Qt,sr){return Bt.pending_buf[Bt.d_buf+2*Bt.last_lit]=Qt>>>8&255,Bt.pending_buf[Bt.d_buf+2*Bt.last_lit+1]=255&Qt,Bt.pending_buf[Bt.l_buf+Bt.last_lit]=255&sr,Bt.last_lit++,Qt===0?Bt.dyn_ltree[2*sr]++:(Bt.matches++,Qt--,Bt.dyn_ltree[2*(Ct[sr]+ot+1)]++,Bt.dyn_dtree[2*tr(Qt)]++),Bt.last_lit===Bt.lit_bufsize-1},_._tr_align=function(Bt){Yt(Bt,2,3),kt(Bt,ht,Mt),function(Qt){Qt.bi_valid===16?(mr(Qt,Qt.bi_buf),Qt.bi_buf=0,Qt.bi_valid=0):8<=Qt.bi_valid&&(Qt.pending_buf[Qt.pending++]=255&Qt.bi_buf,Qt.bi_buf>>=8,Qt.bi_valid-=8)}(Bt)}},{"../utils/common":41}],53:[function(a,o,_){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,o,_){(function($){(function(j,et){if(!j.setImmediate){var rt,nt,it,ot,at=1,lt={},gt=!1,ct=j.document,yt=Object.getPrototypeOf&&Object.getPrototypeOf(j);yt=yt&&yt.setTimeout?yt:j,rt={}.toString.call(j.process)==="[object process]"?function(mt){process.nextTick(function(){ut(mt)})}:function(){if(j.postMessage&&!j.importScripts){var mt=!0,dt=j.onmessage;return j.onmessage=function(){mt=!1},j.postMessage("","*"),j.onmessage=dt,mt}}()?(ot="setImmediate$"+Math.random()+"$",j.addEventListener?j.addEventListener("message",ht,!1):j.attachEvent("onmessage",ht),function(mt){j.postMessage(ot+mt,"*")}):j.MessageChannel?((it=new MessageChannel).port1.onmessage=function(mt){ut(mt.data)},function(mt){it.port2.postMessage(mt)}):ct&&"onreadystatechange"in ct.createElement("script")?(nt=ct.documentElement,function(mt){var dt=ct.createElement("script");dt.onreadystatechange=function(){ut(mt),dt.onreadystatechange=null,nt.removeChild(dt),dt=null},nt.appendChild(dt)}):function(mt){setTimeout(ut,0,mt)},yt.setImmediate=function(mt){typeof mt!="function"&&(mt=new Function(""+mt));for(var dt=new Array(arguments.length-1),vt=0;vt<dt.length;vt++)dt[vt]=arguments[vt+1];var St={callback:mt,args:dt};return lt[at]=St,rt(at),at++},yt.clearImmediate=pt}function pt(mt){delete lt[mt]}function ut(mt){if(gt)setTimeout(ut,0,mt);else{var dt=lt[mt];if(dt){gt=!0;try{(function(vt){var St=vt.callback,_t=vt.args;switch(_t.length){case 0:St();break;case 1:St(_t[0]);break;case 2:St(_t[0],_t[1]);break;case 3:St(_t[0],_t[1],_t[2]);break;default:St.apply(et,_t)}})(dt)}finally{pt(mt),gt=!1}}}}function ht(mt){mt.source===j&&typeof mt.data=="string"&&mt.data.indexOf(ot)===0&&ut(+mt.data.slice(ot.length))}})(typeof self>"u"?$===void 0?this:$:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";class RSVPReader{constructor(){ps(this,"text","");ps(this,"words",[]);ps(this,"isPlaying",!1);ps(this,"speed",300);ps(this,"intervalId");ps(this,"currentIndex",0);ps(this,"onTextChange");ps(this,"onProgressChange");ps(this,"onSpeedChange")}async loadFile(s){try{switch(s.type){case"application/pdf":await this.loadPDF(s);break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":await this.loadWord(s);break;case"application/epub+zip":await this.loadEPUB(s);break;case"application/vnd.oasis.opendocument.text":await this.loadODT(s);break;case"application/rtf":case"text/rtf":await this.loadRTF(s);break;default:const a=await s.text();this.loadContent(a)}}catch(a){throw console.error("Error loading file:",a),a}}async loadPDF(s){try{const a=await s.arrayBuffer(),_=await pdfExports.getDocument({data:a,useSystemFonts:!0}).promise;let $="";for(let j=1;j<=_.numPages;j++)try{const nt=(await(await _.getPage(j)).getTextContent()).items.map(it=>it.str).join(" ");$+=nt+`

`}catch(et){console.warn(`Error extracting text from page ${j}:`,et);continue}if(!$.trim())throw new Error("No text content could be extracted from the PDF");this.loadContent($)}catch(a){throw console.error("Error loading PDF:",a),a}}async loadWord(s){try{const a=await s.arrayBuffer(),o=await window.mammoth.extractRawText({arrayBuffer:a});if(o.value){const _=o.value.replace(/[\r\n]+/g,`
`).replace(/\s+/g," ").trim();this.loadContent(_)}else throw new Error("No text content found in Word document");o.messages.length>0&&console.warn("Word document conversion warnings:",o.messages)}catch(a){throw console.error("Error loading Word document:",a),a}}async loadEPUB(s){var a,o,_,$;try{const j=await s.arrayBuffer(),rt=await new JSZip().loadAsync(j),nt=await((a=rt.file("META-INF/container.xml"))==null?void 0:a.async("text"));if(!nt)throw new Error("Invalid EPUB: container.xml not found");const it=new DOMParser,at=(o=it.parseFromString(nt,"text/xml").querySelector("rootfile"))==null?void 0:o.getAttribute("full-path");if(!at)throw new Error("Invalid EPUB: content.opf path not found");const lt=await((_=rt.file(at))==null?void 0:_.async("text"));if(!lt)throw new Error("Invalid EPUB: content.opf not found");const gt=it.parseFromString(lt,"text/xml"),ct=Array.from(gt.querySelectorAll("manifest item")).reduce((mt,dt)=>(mt[dt.getAttribute("id")||""]=dt.getAttribute("href")||"",mt),{}),yt=Array.from(gt.querySelectorAll("spine itemref")).map(mt=>ct[mt.getAttribute("idref")||""]).filter(Boolean),pt=at.substring(0,at.lastIndexOf("/")+1);let ut="";for(const mt of yt)try{const dt=pt+mt,vt=await(($=rt.file(dt))==null?void 0:$.async("text"));if(vt){const St=it.parseFromString(vt,"text/html"),_t=this.cleanEPUBContent(St.body);_t.trim()&&(ut+=_t+`

`)}}catch(dt){console.warn("Error processing chapter:",dt);continue}const ht=ut.trim();if(ht)this.loadContent(ht);else throw new Error("No text content found in EPUB")}catch(j){throw console.error("Error loading EPUB:",j),j}}cleanEPUBContent(s){return s.querySelectorAll('script, style, nav, [role="doc-noteref"]').forEach($=>$.remove()),s.querySelectorAll("h1, h2, h3, h4, h5, h6, p, br, div").forEach($=>{($.tagName==="BR"||$.tagName==="P"||$.tagName.startsWith("H"))&&$.insertAdjacentText("afterend",`
`)}),(s.textContent||"").replace(/\s+/g," ").replace(/\n\s*\n/g,`

`).trim()}async loadODT(s){try{const a=await s.arrayBuffer();try{const o=await window.mammoth.extractRawText({arrayBuffer:a});if(o.value){const _=o.value.replace(/[\r\n]+/g,`
`).replace(/\s+/g," ").trim();this.loadContent(_);return}}catch{const o=await this.extractTextFromBinary(a);if(o){this.loadContent(o);return}}throw new Error("Could not extract text from ODT file")}catch(a){throw console.error("Error loading ODT:",a),a}}async loadRTF(s){try{let o=(await s.text()).replace(/[\\](?:rtf[0-9]+|[a-z]+)[\\]?/g,"").replace(/[\\][\\'\{\}]/g,"").replace(/\{[^\}]*\}/g,"").replace(/[\\]par[\\]?/g,`
`).replace(/[\\]tab[\\]?/g,"	").replace(/[\\]'[0-9a-fA-F]{2}/g,"").replace(/\s+/g," ").trim();if(o)this.loadContent(o);else throw new Error("No text content found in RTF")}catch(a){throw console.error("Error loading RTF:",a),a}}async extractTextFromBinary(s){const a=new Uint8Array(s);let o="";for(let _=0;_<a.length;_++){const $=a[_];($>=32&&$<=126||$===10||$===13)&&(o+=String.fromCharCode($))}return o.trim()}loadContent(s){var a,o;this.text=s,this.words=s.trim().split(/\s+/).filter(_=>_.length>0),this.currentIndex=0,(a=this.onTextChange)==null||a.call(this,s),(o=this.onProgressChange)==null||o.call(this,this.currentIndex,this.words.length)}start(){if(this.isPlaying||this.words.length===0)return;this.isPlaying=!0;const s=Math.floor(6e4/this.speed);this.intervalId=window.setInterval(()=>{var a;if(this.currentIndex>=this.words.length-1){this.pause();return}this.currentIndex++,(a=this.onProgressChange)==null||a.call(this,this.currentIndex,this.words.length)},s)}pause(){this.isPlaying&&(this.isPlaying=!1,this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=void 0))}setSpeed(s){var a;this.speed=Math.max(60,Math.min(1e3,s)),(a=this.onSpeedChange)==null||a.call(this,this.speed),this.isPlaying&&(this.pause(),this.start())}setCurrentIndex(s){var a;s<0||s>=this.words.length||(this.currentIndex=s,(a=this.onProgressChange)==null||a.call(this,this.currentIndex,this.words.length))}getCurrentWord(){return this.words[this.currentIndex]||""}getCurrentIndex(){return this.currentIndex}getSpeed(){return this.speed}isReading(){return this.isPlaying}getWords(){return this.words}}const scriptRel="modulepreload",assetsURL=function(i){return"/"+i},seen={},__vitePreload=function i(s,a,o){let _=Promise.resolve();return a&&a.length>0&&(document.getElementsByTagName("link"),_=Promise.all(a.map($=>{if($=assetsURL($),$ in seen)return;seen[$]=!0;const j=$.endsWith(".css"),et=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${$}"]${et}`))return;const rt=document.createElement("link");if(rt.rel=j?"stylesheet":scriptRel,j||(rt.as="script",rt.crossOrigin=""),rt.href=$,document.head.appendChild(rt),j)return new Promise((nt,it)=>{rt.addEventListener("load",nt),rt.addEventListener("error",()=>it(new Error(`Unable to preload CSS for ${$}`)))})}))),_.then(()=>s()).catch($=>{const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=$,window.dispatchEvent(j),!j.defaultPrevented)throw $})},resolveFetch$3=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>__vitePreload(()=>Promise.resolve().then(()=>browser),void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)};class FunctionsError extends Error{constructor(s,a="FunctionsError",o){super(s),this.name=a,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class FunctionsRelayError extends FunctionsError{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class FunctionsHttpError extends FunctionsError{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var FunctionRegion;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$6=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};class FunctionsClient{constructor(s,{headers:a={},customFetch:o,region:_=FunctionRegion.Any}={}){this.url=s,this.headers=a,this.region=_,this.fetch=resolveFetch$3(o)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,a={}){var o;return __awaiter$6(this,void 0,void 0,function*(){try{const{headers:_,method:$,body:j}=a;let et={},{region:rt}=a;rt||(rt=this.region),rt&&rt!=="any"&&(et["x-region"]=rt);let nt;j&&(_&&!Object.prototype.hasOwnProperty.call(_,"Content-Type")||!_)&&(typeof Blob<"u"&&j instanceof Blob||j instanceof ArrayBuffer?(et["Content-Type"]="application/octet-stream",nt=j):typeof j=="string"?(et["Content-Type"]="text/plain",nt=j):typeof FormData<"u"&&j instanceof FormData?nt=j:(et["Content-Type"]="application/json",nt=JSON.stringify(j)));const it=yield this.fetch(`${this.url}/${s}`,{method:$||"POST",headers:Object.assign(Object.assign(Object.assign({},et),this.headers),_),body:nt}).catch(gt=>{throw new FunctionsFetchError(gt)}),ot=it.headers.get("x-relay-error");if(ot&&ot==="true")throw new FunctionsRelayError(it);if(!it.ok)throw new FunctionsHttpError(it);let at=((o=it.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),lt;return at==="application/json"?lt=yield it.json():at==="application/octet-stream"?lt=yield it.blob():at==="text/event-stream"?lt=it:at==="multipart/form-data"?lt=yield it.formData():lt=yield it.text(),{data:lt,error:null}}catch(_){return{data:null,error:_}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=Object.assign({},this.headers),this.headers[s]=a,this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let _=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async $=>{var j,et,rt;let nt=null,it=null,ot=null,at=$.status,lt=$.statusText;if($.ok){if(this.method!=="HEAD"){const pt=await $.text();pt===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?it=pt:it=JSON.parse(pt))}const ct=(j=this.headers.Prefer)===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),yt=(et=$.headers.get("content-range"))===null||et===void 0?void 0:et.split("/");ct&&yt&&yt.length>1&&(ot=parseInt(yt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(it)&&(it.length>1?(nt={code:"PGRST116",details:`Results contain ${it.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},it=null,ot=null,at=406,lt="Not Acceptable"):it.length===1?it=it[0]:it=null)}else{const ct=await $.text();try{nt=JSON.parse(ct),Array.isArray(nt)&&$.status===404&&(it=[],nt=null,at=200,lt="OK")}catch{$.status===404&&ct===""?(at=204,lt="No Content"):nt={message:ct}}if(nt&&this.isMaybeSingle&&(!((rt=nt==null?void 0:nt.details)===null||rt===void 0)&&rt.includes("0 rows"))&&(nt=null,at=200,lt="OK"),nt&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(nt)}return{error:nt,data:it,count:ot,status:at,statusText:lt}});return this.shouldThrowOnError||(_=_.catch($=>{var j,et,rt;return{error:{message:`${(j=$==null?void 0:$.name)!==null&&j!==void 0?j:"FetchError"}: ${$==null?void 0:$.message}`,details:`${(et=$==null?void 0:$.stack)!==null&&et!==void 0?et:""}`,hint:"",code:`${(rt=$==null?void 0:$.code)!==null&&rt!==void 0?rt:""}`},data:null,count:null,status:0,statusText:""}})),_.then(s,a)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(s){let a=!1;const o=(s??"*").split("").map(_=>/\s/.test(_)&&!a?"":(_==='"'&&(a=!a),_)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:_,referencedTable:$=_}={}){const j=$?`${$}.order`:"order",et=this.url.searchParams.get(j);return this.url.searchParams.set(j,`${et?`${et},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const _=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(_,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:_=o}={}){const $=typeof _>"u"?"offset":`${_}.offset`,j=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set($,`${s}`),this.url.searchParams.set(j,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:_=!1,wal:$=!1,format:j="text"}={}){var et;const rt=[s?"analyze":null,a?"verbose":null,o?"settings":null,_?"buffers":null,$?"wal":null].filter(Boolean).join("|"),nt=(et=this.headers.Accept)!==null&&et!==void 0?et:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${j}; for="${nt}"; options=${rt};`,j==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(_=>typeof _=="string"&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:_}={}){let $="";_==="plain"?$="pl":_==="phrase"?$="ph":_==="websearch"&&($="w");const j=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${$}fts${j}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const _=o?`${o}.or`:"or";return this.url.searchParams.append(_,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(s,{headers:a={},schema:o,fetch:_}){this.url=s,this.headers=a,this.schema=o,this.fetch=_}select(s,{head:a=!1,count:o}={}){const _=a?"HEAD":"GET";let $=!1;const j=(s??"*").split("").map(et=>/\s/.test(et)&&!$?"":(et==='"'&&($=!$),et)).join("");return this.url.searchParams.set("select",j),o&&(this.headers.Prefer=`count=${o}`),new PostgrestFilterBuilder_1$2.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:o=!0}={}){const _="POST",$=[];if(this.headers.Prefer&&$.push(this.headers.Prefer),a&&$.push(`count=${a}`),o||$.push("missing=default"),this.headers.Prefer=$.join(","),Array.isArray(s)){const j=s.reduce((et,rt)=>et.concat(Object.keys(rt)),[]);if(j.length>0){const et=[...new Set(j)].map(rt=>`"${rt}"`);this.url.searchParams.set("columns",et.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:_,defaultToNull:$=!0}={}){const j="POST",et=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&et.push(this.headers.Prefer),_&&et.push(`count=${_}`),$||et.push("missing=default"),this.headers.Prefer=et.join(","),Array.isArray(s)){const rt=s.reduce((nt,it)=>nt.concat(Object.keys(it)),[]);if(rt.length>0){const nt=[...new Set(rt)].map(it=>`"${it}"`);this.url.searchParams.set("columns",nt.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:j,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const o="PATCH",_=[];return this.headers.Prefer&&_.push(this.headers.Prefer),a&&_.push(`count=${a}`),this.headers.Prefer=_.join(","),new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new PostgrestFilterBuilder_1$2.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_HEADERS=void 0;const version_1=version$4;constants.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2),constants_1=constants;let PostgrestClient$1=class Jy{constructor(s,{headers:a={},schema:o,fetch:_}={}){this.url=s,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),a),this.schemaName=o,this.fetch=_}from(s){const a=new URL(`${this.url}/${s}`);return new PostgrestQueryBuilder_1$1.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Jy(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:_=!1,count:$}={}){let j;const et=new URL(`${this.url}/rpc/${s}`);let rt;o||_?(j=o?"HEAD":"GET",Object.entries(a).filter(([it,ot])=>ot!==void 0).map(([it,ot])=>[it,Array.isArray(ot)?`{${ot.join(",")}}`:`${ot}`]).forEach(([it,ot])=>{et.searchParams.append(it,ot)})):(j="POST",rt=a);const nt=Object.assign({},this.headers);return $&&(nt.Prefer=`count=${$}`),new PostgrestFilterBuilder_1$1.default({method:j,url:et,headers:nt,schema:this.schemaName,body:rt,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default,version$3="2.11.5",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(i){i.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));var LOG_LEVEL;(function(i){i.Info="info",i.Warn="warn",i.Error="error"})(LOG_LEVEL||(LOG_LEVEL={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(s,a){return s.constructor===ArrayBuffer?a(this._binaryDecode(s)):a(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const a=new DataView(s),o=new TextDecoder;return this._decodeBroadcast(s,a,o)}_decodeBroadcast(s,a,o){const _=a.getUint8(1),$=a.getUint8(2);let j=this.HEADER_LENGTH+2;const et=o.decode(s.slice(j,j+_));j=j+_;const rt=o.decode(s.slice(j,j+$));j=j+$;const nt=JSON.parse(o.decode(s.slice(j,s.byteLength)));return{ref:null,topic:et,event:rt,payload:nt}}}class Timer{constructor(s,a){this.callback=s,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(i,s,a={})=>{var o;const _=(o=a.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(s).reduce(($,j)=>($[j]=convertColumn(j,i,s,_),$),{})},convertColumn=(i,s,a,o)=>{const _=s.find(et=>et.name===i),$=_==null?void 0:_.type,j=a[i];return $&&!o.includes($)?convertCell($,j):noop$3(j)},convertCell=(i,s)=>{if(i.charAt(0)==="_"){const a=i.slice(1,i.length);return toArray$1(s,a)}switch(i){case PostgresTypes.bool:return toBoolean(s);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(s);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(s);case PostgresTypes.timestamp:return toTimestampString(s);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$3(s);default:return noop$3(s)}},noop$3=i=>i,toBoolean=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},toNumber=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},toJson=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(s){return console.log(`JSON parse error: ${s}`),i}return i},toArray$1=(i,s)=>{if(typeof i!="string")return i;const a=i.length-1,o=i[a];if(i[0]==="{"&&o==="}"){let $;const j=i.slice(1,a);try{$=JSON.parse("["+j+"]")}catch{$=j?j.split(","):[]}return $.map(et=>convertCell(s,et))}return i},toTimestampString=i=>typeof i=="string"?i.replace(" ","T"):i,httpEndpointURL=i=>{let s=i;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Push{constructor(s,a,o={},_=DEFAULT_TIMEOUT){this.channel=s,this.event=a,this.payload=o,this.timeout=_,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,a){var o;return this._hasReceived(s)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:s,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:a}){this.recHooks.filter(o=>o.status===s).forEach(o=>o.callback(a))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(s,a){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},_=>{const{onJoin:$,onLeave:j,onSync:et}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,_,$,j),this.pendingDiffs.forEach(rt=>{this.state=RealtimePresence.syncDiff(this.state,rt,$,j)}),this.pendingDiffs=[],et()}),this.channel._on(o.diff,{},_=>{const{onJoin:$,onLeave:j,onSync:et}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(_):(this.state=RealtimePresence.syncDiff(this.state,_,$,j),et())}),this.onJoin((_,$,j)=>{this.channel._trigger("presence",{event:"join",key:_,currentPresences:$,newPresences:j})}),this.onLeave((_,$,j)=>{this.channel._trigger("presence",{event:"leave",key:_,currentPresences:$,leftPresences:j})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,a,o,_){const $=this.cloneDeep(s),j=this.transformState(a),et={},rt={};return this.map($,(nt,it)=>{j[nt]||(rt[nt]=it)}),this.map(j,(nt,it)=>{const ot=$[nt];if(ot){const at=it.map(yt=>yt.presence_ref),lt=ot.map(yt=>yt.presence_ref),gt=it.filter(yt=>lt.indexOf(yt.presence_ref)<0),ct=ot.filter(yt=>at.indexOf(yt.presence_ref)<0);gt.length>0&&(et[nt]=gt),ct.length>0&&(rt[nt]=ct)}else et[nt]=it}),this.syncDiff($,{joins:et,leaves:rt},o,_)}static syncDiff(s,a,o,_){const{joins:$,leaves:j}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),_||(_=()=>{}),this.map($,(et,rt)=>{var nt;const it=(nt=s[et])!==null&&nt!==void 0?nt:[];if(s[et]=this.cloneDeep(rt),it.length>0){const ot=s[et].map(lt=>lt.presence_ref),at=it.filter(lt=>ot.indexOf(lt.presence_ref)<0);s[et].unshift(...at)}o(et,it,rt)}),this.map(j,(et,rt)=>{let nt=s[et];if(!nt)return;const it=rt.map(ot=>ot.presence_ref);nt=nt.filter(ot=>it.indexOf(ot.presence_ref)<0),s[et]=nt,_(et,nt,rt),nt.length===0&&delete s[et]}),s}static map(s,a){return Object.getOwnPropertyNames(s).map(o=>a(o,s[o]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((a,o)=>{const _=s[o];return"metas"in _?a[o]=_.metas.map($=>($.presence_ref=$.phx_ref,delete $.phx_ref,delete $.phx_ref_prev,$)):a[o]=_,a},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(s,a={config:{}},o){this.topic=s,this.params=a,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(_=>_.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(_,$)=>{this._trigger(this._replyEventName($),_)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,a=this.timeout){var o,_;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:$,presence:j,private:et}}=this.params;this._onError(it=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,it)),this._onClose(()=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CLOSED));const rt={},nt={broadcast:$,presence:j,postgres_changes:(_=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(it=>it.filter))!==null&&_!==void 0?_:[],private:et};this.socket.accessTokenValue&&(rt.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:nt},rt)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:it})=>{var ot;if(this.socket.setAuth(),it===void 0){s==null||s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const at=this.bindings.postgres_changes,lt=(ot=at==null?void 0:at.length)!==null&&ot!==void 0?ot:0,gt=[];for(let ct=0;ct<lt;ct++){const yt=at[ct],{filter:{event:pt,schema:ut,table:ht,filter:mt}}=yt,dt=it&&it[ct];if(dt&&dt.event===pt&&dt.schema===ut&&dt.table===ht&&dt.filter===mt)gt.push(Object.assign(Object.assign({},yt),{id:dt.id}));else{this.unsubscribe(),s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=gt,s&&s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",it=>{s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(it).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,a={}){return await this.send({type:"presence",event:"track",payload:s},a.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,a,o){return this._on(s,a,o)}async send(s,a={}){var o,_;if(!this._canPush()&&s.type==="broadcast"){const{event:$,payload:j}=s,rt={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:$,payload:j,private:this.private}]})};try{const nt=await this._fetchWithTimeout(this.broadcastEndpointURL,rt,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((_=nt.body)===null||_===void 0?void 0:_.cancel()),nt.ok?"ok":"error"}catch(nt){return nt.name==="AbortError"?"timed out":"error"}}else return new Promise($=>{var j,et,rt;const nt=this._push(s.type,s,a.timeout||this.timeout);s.type==="broadcast"&&!(!((rt=(et=(j=this.params)===null||j===void 0?void 0:j.config)===null||et===void 0?void 0:et.broadcast)===null||rt===void 0)&&rt.ack)&&$("ok"),nt.receive("ok",()=>$("ok")),nt.receive("error",()=>$("error")),nt.receive("timeout",()=>$("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=CHANNEL_STATES.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const _=new Push(this,CHANNEL_EVENTS.leave,{},s);_.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),_.send(),this._canPush()||_.trigger("ok",{})})}async _fetchWithTimeout(s,a,o){const _=new AbortController,$=setTimeout(()=>_.abort(),o),j=await this.socket.fetch(s,Object.assign(Object.assign({},a),{signal:_.signal}));return clearTimeout($),j}_push(s,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let _=new Push(this,s,a,o);return this._canPush()?_.send():(_.startTimeout(),this.pushBuffer.push(_)),_}_onMessage(s,a,o){return a}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,a,o){var _,$;const j=s.toLocaleLowerCase(),{close:et,error:rt,leave:nt,join:it}=CHANNEL_EVENTS;if(o&&[et,rt,nt,it].indexOf(j)>=0&&o!==this._joinRef())return;let at=this._onMessage(j,a,o);if(a&&!at)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(j)?(_=this.bindings.postgres_changes)===null||_===void 0||_.filter(lt=>{var gt,ct,yt;return((gt=lt.filter)===null||gt===void 0?void 0:gt.event)==="*"||((yt=(ct=lt.filter)===null||ct===void 0?void 0:ct.event)===null||yt===void 0?void 0:yt.toLocaleLowerCase())===j}).map(lt=>lt.callback(at,o)):($=this.bindings[j])===null||$===void 0||$.filter(lt=>{var gt,ct,yt,pt,ut,ht;if(["broadcast","presence","postgres_changes"].includes(j))if("id"in lt){const mt=lt.id,dt=(gt=lt.filter)===null||gt===void 0?void 0:gt.event;return mt&&((ct=a.ids)===null||ct===void 0?void 0:ct.includes(mt))&&(dt==="*"||(dt==null?void 0:dt.toLocaleLowerCase())===((yt=a.data)===null||yt===void 0?void 0:yt.type.toLocaleLowerCase()))}else{const mt=(ut=(pt=lt==null?void 0:lt.filter)===null||pt===void 0?void 0:pt.event)===null||ut===void 0?void 0:ut.toLocaleLowerCase();return mt==="*"||mt===((ht=a==null?void 0:a.event)===null||ht===void 0?void 0:ht.toLocaleLowerCase())}else return lt.type.toLocaleLowerCase()===j}).map(lt=>{if(typeof at=="object"&&"ids"in at){const gt=at.data,{schema:ct,table:yt,commit_timestamp:pt,type:ut,errors:ht}=gt;at=Object.assign(Object.assign({},{schema:ct,table:yt,commit_timestamp:pt,eventType:ut,new:{},old:{},errors:ht}),this._getPayloadRecords(gt))}lt.callback(at,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,a,o){const _=s.toLocaleLowerCase(),$={type:_,filter:a,callback:o};return this.bindings[_]?this.bindings[_].push($):this.bindings[_]=[$],this}_off(s,a){const o=s.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(_=>{var $;return!((($=_.type)===null||$===void 0?void 0:$.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(_.filter,a))}),this}static isEqual(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const o in s)if(s[o]!==a[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(CHANNEL_EVENTS.close,{},s)}_onError(s){this._on(CHANNEL_EVENTS.error,{},a=>s(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const a={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(a.new=convertChangeData(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(a.old=convertChangeData(s.columns,s.old_record)),a}}const noop$2=()=>{},NATIVE_WEBSOCKET_AVAILABLE=typeof WebSocket<"u",WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(s,a){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop$2,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=$=>{let j;return $?j=$:typeof fetch>"u"?j=(...et)=>__vitePreload(()=>Promise.resolve().then(()=>browser),void 0).then(({default:rt})=>rt(...et)):j=fetch,(...et)=>j(...et)},this.endPoint=`${s}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(s),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const _=(o=a==null?void 0:a.params)===null||o===void 0?void 0:o.apikey;if(_&&(this.accessTokenValue=_,this.apiKey=_),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:$=>[1e3,2e3,5e3,1e4][$-1]||1e4,this.encode=a!=null&&a.encode?a.encode:($,j)=>j(JSON.stringify($)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}if(NATIVE_WEBSOCKET_AVAILABLE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WSWebSocketDummy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),__vitePreload(()=>import("./browser-ByngcM5c.js").then(s=>s.b),__vite__mapDeps([])).then(({default:s})=>{this.conn=new s(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(s,a){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const a=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const s=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),s}log(s,a,o){this.logger(s,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(s,a={config:{}}){const o=new RealtimeChannel(`realtime:${s}`,a,this);return this.channels.push(o),o}push(s){const{topic:a,event:o,payload:_,ref:$}=s,j=()=>{this.encode(s,et=>{var rt;(rt=this.conn)===null||rt===void 0||rt.send(et)})};this.log("push",`${a} ${o} (${$})`,_),this.isConnected()?j():this.sendBuffer.push(j)}async setAuth(s=null){let a=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{a&&o.updateJoinPayload({access_token:a,version:this.headers&&this.headers["X-Client-Info"]}),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:a})}))}async sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),await this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let a=this.channels.find(o=>o.topic===s&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${s}"`),a.unsubscribe())}_remove(s){this.channels=this.channels.filter(a=>a._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,a=>{let{topic:o,event:_,payload:$,ref:j}=a;j&&j===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${$.status||""} ${o} ${_} ${j&&"("+j+")"||""}`,$),this.channels.filter(et=>et._isMember(o)).forEach(et=>et._trigger(_,$,j)),this.stateChangeCallbacks.message.forEach(et=>et(a))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(CHANNEL_EVENTS.error))}_appendParams(s,a){if(Object.keys(a).length===0)return s;const o=s.match(/\?/)?"&":"?",_=new URLSearchParams(a);return`${s}${o}${_}`}_workerObjectUrl(s){let a;if(s)a=s;else{const o=new Blob([WORKER_SCRIPT],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}}class WSWebSocketDummy{constructor(s,a,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=o.close}}class StorageError extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class StorageApiError extends StorageError{constructor(s,a){super(s),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}}var __awaiter$5=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};const resolveFetch$2=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>__vitePreload(()=>Promise.resolve().then(()=>browser),void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)},resolveResponse=()=>__awaiter$5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=i=>{if(Array.isArray(i))return i.map(a=>recursiveToCamel(a));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([a,o])=>{const _=a.replace(/([-_][a-z])/gi,$=>$.toUpperCase().replace(/[-_]/g,""));s[_]=recursiveToCamel(o)}),s};var __awaiter$4=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};const _getErrorMessage$1=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),handleError$1=(i,s,a)=>__awaiter$4(void 0,void 0,void 0,function*(){const o=yield resolveResponse();i instanceof o&&!(a!=null&&a.noResolveJson)?i.json().then(_=>{s(new StorageApiError(_getErrorMessage$1(_),i.status||500))}).catch(_=>{s(new StorageUnknownError(_getErrorMessage$1(_),_))}):s(new StorageUnknownError(_getErrorMessage$1(i),i))}),_getRequestParams$1=(i,s,a,o)=>{const _={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"?_:(_.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),o&&(_.body=JSON.stringify(o)),Object.assign(Object.assign({},_),a))};function _handleRequest$1(i,s,a,o,_,$){return __awaiter$4(this,void 0,void 0,function*(){return new Promise((j,et)=>{i(a,_getRequestParams$1(s,o,_,$)).then(rt=>{if(!rt.ok)throw rt;return o!=null&&o.noResolveJson?rt:rt.json()}).then(rt=>j(rt)).catch(rt=>handleError$1(rt,et,o))})})}function get$2(i,s,a,o){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(i,"GET",s,a,o)})}function post(i,s,a,o,_){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(i,"POST",s,o,_,a)})}function put(i,s,a,o,_){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(i,"PUT",s,o,_,a)})}function head(i,s,a,o){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(i,"HEAD",s,Object.assign(Object.assign({},a),{noResolveJson:!0}),o)})}function remove(i,s,a,o,_){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(i,"DELETE",s,o,_,a)})}var __awaiter$3=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(s,a={},o,_){this.url=s,this.headers=a,this.bucketId=o,this.fetch=resolveFetch$2(_)}uploadOrUpdate(s,a,o,_){return __awaiter$3(this,void 0,void 0,function*(){try{let $;const j=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),_);let et=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(j.upsert)});const rt=j.metadata;typeof Blob<"u"&&o instanceof Blob?($=new FormData,$.append("cacheControl",j.cacheControl),rt&&$.append("metadata",this.encodeMetadata(rt)),$.append("",o)):typeof FormData<"u"&&o instanceof FormData?($=o,$.append("cacheControl",j.cacheControl),rt&&$.append("metadata",this.encodeMetadata(rt))):($=o,et["cache-control"]=`max-age=${j.cacheControl}`,et["content-type"]=j.contentType,rt&&(et["x-metadata"]=this.toBase64(this.encodeMetadata(rt)))),_!=null&&_.headers&&(et=Object.assign(Object.assign({},et),_.headers));const nt=this._removeEmptyFolders(a),it=this._getFinalPath(nt),ot=yield this.fetch(`${this.url}/object/${it}`,Object.assign({method:s,body:$,headers:et},j!=null&&j.duplex?{duplex:j.duplex}:{})),at=yield ot.json();return ot.ok?{data:{path:nt,id:at.Id,fullPath:at.Key},error:null}:{data:null,error:at}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}upload(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,a,o)})}uploadToSignedUrl(s,a,o,_){return __awaiter$3(this,void 0,void 0,function*(){const $=this._removeEmptyFolders(s),j=this._getFinalPath($),et=new URL(this.url+`/object/upload/sign/${j}`);et.searchParams.set("token",a);try{let rt;const nt=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},_),it=Object.assign(Object.assign({},this.headers),{"x-upsert":String(nt.upsert)});typeof Blob<"u"&&o instanceof Blob?(rt=new FormData,rt.append("cacheControl",nt.cacheControl),rt.append("",o)):typeof FormData<"u"&&o instanceof FormData?(rt=o,rt.append("cacheControl",nt.cacheControl)):(rt=o,it["cache-control"]=`max-age=${nt.cacheControl}`,it["content-type"]=nt.contentType);const ot=yield this.fetch(et.toString(),{method:"PUT",body:rt,headers:it}),at=yield ot.json();return ot.ok?{data:{path:$,fullPath:at.Key},error:null}:{data:null,error:at}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}createSignedUploadUrl(s,a){return __awaiter$3(this,void 0,void 0,function*(){try{let o=this._getFinalPath(s);const _=Object.assign({},this.headers);a!=null&&a.upsert&&(_["x-upsert"]="true");const $=yield post(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:_}),j=new URL(this.url+$.url),et=j.searchParams.get("token");if(!et)throw new StorageError("No token returned by API");return{data:{signedUrl:j.toString(),path:s,token:et},error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}update(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,a,o)})}move(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}copy(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}createSignedUrl(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){try{let _=this._getFinalPath(s),$=yield post(this.fetch,`${this.url}/object/sign/${_}`,Object.assign({expiresIn:a},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const j=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return $={signedUrl:encodeURI(`${this.url}${$.signedURL}${j}`)},{data:$,error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}createSignedUrls(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){try{const _=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:s},{headers:this.headers}),$=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:_.map(j=>Object.assign(Object.assign({},j),{signedUrl:j.signedURL?encodeURI(`${this.url}${j.signedURL}${$}`):null})),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}download(s,a){return __awaiter$3(this,void 0,void 0,function*(){const _=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",$=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),j=$?`?${$}`:"";try{const et=this._getFinalPath(s);return{data:yield(yield get$2(this.fetch,`${this.url}/${_}/${et}${j}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(et){if(isStorageError(et))return{data:null,error:et};throw et}})}info(s){return __awaiter$3(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{const o=yield get$2(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:recursiveToCamel(o),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}exists(s){return __awaiter$3(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{return yield head(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(isStorageError(o)&&o instanceof StorageUnknownError){const _=o.originalError;if([400,404].includes(_==null?void 0:_.status))return{data:!1,error:o}}throw o}})}getPublicUrl(s,a){const o=this._getFinalPath(s),_=[],$=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";$!==""&&_.push($);const et=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",rt=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});rt!==""&&_.push(rt);let nt=_.join("&");return nt!==""&&(nt=`?${nt}`),{data:{publicUrl:encodeURI(`${this.url}/${et}/public/${o}${nt}`)}}}remove(s){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}list(s,a,o){return __awaiter$3(this,void 0,void 0,function*(){try{const _=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),a),{prefix:s||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,_,{headers:this.headers},o),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}}const version$2="2.7.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$2=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};class StorageBucketApi{constructor(s,a={},o){this.url=s,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),a),this.fetch=resolveFetch$2(o)}listBuckets(){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield get$2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}getBucket(s){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield get$2(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}createBucket(s,a={public:!1}){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}updateBucket(s,a){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}emptyBucket(s){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}deleteBucket(s){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}}class StorageClient extends StorageBucketApi{constructor(s,a={},o){super(s,a,o)}from(s){return new StorageFileApi(this.url,this.headers,s,this.fetch)}}const version$1="2.39.3";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`};var __awaiter$1=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};const resolveFetch$1=i=>{let s;return i?s=i:typeof fetch>"u"?s=nodeFetch:s=fetch,(...a)=>s(...a)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(i,s,a)=>{const o=resolveFetch$1(a),_=resolveHeadersConstructor();return($,j)=>__awaiter$1(void 0,void 0,void 0,function*(){var et;const rt=(et=yield s())!==null&&et!==void 0?et:i;let nt=new _(j==null?void 0:j.headers);return nt.has("apikey")||nt.set("apikey",i),nt.has("Authorization")||nt.set("Authorization",`Bearer ${rt}`),o($,Object.assign(Object.assign({},j),{headers:nt}))})};function stripTrailingSlash(i){return i.replace(/\/$/,"")}function applySettingDefaults(i,s){const{db:a,auth:o,realtime:_,global:$}=i,{db:j,auth:et,realtime:rt,global:nt}=s;return{db:Object.assign(Object.assign({},j),a),auth:Object.assign(Object.assign({},et),o),realtime:Object.assign(Object.assign({},rt),_),global:Object.assign(Object.assign({},nt),$)}}const version="2.68.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY$1="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function expiresAt(i){return Math.round(Date.now()/1e3)+i}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const s=Math.random()*16|0;return(i=="x"?s:s&3|8).toString(16)})}const isBrowser$2=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$2())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(i){const s={},a=new URL(i);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((_,$)=>{s[$]=_})}catch{}return a.searchParams.forEach((o,_)=>{s[_]=o}),s}const resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>__vitePreload(()=>Promise.resolve().then(()=>browser),void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)},looksLikeFetchResponse=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",setItemAsync=async(i,s,a)=>{await i.setItem(s,JSON.stringify(a))},getItemAsync=async(i,s)=>{const a=await i.getItem(s);if(!a)return null;try{return JSON.parse(a)}catch{return a}},removeItemAsync=async(i,s)=>{await i.removeItem(s)};function decodeBase64URL(i){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",o,_,$,j,et,rt,nt,it=0;for(i=i.replace("-","+").replace("_","/");it<i.length;)j=s.indexOf(i.charAt(it++)),et=s.indexOf(i.charAt(it++)),rt=s.indexOf(i.charAt(it++)),nt=s.indexOf(i.charAt(it++)),o=j<<2|et>>4,_=(et&15)<<4|rt>>2,$=(rt&3)<<6|nt,a=a+String.fromCharCode(o),rt!=64&&_!=0&&(a=a+String.fromCharCode(_)),nt!=64&&$!=0&&(a=a+String.fromCharCode($));return a}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((s,a)=>{this.resolve=s,this.reject=a})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(i){const s=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=i.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!s.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=a[1];return JSON.parse(decodeBase64URL(o))}async function sleep(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function retryable(i,s){return new Promise((o,_)=>{(async()=>{for(let $=0;$<1/0;$++)try{const j=await i($);if(!s($,null,j)){o(j);return}}catch(j){if(!s($,j)){_(j);return}}})()})}function dec2hex(i){return("0"+i.toString(16)).substr(-2)}function generatePKCEVerifier(){const s=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let _="";for(let $=0;$<56;$++)_+=a.charAt(Math.floor(Math.random()*o));return _}return crypto.getRandomValues(s),Array.from(s,dec2hex).join("")}async function sha256(i){const a=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",a),_=new Uint8Array(o);return Array.from(_).map($=>String.fromCharCode($)).join("")}function base64urlencode(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function generatePKCEChallenge(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const a=await sha256(i);return base64urlencode(a)}async function getCodeChallengeAndMethod(i,s,a=!1){const o=generatePKCEVerifier();let _=o;a&&(_+="/PASSWORD_RECOVERY"),await setItemAsync(i,`${s}-code-verifier`,_);const $=await generatePKCEChallenge(o);return[$,o===$?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(i){const s=i.headers.get(API_VERSION_HEADER_NAME);if(!s||!s.match(API_VERSION_REGEX))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}class AuthError extends Error{constructor(s,a,o){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function isAuthError(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class AuthApiError extends AuthError{constructor(s,a,o){super(s,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function isAuthApiError(i){return isAuthError(i)&&i.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(s,a){super(s),this.name="AuthUnknownError",this.originalError=a}}class CustomAuthError extends AuthError{constructor(s,a,o,_){super(s,o,_),this.name=a,this.status=o}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(i){return isAuthError(i)&&i.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(s,a=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(i){return isAuthError(i)&&i.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(s,a=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(s,a){super(s,"AuthRetryableFetchError",a,void 0)}}function isAuthRetryableFetchError(i){return isAuthError(i)&&i.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(s,a,o){super(s,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}var __rest$2=function(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,o=Object.getOwnPropertySymbols(i);_<o.length;_++)s.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(i,o[_])&&(a[o[_]]=i[o[_]]);return a};const _getErrorMessage=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),NETWORK_ERROR_CODES=[502,503,504];async function handleError(i){var s;if(!looksLikeFetchResponse(i))throw new AuthRetryableFetchError(_getErrorMessage(i),0);if(NETWORK_ERROR_CODES.includes(i.status))throw new AuthRetryableFetchError(_getErrorMessage(i),i.status);let a;try{a=await i.json()}catch($){throw new AuthUnknownError(_getErrorMessage($),$)}let o;const _=parseResponseAPIVersion(i);if(_&&_.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(a),i.status,((s=a.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(o==="session_not_found")throw new AuthSessionMissingError}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce(($,j)=>$&&typeof j=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(a),i.status,a.weak_password.reasons);throw new AuthApiError(_getErrorMessage(a),i.status||500,o)}const _getRequestParams=(i,s,a,o)=>{const _={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"?_:(_.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),_.body=JSON.stringify(o),Object.assign(Object.assign({},_),a))};async function _request(i,s,a,o){var _;const $=Object.assign({},o==null?void 0:o.headers);$[API_VERSION_HEADER_NAME]||($[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),o!=null&&o.jwt&&($.Authorization=`Bearer ${o.jwt}`);const j=(_=o==null?void 0:o.query)!==null&&_!==void 0?_:{};o!=null&&o.redirectTo&&(j.redirect_to=o.redirectTo);const et=Object.keys(j).length?"?"+new URLSearchParams(j).toString():"",rt=await _handleRequest(i,s,a+et,{headers:$,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(rt):{data:Object.assign({},rt),error:null}}async function _handleRequest(i,s,a,o,_,$){const j=_getRequestParams(s,o,_,$);let et;try{et=await i(a,Object.assign({},j))}catch(rt){throw console.error(rt),new AuthRetryableFetchError(_getErrorMessage(rt),0)}if(et.ok||await handleError(et),o!=null&&o.noResolveJson)return et;try{return await et.json()}catch(rt){await handleError(rt)}}function _sessionResponse(i){var s;let a=null;hasSession(i)&&(a=Object.assign({},i),i.expires_at||(a.expires_at=expiresAt(i.expires_in)));const o=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:a,user:o},error:null}}function _sessionResponsePassword(i){const s=_sessionResponse(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(s.data.weak_password=i.weak_password),s}function _userResponse(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function _ssoResponse(i){return{data:i,error:null}}function _generateLinkResponse(i){const{action_link:s,email_otp:a,hashed_token:o,redirect_to:_,verification_type:$}=i,j=__rest$2(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),et={action_link:s,email_otp:a,hashed_token:o,redirect_to:_,verification_type:$},rt=Object.assign({},j);return{data:{properties:et,user:rt},error:null}}function _noResolveJsonResponse(i){return i}function hasSession(i){return i.access_token&&i.refresh_token&&i.expires_in}var __rest$1=function(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,o=Object.getOwnPropertySymbols(i);_<o.length;_++)s.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(i,o[_])&&(a[o[_]]=i[o[_]]);return a};class GoTrueAdminApi{constructor({url:s="",headers:a={},fetch:o}){this.url=s,this.headers=a,this.fetch=resolveFetch(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,a="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async inviteUserByEmail(s,a={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async generateLink(s){try{const{options:a}=s,o=__rest$1(s,["options"]),_=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(_.new_email=o==null?void 0:o.newEmail,delete _.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:_,headers:this.headers,xform:_generateLinkResponse,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(isAuthError(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(s){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async listUsers(s){var a,o,_,$,j,et,rt;try{const nt={nextPage:null,lastPage:0,total:0},it=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=s==null?void 0:s.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:($=(_=s==null?void 0:s.perPage)===null||_===void 0?void 0:_.toString())!==null&&$!==void 0?$:""},xform:_noResolveJsonResponse});if(it.error)throw it.error;const ot=await it.json(),at=(j=it.headers.get("x-total-count"))!==null&&j!==void 0?j:0,lt=(rt=(et=it.headers.get("link"))===null||et===void 0?void 0:et.split(","))!==null&&rt!==void 0?rt:[];return lt.length>0&&(lt.forEach(gt=>{const ct=parseInt(gt.split(";")[0].split("=")[1].substring(0,1)),yt=JSON.parse(gt.split(";")[1].split("=")[1]);nt[`${yt}Page`]=ct}),nt.total=parseInt(at)),{data:Object.assign(Object.assign({},ot),nt),error:null}}catch(nt){if(isAuthError(nt))return{data:{users:[]},error:nt};throw nt}}async getUserById(s){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async updateUserById(s,a){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:a,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async deleteUser(s,a=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:a},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async _listFactors(s){try{const{data:a,error:o}=await _request(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:_=>({data:{factors:_},error:null})});return{data:a,error:o}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _deleteFactor(s){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}}const localStorageAdapter={getItem:i=>supportsLocalStorage()?globalThis.localStorage.getItem(i):null,setItem:(i,s)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(i,s)},removeItem:i=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(i)}};function memoryLocalStorageAdapter(i={}){return{getItem:s=>i[s]||null,setItem:(s,a)=>{i[s]=a},removeItem:s=>{delete i[s]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(i,s,a){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const o=new globalThis.AbortController;return s>0&&setTimeout(()=>{o.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async _=>{if(_){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,_.name);try{return await a()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,_.name)}}else{if(s===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(internals.debug)try{const $=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify($,null,"  "))}catch($){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",$)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS$1={url:GOTRUE_URL,storageKey:STORAGE_KEY$1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(i,s,a){return await a()}class GoTrueClient{constructor(s){var a,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$2()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const _=Object.assign(Object.assign({},DEFAULT_OPTIONS$1),s);if(this.logDebugMessages=!!_.debug,typeof _.debug=="function"&&(this.logger=_.debug),this.persistSession=_.persistSession,this.storageKey=_.storageKey,this.autoRefreshToken=_.autoRefreshToken,this.admin=new GoTrueAdminApi({url:_.url,headers:_.headers,fetch:_.fetch}),this.url=_.url,this.headers=_.headers,this.fetch=resolveFetch(_.fetch),this.lock=_.lock||lockNoOp,this.detectSessionInUrl=_.detectSessionInUrl,this.flowType=_.flowType,this.hasCustomAuthorizationHeader=_.hasCustomAuthorizationHeader,_.lock?this.lock=_.lock:isBrowser$2()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?_.storage?this.storage=_.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$2()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch($){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",$)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async $=>{this._debug("received broadcast notification from other tab or client",$),await this._notifyAllSubscribers($.data.event,$.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const a=parseParametersFromURL(window.location.href);let o="none";if(this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce"),isBrowser$2()&&this.detectSessionInUrl&&o!=="none"){const{data:_,error:$}=await this._getSessionFromURL(a,o);if($){if(this._debug("#_initialize()","error detecting session from URL",$),isAuthImplicitGrantRedirectError($)){const rt=(s=$.details)===null||s===void 0?void 0:s.code;if(rt==="identity_already_exists"||rt==="identity_not_found"||rt==="single_identity_not_deletable")return{error:$}}return await this._removeSession(),{error:$}}const{session:j,redirectType:et}=_;return this._debug("#_initialize()","detected session in URL",j,"redirect type",et),await this._saveSession(j),setTimeout(async()=>{et==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",j):await this._notifyAllSubscribers("SIGNED_IN",j)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return isAuthError(a)?{error:a}:{error:new AuthUnknownError("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var a,o,_;try{const $=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(_=s==null?void 0:s.options)===null||_===void 0?void 0:_.captchaToken}},xform:_sessionResponse}),{data:j,error:et}=$;if(et||!j)return{data:{user:null,session:null},error:et};const rt=j.session,nt=j.user;return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",rt)),{data:{user:nt,session:rt},error:null}}catch($){if(isAuthError($))return{data:{user:null,session:null},error:$};throw $}}async signUp(s){var a,o,_;try{let $;if("email"in s){const{email:it,password:ot,options:at}=s;let lt=null,gt=null;this.flowType==="pkce"&&([lt,gt]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),$=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:at==null?void 0:at.emailRedirectTo,body:{email:it,password:ot,data:(a=at==null?void 0:at.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:at==null?void 0:at.captchaToken},code_challenge:lt,code_challenge_method:gt},xform:_sessionResponse})}else if("phone"in s){const{phone:it,password:ot,options:at}=s;$=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:it,password:ot,data:(o=at==null?void 0:at.data)!==null&&o!==void 0?o:{},channel:(_=at==null?void 0:at.channel)!==null&&_!==void 0?_:"sms",gotrue_meta_security:{captcha_token:at==null?void 0:at.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:j,error:et}=$;if(et||!j)return{data:{user:null,session:null},error:et};const rt=j.session,nt=j.user;return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",rt)),{data:{user:nt,session:rt},error:null}}catch($){if(isAuthError($))return{data:{user:null,session:null},error:$};throw $}}async signInWithPassword(s){try{let a;if("email"in s){const{email:$,password:j,options:et}=s;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:$,password:j,gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in s){const{phone:$,password:j,options:et}=s;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:$,password:j,gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:_}=a;return _?{data:{user:null,session:null},error:_}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:_})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(s){var a,o,_,$;return await this._handleProviderSignIn(s.provider,{redirectTo:(a=s.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(_=s.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:($=s.options)===null||$===void 0?void 0:$.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[o,_]=(a??"").split("/");try{const{data:$,error:j}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:o},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),j)throw j;return!$||!$.session||!$.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:($.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),{data:Object.assign(Object.assign({},$),{redirectType:_??null}),error:j})}catch($){if(isAuthError($))return{data:{user:null,session:null,redirectType:null},error:$};throw $}}async signInWithIdToken(s){try{const{options:a,provider:o,token:_,access_token:$,nonce:j}=s,et=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:_,access_token:$,nonce:j,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponse}),{data:rt,error:nt}=et;return nt?{data:{user:null,session:null},error:nt}:!rt||!rt.session||!rt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(rt.session&&(await this._saveSession(rt.session),await this._notifyAllSubscribers("SIGNED_IN",rt.session)),{data:rt,error:nt})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(s){var a,o,_,$,j;try{if("email"in s){const{email:et,options:rt}=s;let nt=null,it=null;this.flowType==="pkce"&&([nt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:ot}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:et,data:(a=rt==null?void 0:rt.data)!==null&&a!==void 0?a:{},create_user:(o=rt==null?void 0:rt.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:rt==null?void 0:rt.captchaToken},code_challenge:nt,code_challenge_method:it},redirectTo:rt==null?void 0:rt.emailRedirectTo});return{data:{user:null,session:null},error:ot}}if("phone"in s){const{phone:et,options:rt}=s,{data:nt,error:it}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:et,data:(_=rt==null?void 0:rt.data)!==null&&_!==void 0?_:{},create_user:($=rt==null?void 0:rt.shouldCreateUser)!==null&&$!==void 0?$:!0,gotrue_meta_security:{captcha_token:rt==null?void 0:rt.captchaToken},channel:(j=rt==null?void 0:rt.channel)!==null&&j!==void 0?j:"sms"}});return{data:{user:null,session:null,messageId:nt==null?void 0:nt.message_id},error:it}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async verifyOtp(s){var a,o;try{let _,$;"options"in s&&(_=(a=s.options)===null||a===void 0?void 0:a.redirectTo,$=(o=s.options)===null||o===void 0?void 0:o.captchaToken);const{data:j,error:et}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:$}}),redirectTo:_,xform:_sessionResponse});if(et)throw et;if(!j)throw new Error("An error occurred on token verification.");const rt=j.session,nt=j.user;return rt!=null&&rt.access_token&&(await this._saveSession(rt),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",rt)),{data:{user:nt,session:rt},error:null}}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSSO(s){var a,o,_;try{let $=null,j=null;return this.flowType==="pkce"&&([$,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(o=(a=s.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((_=s==null?void 0:s.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:$,code_challenge_method:j}),headers:this.headers,xform:_ssoResponse})}catch($){if(isAuthError($))return{data:null,error:$};throw $}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)throw o;if(!a)throw new AuthSessionMissingError;const{error:_}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:_}})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const a=`${this.url}/resend`;if("email"in s){const{email:o,type:_,options:$}=s,{error:j}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:_,gotrue_meta_security:{captcha_token:$==null?void 0:$.captchaToken}},redirectTo:$==null?void 0:$.emailRedirectTo});return{data:{user:null,session:null},error:j}}else if("phone"in s){const{phone:o,type:_,options:$}=s,{data:j,error:et}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:_,gotrue_meta_security:{captcha_token:$==null?void 0:$.captchaToken}}});return{data:{user:null,session:null,messageId:j==null?void 0:j.message_id},error:et}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(s,a){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),_=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await _}catch{}})()),_}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const _=[...this.pendingInLock];await Promise.all(_),this.pendingInLock.splice(0,_.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await s(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const a=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?s=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const o=s.expires_at?s.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",s.expires_at),!o){if(this.storage.isServer){let j=this.suppressGetSessionWarning;s=new Proxy(s,{get:(rt,nt,it)=>(!j&&nt==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),j=!0,this.suppressGetSessionWarning=!0),Reflect.get(rt,nt,it))})}return{data:{session:s},error:null}}const{session:_,error:$}=await this._callRefreshToken(s.refresh_token);return $?{data:{session:null},error:$}:{data:{session:_},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:_userResponse}):await this._useSession(async a=>{var o,_,$;const{data:j,error:et}=a;if(et)throw et;return!(!((o=j.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:($=(_=j.session)===null||_===void 0?void 0:_.access_token)!==null&&$!==void 0?$:void 0,xform:_userResponse})})}catch(a){if(isAuthError(a))return isAuthSessionMissingError(a)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(s,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,a))}async _updateUser(s,a={}){try{return await this._useSession(async o=>{const{data:_,error:$}=o;if($)throw $;if(!_.session)throw new AuthSessionMissingError;const j=_.session;let et=null,rt=null;this.flowType==="pkce"&&s.email!=null&&([et,rt]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:nt,error:it}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:et,code_challenge_method:rt}),jwt:j.access_token,xform:_userResponse});if(it)throw it;return j.user=nt.user,await this._saveSession(j),await this._notifyAllSubscribers("USER_UPDATED",j),{data:{user:j.user},error:null}})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}_decodeJWT(s){return decodeJWTPayload(s)}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new AuthSessionMissingError;const a=Date.now()/1e3;let o=a,_=!0,$=null;const j=decodeJWTPayload(s.access_token);if(j.exp&&(o=j.exp,_=o<=a),_){const{session:et,error:rt}=await this._callRefreshToken(s.refresh_token);if(rt)return{data:{user:null,session:null},error:rt};if(!et)return{data:{user:null,session:null},error:null};$=et}else{const{data:et,error:rt}=await this._getUser(s.access_token);if(rt)throw rt;$={access_token:s.access_token,refresh_token:s.refresh_token,user:et.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession($),await this._notifyAllSubscribers("SIGNED_IN",$)}return{data:{user:$.user,session:$},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async a=>{var o;if(!s){const{data:j,error:et}=a;if(et)throw et;s=(o=j.session)!==null&&o!==void 0?o:void 0}if(!(s!=null&&s.refresh_token))throw new AuthSessionMissingError;const{session:_,error:$}=await this._callRefreshToken(s.refresh_token);return $?{data:{user:null,session:null},error:$}:_?{data:{user:_.user,session:_},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(s,a){try{if(!isBrowser$2())throw new AuthImplicitGrantRedirectError("No browser detected.");if(s.error||s.error_description||s.error_code)throw new AuthImplicitGrantRedirectError(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:ut,error:ht}=await this._exchangeCodeForSession(s.code);if(ht)throw ht;const mt=new URL(window.location.href);return mt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",mt.toString()),{data:{session:ut.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:_,access_token:$,refresh_token:j,expires_in:et,expires_at:rt,token_type:nt}=s;if(!$||!et||!j||!nt)throw new AuthImplicitGrantRedirectError("No session defined in URL");const it=Math.round(Date.now()/1e3),ot=parseInt(et);let at=it+ot;rt&&(at=parseInt(rt));const lt=at-it;lt*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${lt}s, should have been closer to ${ot}s`);const gt=at-ot;it-gt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",gt,at,it):it-gt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",gt,at,it);const{data:ct,error:yt}=await this._getUser($);if(yt)throw yt;const pt={provider_token:o,provider_refresh_token:_,access_token:$,expires_in:ot,expires_at:at,refresh_token:j,token_type:nt,user:ct.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:pt,redirectType:s.type},error:null}}catch(o){if(isAuthError(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&a)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:_,error:$}=a;if($)return{error:$};const j=(o=_.session)===null||o===void 0?void 0:o.access_token;if(j){const{error:et}=await this.admin.signOut(j,s);if(et&&!(isAuthApiError(et)&&(et.status===404||et.status===401||et.status===403)))return{error:et}}return s!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const a=uuid(),o={id:a,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(s){return await this._useSession(async a=>{var o,_;try{const{data:{session:$},error:j}=a;if(j)throw j;await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",$)),this._debug("INITIAL_SESSION","callback id",s,"session",$)}catch($){await((_=this.stateChangeEmitters.get(s))===null||_===void 0?void 0:_.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",$),console.error($)}})}async resetPasswordForEmail(s,a={}){let o=null,_=null;this.flowType==="pkce"&&([o,_]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:o,code_challenge_method:_,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch($){if(isAuthError($))return{data:null,error:$};throw $}}async getUserIdentities(){var s;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(s=a.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async linkIdentity(s){var a;try{const{data:o,error:_}=await this._useSession(async $=>{var j,et,rt,nt,it;const{data:ot,error:at}=$;if(at)throw at;const lt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(j=s.options)===null||j===void 0?void 0:j.redirectTo,scopes:(et=s.options)===null||et===void 0?void 0:et.scopes,queryParams:(rt=s.options)===null||rt===void 0?void 0:rt.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",lt,{headers:this.headers,jwt:(it=(nt=ot.session)===null||nt===void 0?void 0:nt.access_token)!==null&&it!==void 0?it:void 0})});if(_)throw _;return isBrowser$2()&&!(!((a=s.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:s.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(isAuthError(o))return{data:{provider:s.provider,url:null},error:o};throw o}}async unlinkIdentity(s){try{return await this._useSession(async a=>{var o,_;const{data:$,error:j}=a;if(j)throw j;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(_=(o=$.session)===null||o===void 0?void 0:o.access_token)!==null&&_!==void 0?_:void 0})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _refreshAccessToken(s){const a=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await retryable(async _=>(_>0&&await sleep(200*Math.pow(2,_-1)),this._debug(a,"refreshing attempt",_),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:_sessionResponse})),(_,$)=>{const j=200*Math.pow(2,_);return $&&isAuthRetryableFetchError($)&&Date.now()+j-o<AUTO_REFRESH_TICK_DURATION_MS})}catch(o){if(this._debug(a,"error",o),isAuthError(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(a,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",a,"url",o),isBrowser$2()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:s,url:o},error:null}}async _recoverAndRefresh(){var s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await getItemAsync(this.storage,this.storageKey);if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const _=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(a,`session has${_?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),_){if(this.autoRefreshToken&&o.refresh_token){const{error:$}=await this._callRefreshToken(o.refresh_token);$&&(console.error($),isAuthRetryableFetchError($)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",$),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(s){var a,o;if(!s)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const _=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(_,"begin");try{this.refreshingDeferred=new Deferred;const{data:$,error:j}=await this._refreshAccessToken(s);if(j)throw j;if(!$.session)throw new AuthSessionMissingError;await this._saveSession($.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",$.session);const et={session:$.session,error:null};return this.refreshingDeferred.resolve(et),et}catch($){if(this._debug(_,"error",$),isAuthError($)){const j={session:null,error:$};return isAuthRetryableFetchError($)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(j),j}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject($),$}finally{this.refreshingDeferred=null,this._debug(_,"end")}}async _notifyAllSubscribers(s,a,o=!0){const _=`#_notifyAllSubscribers(${s})`;this._debug(_,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:s,session:a});const $=[],j=Array.from(this.stateChangeEmitters.values()).map(async et=>{try{await et.callback(s,a)}catch(rt){$.push(rt)}});if(await Promise.all(j),$.length>0){for(let et=0;et<$.length;et+=1)console.error($[et]);throw $[0]}}finally{this._debug(_,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&isBrowser$2()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const _=Math.floor((o.expires_at*1e3-s)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${_} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),_<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$2()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const a=`#_onVisibilityChanged(${s})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,a,o){const _=[`provider=${encodeURIComponent(a)}`];if(o!=null&&o.redirectTo&&_.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&_.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[$,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey),et=new URLSearchParams({code_challenge:`${encodeURIComponent($)}`,code_challenge_method:`${encodeURIComponent(j)}`});_.push(et.toString())}if(o!=null&&o.queryParams){const $=new URLSearchParams(o.queryParams);_.push($.toString())}return o!=null&&o.skipBrowserRedirect&&_.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${s}?${_.join("&")}`}async _unenroll(s){try{return await this._useSession(async a=>{var o;const{data:_,error:$}=a;return $?{data:null,error:$}:await _request(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(o=_==null?void 0:_.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _enroll(s){try{return await this._useSession(async a=>{var o,_;const{data:$,error:j}=a;if(j)return{data:null,error:j};const et=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:rt,error:nt}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:et,headers:this.headers,jwt:(o=$==null?void 0:$.session)===null||o===void 0?void 0:o.access_token});return nt?{data:null,error:nt}:(s.factorType==="totp"&&(!((_=rt==null?void 0:rt.totp)===null||_===void 0)&&_.qr_code)&&(rt.totp.qr_code=`data:image/svg+xml;utf-8,${rt.totp.qr_code}`),{data:rt,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:_,error:$}=a;if($)return{data:null,error:$};const{data:j,error:et}=await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(o=_==null?void 0:_.session)===null||o===void 0?void 0:o.access_token});return et?{data:null,error:et}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+j.expires_in},j)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",j),{data:j,error:et})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:_,error:$}=a;return $?{data:null,error:$}:await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(o=_==null?void 0:_.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(s){const{data:a,error:o}=await this._challenge({factorId:s.factorId});return o?{data:null,error:o}:await this._verify({factorId:s.factorId,challengeId:a.id,code:s.code})}async _listFactors(){const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o=(s==null?void 0:s.factors)||[],_=o.filter(j=>j.factor_type==="totp"&&j.status==="verified"),$=o.filter(j=>j.factor_type==="phone"&&j.status==="verified");return{data:{all:o,totp:_,phone:$},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var a,o;const{data:{session:_},error:$}=s;if($)return{data:null,error:$};if(!_)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const j=this._decodeJWT(_.access_token);let et=null;j.aal&&(et=j.aal);let rt=et;((o=(a=_.user.factors)===null||a===void 0?void 0:a.filter(ot=>ot.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(rt="aal2");const it=j.amr||[];return{data:{currentLevel:et,nextLevel:rt,currentAuthenticationMethods:it},error:null}}))}}GoTrueClient.nextInstanceID=0;class SupabaseAuthClient extends GoTrueClient{constructor(s){super(s)}}var __awaiter=function(i,s,a,o){function _($){return $ instanceof a?$:new a(function(j){j($)})}return new(a||(a=Promise))(function($,j){function et(it){try{nt(o.next(it))}catch(ot){j(ot)}}function rt(it){try{nt(o.throw(it))}catch(ot){j(ot)}}function nt(it){it.done?$(it.value):_(it.value).then(et,rt)}nt((o=o.apply(i,s||[])).next())})};const DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};class SupabaseClient{constructor(s,a,o){var _,$,j,et,rt,nt,it,ot;if(this.supabaseUrl=s,this.supabaseKey=a,this.from=yt=>this.rest.from(yt),this.schema=yt=>this.rest.schema(yt),this.rpc=(yt,pt={},ut)=>this.rest.rpc(yt,pt,ut),!s)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const at=stripTrailingSlash(s);this.realtimeUrl=`${at}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${at}/auth/v1`,this.storageUrl=`${at}/storage/v1`,this.functionsUrl=`${at}/functions/v1`;const lt=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,gt={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:lt}),global:DEFAULT_GLOBAL_OPTIONS},ct=applySettingDefaults(o??{},gt);this.storageKey=($=(_=ct.auth)===null||_===void 0?void 0:_.storageKey)!==null&&$!==void 0?$:"",this.headers=(et=(j=ct.global)===null||j===void 0?void 0:j.headers)!==null&&et!==void 0?et:{},this.auth=this._initSupabaseAuthClient((rt=ct.auth)!==null&&rt!==void 0?rt:{},this.headers,(nt=ct.global)===null||nt===void 0?void 0:nt.fetch),this.fetch=fetchWithAuth(a,this._getAccessToken.bind(this),(it=ct.global)===null||it===void 0?void 0:it.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},ct.realtime)),this.rest=new PostgrestClient(`${at}/rest/v1`,{headers:this.headers,schema:(ot=ct.db)===null||ot===void 0?void 0:ot.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,a;return __awaiter(this,void 0,void 0,function*(){const{data:o}=yield this.auth.getSession();return(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:o,storage:_,storageKey:$,flowType:j,debug:et},rt,nt){const it={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},it),rt),storageKey:$,autoRefreshToken:s,persistSession:a,detectSessionInUrl:o,storage:_,flowType:j,debug:et,fetch:nt})}_initRealtimeClient(s){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,o)=>{this._handleTokenChanged(a,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(s,a,o){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==o?(this.realtime.setAuth(o??null),this.changedAccessToken=o):s==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(i,s,a)=>new SupabaseClient(i,s,a);var define_import_meta_env_default={VITE_SUPABASE_URL:"https://boqmfzznhbdmapqrersm.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJvcW1menpuaGJkbWFwcXJlcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDAzODIzNjksImV4cCI6MjA1NTk1ODM2OX0.5ZNBizop3cAi70mMnOVBdMyOpwnLSx66hPng3knWxfE",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function getEnvVariable(i){if(typeof window<"u"&&window.__ENV&&window.__ENV[i])return window.__ENV[i];if(define_import_meta_env_default&&define_import_meta_env_default[i])return define_import_meta_env_default[i]}const supabaseUrl=getEnvVariable("VITE_SUPABASE_URL"),supabaseKey=getEnvVariable("VITE_SUPABASE_ANON_KEY");console.log("Environment:","production");console.log("Supabase URL available:",!!supabaseUrl);console.log("Supabase Key available:",!!supabaseKey);let supabaseClient=null;try{supabaseUrl&&supabaseKey?supabaseClient=createClient(supabaseUrl,supabaseKey):(console.error("Supabase configuration is missing. Please check your environment variables."),console.error("VITE_SUPABASE_URL and/or VITE_SUPABASE_ANON_KEY are not available."))}catch(i){console.error("Failed to initialize Supabase client:",i)}const supabase=supabaseClient,TABLES={DOCUMENTS:"documents",READING_SESSIONS:"reading_sessions",USER_PREFERENCES:"user_preferences",TEXT_CHUNKS:"text_chunks",SUMMARIES:"summaries",QUIZ_RESULTS:"quiz_results",USER_NOTES:"user_notes",BOOKMARKS:"bookmarks"};async function getUserPreferences(i){try{const{error:s}=await supabase.rpc("ensure_user_preferences",{p_user_id:i});s&&console.error("Error ensuring preferences:",s);const{data:a,error:o}=await supabase.from(TABLES.USER_PREFERENCES).select("*").eq("user_id",i).single();return o?(console.error("Error fetching preferences:",o),{error:o}):{data:a}}catch(s){return console.error("Unexpected error in getUserPreferences:",s),{error:s}}}async function saveUserPreferences(i,s){try{const{error:a}=await supabase.rpc("update_user_preferences",{p_user_id:i,p_wpm:s.wpm,p_font_size:s.font_size,p_dark_mode:s.dark_mode,p_keyboard_shortcuts:s.keyboard_shortcuts,p_reading_preferences:s.reading_preferences,p_quiz_preferences:s.quiz_preferences});return a&&console.error("Error saving preferences:",a),{error:a}}catch(a){return console.error("Unexpected error in saveUserPreferences:",a),{error:a}}}const saveReading=async(i,s,a,o,_,$)=>{try{const{data:j,error:et}=await supabase.rpc("create_reading_session",{content:s,title:$||new Date().toLocaleString(),wpm:o,font_size:_||16});if(et)throw et;return a>0&&await supabase.from("reading_sessions").update({current_word_index:a}).eq("id",j),{data:{id:j},error:null}}catch(j){return console.error("Error in saveReading:",j),{data:null,error:j}}},getSavedReadings=async i=>{try{const{data:s,error:a}=await supabase.from("reading_sessions").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(a)throw a;return{data:s,error:null}}catch(s){return console.error("Error in getSavedReadings:",s),{data:null,error:s}}};async function deleteSavedReading(i,s){const{error:a}=await supabase.from(TABLES.READING_SESSIONS).delete().eq("id",s).eq("user_id",i);return{error:a}}const getReadingContent=async i=>{try{const{data:s,error:a}=await supabase.from("reading_sessions").select("storage_url, text_content").eq("id",i).single();if(a)throw a;if(s.storage_url){const{data:o,error:_}=await supabase.rpc("get_document_content",{doc_identifier:s.storage_url});if(_)throw _;return{content:o,error:null}}else if(s.text_content)return{content:s.text_content,error:null};throw new Error("No content available for this reading session")}catch(s){return console.error("Error getting reading content:",s),{content:null,error:s}}},AuthModal=({isOpen:i,onClose:s,isDarkMode:a})=>{const[o,_]=reactExports.useState(""),[$,j]=reactExports.useState(""),[et,rt]=reactExports.useState(!1),[nt,it]=reactExports.useState(!1),[ot,at]=reactExports.useState(null);if(!i)return null;const lt=async gt=>{gt.preventDefault(),at(null),rt(!0);try{if(nt){const{error:ct}=await supabase.auth.signUp({email:o,password:$});if(ct)throw ct;alert("Check your email for the confirmation link!")}else{const{error:ct}=await supabase.auth.signInWithPassword({email:o,password:$});if(ct)throw ct}s()}catch(ct){console.error("Auth error:",ct),at(ct instanceof Error?ct.message:"An error occurred")}finally{rt(!1)}};return jsxRuntimeExports.jsx("div",{className:`modal-overlay ${a?"dark":""}`,onClick:s,children:jsxRuntimeExports.jsxs("div",{className:"modal-content",onClick:gt=>gt.stopPropagation(),children:[jsxRuntimeExports.jsx("h2",{children:nt?"Create Account":"Sign In"}),ot&&jsxRuntimeExports.jsx("div",{className:"error-message",children:ot}),jsxRuntimeExports.jsxs("form",{onSubmit:lt,children:[jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:gt=>_(gt.target.value),required:!0})}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:$,onChange:gt=>j(gt.target.value),required:!0,minLength:6})}),jsxRuntimeExports.jsx("button",{type:"submit",className:"submit-button",disabled:et,children:et?"Loading...":nt?"Sign Up":"Sign In"})]}),jsxRuntimeExports.jsx("button",{className:"toggle-button",onClick:()=>it(!nt),children:nt?"Already have an account? Sign In":"Don't have an account? Sign Up"}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:s,children:"Cancel"})]})})};function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(a){var o=this;this._insertTag=function(_){var $;o.tags.length===0?o.insertionPoint?$=o.insertionPoint.nextSibling:o.prepend?$=o.container.firstChild:$=o.before:$=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(_,$),o.tags.push(_)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(o){o.forEach(this._insertTag)},s.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _=this.tags[this.tags.length-1];if(this.isSpeedy){var $=sheetForTag(_);try{$.insertRule(o,$.cssRules.length)}catch{}}else _.appendChild(document.createTextNode(o));this.ctr++},s.flush=function(){this.tags.forEach(function(o){var _;return(_=o.parentNode)==null?void 0:_.removeChild(o)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$3(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,a){return i.replace(s,a)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,a){return i.slice(s,a)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(i,s,a,o,_,$,j){return{value:i,root:s,parent:a,type:o,props:_,children:$,line,column,length:j,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,s){return substr(characters,i,s)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,s,a,o,_,$,j,et,rt){for(var nt=0,it=0,ot=j,at=0,lt=0,gt=0,ct=1,yt=1,pt=1,ut=0,ht="",mt=_,dt=$,vt=o,St=ht;yt;)switch(gt=ut,ut=next()){case 40:if(gt!=108&&charat(St,ot-1)==58){indexof(St+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(pt=-1);break}case 34:case 39:case 91:St+=delimit(ut);break;case 9:case 10:case 13:case 32:St+=whitespace(gt);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,a),rt);break;default:St+="/"}break;case 123*ct:et[nt++]=strlen(St)*pt;case 125*ct:case 59:case 0:switch(ut){case 0:case 125:yt=0;case 59+it:pt==-1&&(St=replace(St,/\f/g,"")),lt>0&&strlen(St)-ot&&append(lt>32?declaration(St+";",o,a,ot-1):declaration(replace(St," ","")+";",o,a,ot-2),rt);break;case 59:St+=";";default:if(append(vt=ruleset(St,s,a,nt,it,_,et,ht,mt=[],dt=[],ot),$),ut===123)if(it===0)parse$1(St,s,vt,vt,mt,$,ot,et,dt);else switch(at===99&&charat(St,3)===110?100:at){case 100:case 108:case 109:case 115:parse$1(i,vt,vt,o&&append(ruleset(i,vt,vt,0,0,_,et,ht,_,mt=[],ot),dt),_,dt,ot,et,o?mt:dt);break;default:parse$1(St,vt,vt,vt,[""],dt,0,et,dt)}}nt=it=lt=0,ct=pt=1,ht=St="",ot=j;break;case 58:ot=1+strlen(St),lt=gt;default:if(ct<1){if(ut==123)--ct;else if(ut==125&&ct++==0&&prev()==125)continue}switch(St+=from(ut),ut*ct){case 38:pt=it>0?1:(St+="\f",-1);break;case 44:et[nt++]=(strlen(St)-1)*pt,pt=1;break;case 64:peek()===45&&(St+=delimit(next())),at=peek(),it=ot=strlen(ht=St+=identifier(caret())),ut++;break;case 45:gt===45&&strlen(St)==2&&(ct=0)}}return $}function ruleset(i,s,a,o,_,$,j,et,rt,nt,it){for(var ot=_-1,at=_===0?$:[""],lt=sizeof(at),gt=0,ct=0,yt=0;gt<o;++gt)for(var pt=0,ut=substr(i,ot+1,ot=abs(ct=j[gt])),ht=i;pt<lt;++pt)(ht=trim(ct>0?at[pt]+" "+ut:replace(ut,/&\f/g,at[pt])))&&(rt[yt++]=ht);return node(i,s,a,_===0?RULESET:et,rt,nt,it)}function comment(i,s,a){return node(i,s,a,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,a,o){return node(i,s,a,DECLARATION,substr(i,0,o),substr(i,o+1,-1),o)}function serialize(i,s){for(var a="",o=sizeof(i),_=0;_<o;_++)a+=s(i[_],_,i,s)||"";return a}function stringify(i,s,a,o){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,o)+"}";case RULESET:i.value=i.props.join(",")}return strlen(a=serialize(i.children,o))?i.return=i.value+"{"+a+"}":""}function middleware(i){var s=sizeof(i);return function(a,o,_,$){for(var j="",et=0;et<s;et++)j+=i[et](a,o,_,$)||"";return j}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}function memoize$2(i){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=i(a)),s[a]}}var identifierWithPointTracking=function i(s,a,o){for(var _=0,$=0;_=$,$=peek(),_===38&&$===12&&(a[o]=1),!token($);)next();return slice(s,position$1)},toRules=function i(s,a){var o=-1,_=44;do switch(token(_)){case 0:_===38&&peek()===12&&(a[o]=1),s[o]+=identifierWithPointTracking(position$1-1,a,o);break;case 2:s[o]+=delimit(_);break;case 4:if(_===44){s[++o]=peek()===58?"&\f":"",a[o]=s[o].length;break}default:s[o]+=from(_)}while(_=next());return s},getRules=function i(s,a){return dealloc(toRules(alloc(s),a))},fixedElements=new WeakMap,compat=function i(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,o=s.parent,_=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(o))&&!_){fixedElements.set(s,!0);for(var $=[],j=getRules(a,$),et=o.props,rt=0,nt=0;rt<j.length;rt++)for(var it=0;it<et.length;it++,nt++)s.props[nt]=$[rt]?j[rt].replace(/&\f/g,et[it]):et[it]+" "+j[rt]}}},removeLabel=function i(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$3(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function i(s,a,o,_){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],_);case RULESET:if(s.length)return combine(s.props,function($){switch(match($,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace($,/:(read-\w+)/,":"+MOZ+"$1")]})],_);case"::placeholder":return serialize([copy(s,{props:[replace($,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace($,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace($,/:(plac\w+)/,MS+"input-$1")]})],_)}return""})}},defaultStylisPlugins=[prefixer],createCache=function i(s){var a=s.key;if(a==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(ct){var yt=ct.getAttribute("data-emotion");yt.indexOf(" ")!==-1&&(document.head.appendChild(ct),ct.setAttribute("data-s",""))})}var _=s.stylisPlugins||defaultStylisPlugins,$={},j,et=[];j=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(ct){for(var yt=ct.getAttribute("data-emotion").split(" "),pt=1;pt<yt.length;pt++)$[yt[pt]]=!0;et.push(ct)});var rt,nt=[compat,removeLabel];{var it,ot=[stringify,rulesheet(function(ct){it.insert(ct)})],at=middleware(nt.concat(_,ot)),lt=function(yt){return serialize(compile(yt),at)};rt=function(yt,pt,ut,ht){it=ut,lt(yt?yt+"{"+pt.styles+"}":pt.styles),ht&&(gt.inserted[pt.name]=!0)}}var gt={key:a,sheet:new StyleSheet({key:a,container:j,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:$,registered:{},insert:rt};return gt.sheet.hydrate(et),gt};function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)({}).hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},_extends.apply(null,arguments)}var weakMemoize=function i(s){var a=new WeakMap;return function(o){if(a.has(o))return a.get(o);var _=s(o);return a.set(o,_),_}},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l:case m:case e:case g:case f:case p:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t$1:case r$1:case h:return i;default:return s}}case d:return s}}}function A(i){return z(i)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z(i)===n};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t$1};reactIs_production_min.isMemo=function(i){return z(i)===r$1};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f};reactIs_production_min.isSuspense=function(i){return z(i)===p};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m||i===g||i===f||i===p||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,s,a){var o="";return a.split(" ").forEach(function(_){i[_]!==void 0?s.push(i[_]+";"):_&&(o+=_+" ")}),o}var registerStyles=function i(s,a,o){var _=s.key+"-"+a.name;(o===!1||isBrowser$1===!1)&&s.registered[_]===void 0&&(s.registered[_]=a.styles)},insertStyles=function i(s,a,o){registerStyles(s,a,o);var _=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var $=a;do s.insert(a===$?"."+_:"",$,s.sheet,!0),$=$.next;while($!==void 0)}};function murmur2(i){for(var s=0,a,o=0,_=i.length;_>=4;++o,_-=4)a=i.charCodeAt(o)&255|(i.charCodeAt(++o)&255)<<8|(i.charCodeAt(++o)&255)<<16|(i.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(_){case 3:s^=(i.charCodeAt(o+2)&255)<<16;case 2:s^=(i.charCodeAt(o+1)&255)<<8;case 1:s^=i.charCodeAt(o)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function i(s){return s.charCodeAt(1)===45},isProcessableValue=function i(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$2(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function i(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(o,_,$){return cursor={name:_,styles:$,next:cursor},_})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof a=="number"&&a!==0?a+"px":a};function handleInterpolation(i,s,a){if(a==null)return"";var o=a;if(o.__emotion_styles!==void 0)return o;switch(typeof a){case"boolean":return"";case"object":{var _=a;if(_.anim===1)return cursor={name:_.name,styles:_.styles,next:cursor},_.name;var $=a;if($.styles!==void 0){var j=$.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var et=$.styles+";";return et}return createStringFromObject(i,s,a)}case"function":{if(i!==void 0){var rt=cursor,nt=a(i);return cursor=rt,handleInterpolation(i,s,nt)}break}}var it=a;if(s==null)return it;var ot=s[it];return ot!==void 0?ot:it}function createStringFromObject(i,s,a){var o="";if(Array.isArray(a))for(var _=0;_<a.length;_++)o+=handleInterpolation(i,s,a[_])+";";else for(var $ in a){var j=a[$];if(typeof j!="object"){var et=j;s!=null&&s[et]!==void 0?o+=$+"{"+s[et]+"}":isProcessableValue(et)&&(o+=processStyleName($)+":"+processStyleValue($,et)+";")}else if(Array.isArray(j)&&typeof j[0]=="string"&&(s==null||s[j[0]]===void 0))for(var rt=0;rt<j.length;rt++)isProcessableValue(j[rt])&&(o+=processStyleName($)+":"+processStyleValue($,j[rt])+";");else{var nt=handleInterpolation(i,s,j);switch($){case"animation":case"animationName":{o+=processStyleName($)+":"+nt+";";break}default:o+=$+"{"+nt+"}"}}}return o}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,a){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var o=!0,_="";cursor=void 0;var $=i[0];if($==null||$.raw===void 0)o=!1,_+=handleInterpolation(a,s,$);else{var j=$;_+=j[0]}for(var et=1;et<i.length;et++)if(_+=handleInterpolation(a,s,i[et]),o){var rt=$;_+=rt[et]}labelPattern.lastIndex=0;for(var nt="",it;(it=labelPattern.exec(_))!==null;)nt+="-"+it[1];var ot=murmur2(_)+nt;return{name:ot,styles:_,next:cursor}}var syncFallback=function i(s){return s()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function i(s){return reactExports.forwardRef(function(a,o){var _=reactExports.useContext(EmotionCacheContext);return s(a,_,o)})},ThemeContext=reactExports.createContext({}),getTheme$1=function i(s,a){if(typeof a=="function"){var o=a(s);return o}return _extends({},s,a)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function i(s){var a=reactExports.useContext(ThemeContext);return s.theme!==a&&(a=createCacheWithTheme(a)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:a},s.children)},Global=withEmotionCache(function(i,s){var a=i.styles,o=serializeStyles([a],void 0,reactExports.useContext(ThemeContext)),_=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var $=s.key+"-global",j=new s.sheet.constructor({key:$,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),et=!1,rt=document.querySelector('style[data-emotion="'+$+" "+o.name+'"]');return s.sheet.tags.length&&(j.before=s.sheet.tags[0]),rt!==null&&(et=!0,rt.setAttribute("data-emotion",$),j.hydrate([rt])),_.current=[j,et],function(){j.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var $=_.current,j=$[0],et=$[1];if(et){$[1]=!1;return}if(o.next!==void 0&&insertStyles(s,o.next,!0),j.tags.length){var rt=j.tags[j.tags.length-1].nextElementSibling;j.before=rt,j.flush()}s.insert("",o,j,!1)},[s,o.name]),null});function css$2(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return serializeStyles(s)}var keyframes$1=function i(){var s=css$2.apply(void 0,arguments),a="animation-"+s.name;return{name:a,styles:"@keyframes "+a+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:i=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${i} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${i} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${i} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${i} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${i} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${i} :where(b, strong) {
        font-weight: bold;
      }

      ${i} small {
        font-size: 80%;
      }

      ${i} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${i} sub {
        bottom: -0.25em;
      }

      ${i} sup {
        top: -0.5em;
      }

      ${i} img {
        border-style: none;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${i} :where(button, input) {
        overflow: visible;
      }

      ${i} :where(button, select) {
        text-transform: none;
      }

      ${i} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${i} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${i} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${i} progress {
        vertical-align: baseline;
      }

      ${i} textarea {
        overflow: auto;
      }

      ${i} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${i} input[type="number"]::-webkit-inner-spin-button,
      ${i} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${i} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${i} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${i} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${i} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${i} details {
        display: block;
      }

      ${i} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${i} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${i} button {
        background: transparent;
        padding: 0;
      }

      ${i} fieldset {
        margin: 0;
        padding: 0;
      }

      ${i} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${i} textarea {
        resize: vertical;
      }

      ${i} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${i} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${i} table {
        border-collapse: collapse;
      }

      ${i} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${i} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${i} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${i} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$1(i={}){const{name:s,strict:a=!0,hookName:o="useContext",providerName:_="Provider",errorMessage:$,defaultValue:j}=i,et=reactExports.createContext(j);et.displayName=s;function rt(){var nt;const it=reactExports.useContext(et);if(!it&&a){const ot=new Error($??getErrorMessage(o,_));throw ot.name="ContextError",(nt=Error.captureStackTrace)==null||nt.call(Error,ot,rt),ot}return it}return[et.Provider,rt,et]}var[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:a}=i;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:a},children:s})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:a}=i,[o,_]=reactExports.useState(null),$=reactExports.useRef(null),[,j]=reactExports.useState({});reactExports.useEffect(()=>j({}),[]);const et=usePortalContext(),rt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!o)return;const it=o.ownerDocument,ot=s?et??it.body:it.body;if(!ot)return;$.current=it.createElement("div"),$.current.className=PORTAL_CLASSNAME,ot.appendChild($.current),j({});const at=$.current;return()=>{ot.contains(at)&&ot.removeChild(at)}},[o]);const nt=rt!=null&&rt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:rt==null?void 0:rt.zIndex,children:a}):a;return $.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:$.current,children:nt}),$.current):jsxRuntimeExports.jsx("span",{ref:it=>{it&&_(it)}})},ContainerPortal=i=>{const{children:s,containerRef:a,appendToParentPortal:o}=i,_=a.current,$=_??(typeof window<"u"?document.body:void 0),j=reactExports.useMemo(()=>{const rt=_==null?void 0:_.ownerDocument.createElement("div");return rt&&(rt.className=PORTAL_CLASSNAME),rt},[_]),[,et]=reactExports.useState({});return useSafeLayoutEffect$1(()=>et({}),[]),useSafeLayoutEffect$1(()=>{if(!(!j||!$))return $.appendChild(j),()=>{$.removeChild(j)}},[j,$]),$&&j?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:o?j:null,children:s}),j):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:a,...o}=s;return a?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:a,...o}):jsxRuntimeExports.jsx(DefaultPortal,{...o})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const i=reactExports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}var ColorModeContext$1=reactExports.createContext({});ColorModeContext$1.displayName="ColorModeContext";function useColorMode(){const i=reactExports.useContext(ColorModeContext$1);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0}=i,a={setDataset:o=>{const _=s?a.preventTransition():void 0;document.documentElement.dataset.theme=o,document.documentElement.style.colorScheme=o,_==null||_()},setClassName(o){document.body.classList.add(o?classNames.dark:classNames.light),document.body.classList.remove(o?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(o){var _;return((_=a.query().matches)!=null?_:o==="dark")?"dark":"light"},addListener(o){const _=a.query(),$=j=>{o(j.matches?"dark":"light")};return typeof _.addListener=="function"?_.addListener($):_.addEventListener("change",$),()=>{typeof _.removeListener=="function"?_.removeListener($):_.removeEventListener("change",$)}},preventTransition(){const o=document.createElement("style");return o.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(o),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(o)})})}}};return a}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let a;try{a=localStorage.getItem(i)||s}catch{}return a||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$1=()=>{};function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}function ColorModeProvider$1(i){const{value:s,children:a,options:{useSystemColorMode:o,initialColorMode:_,disableTransitionOnChange:$}={},colorModeManager:j=localStorageManager}=i,et=_==="dark"?"dark":"light",[rt,nt]=reactExports.useState(()=>getTheme(j,et)),[it,ot]=reactExports.useState(()=>getTheme(j)),{getSystemTheme:at,setClassName:lt,setDataset:gt,addListener:ct}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:$}),[$]),yt=_==="system"&&!rt?it:rt,pt=reactExports.useCallback(mt=>{const dt=mt==="system"?at():mt;nt(dt),lt(dt==="dark"),gt(dt),j.set(dt)},[j,at,lt,gt]);useSafeLayoutEffect$1(()=>{_==="system"&&ot(at())},[]),reactExports.useEffect(()=>{const mt=j.get();if(mt){pt(mt);return}if(_==="system"){pt("system");return}pt(et)},[j,et,_,pt]);const ut=reactExports.useCallback(()=>{pt(yt==="dark"?"light":"dark")},[yt,pt]);reactExports.useEffect(()=>{if(o)return ct(pt)},[o,ct,pt]);const ht=reactExports.useMemo(()=>({colorMode:s??yt,toggleColorMode:s?noop$1:ut,setColorMode:s?noop$1:pt,forced:s!==void 0}),[yt,ut,pt,s]);return jsxRuntimeExports.jsx(ColorModeContext$1.Provider,{value:ht,children:a})}ColorModeProvider$1.displayName="ColorModeProvider";function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}var cx=(...i)=>i.filter(Boolean).join(" ");function isObject(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!Array.isArray(i)}function runIfFn$2(i,...s){return isFunction$3(i)?i(...s):i}var isFunction$3=i=>typeof i=="function",dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers(...i){return function(a){i.some(o=>(o==null||o(a),a==null?void 0:a.defaultPrevented))}}function callAll(...i){return function(a){i.forEach(o=>{o==null||o(a)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(i,s){var a=200,o="__lodash_hash_undefined__",_=800,$=16,j=9007199254740991,et="[object Arguments]",rt="[object Array]",nt="[object AsyncFunction]",it="[object Boolean]",ot="[object Date]",at="[object Error]",lt="[object Function]",gt="[object GeneratorFunction]",ct="[object Map]",yt="[object Number]",pt="[object Null]",ut="[object Object]",ht="[object Proxy]",mt="[object RegExp]",dt="[object Set]",vt="[object String]",St="[object Undefined]",_t="[object WeakMap]",Et="[object ArrayBuffer]",Pt="[object DataView]",Mt="[object Float32Array]",Rt="[object Float64Array]",Ut="[object Int8Array]",Ct="[object Int16Array]",Kt="[object Int32Array]",Gt="[object Uint8Array]",It="[object Uint8ClampedArray]",jt="[object Uint16Array]",$t="[object Uint32Array]",Jt=/[\\^$.*+?()[\]{}|]/g,Wt=/^\[object .+?Constructor\]$/,tr=/^(?:0|[1-9]\d*)$/,mr={};mr[Mt]=mr[Rt]=mr[Ut]=mr[Ct]=mr[Kt]=mr[Gt]=mr[It]=mr[jt]=mr[$t]=!0,mr[et]=mr[rt]=mr[Et]=mr[it]=mr[Pt]=mr[ot]=mr[at]=mr[lt]=mr[ct]=mr[yt]=mr[ut]=mr[mt]=mr[dt]=mr[vt]=mr[_t]=!1;var Yt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,kt=typeof self=="object"&&self&&self.Object===Object&&self,Ft=Yt||kt||Function("return this")(),er=s&&!s.nodeType&&s,Zt=er&&!0&&i&&!i.nodeType&&i,At=Zt&&Zt.exports===er,Ot=At&&Yt.process,Dt=function(){try{var or=Zt&&Zt.require&&Zt.require("util").types;return or||Ot&&Ot.binding&&Ot.binding("util")}catch{}}(),zt=Dt&&Dt.isTypedArray;function Xt(or,yr,Ir){switch(Ir.length){case 0:return or.call(yr);case 1:return or.call(yr,Ir[0]);case 2:return or.call(yr,Ir[0],Ir[1]);case 3:return or.call(yr,Ir[0],Ir[1],Ir[2])}return or.apply(yr,Ir)}function wt(or,yr){for(var Ir=-1,Xr=Array(or);++Ir<or;)Xr[Ir]=yr(Ir);return Xr}function Vt(or){return function(yr){return or(yr)}}function qt(or,yr){return or==null?void 0:or[yr]}function Nt(or,yr){return function(Ir){return or(yr(Ir))}}var Bt=Array.prototype,Qt=Function.prototype,sr=Object.prototype,lr=Ft["__core-js_shared__"],ar=Qt.toString,vr=sr.hasOwnProperty,_r=function(){var or=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return or?"Symbol(src)_1."+or:""}(),Cr=sr.toString,Er=ar.call(Object),qr=RegExp("^"+ar.call(vr).replace(Jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=At?Ft.Buffer:void 0,Vr=Ft.Symbol,Dr=Ft.Uint8Array;Ur&&Ur.allocUnsafe;var hr=Nt(Object.getPrototypeOf,Object),Or=Object.create,Wr=sr.propertyIsEnumerable,gn=Bt.splice,Ar=Vr?Vr.toStringTag:void 0,Nr=function(){try{var or=fo(Object,"defineProperty");return or({},"",{}),or}catch{}}(),Jr=Ur?Ur.isBuffer:void 0,wr=Math.max,dr=Date.now,fr=fo(Ft,"Map"),Rr=fo(Object,"create"),Yr=function(){function or(){}return function(yr){if(!ds(yr))return{};if(Or)return Or(yr);or.prototype=yr;var Ir=new or;return or.prototype=void 0,Ir}}();function Qr(or){var yr=-1,Ir=or==null?0:or.length;for(this.clear();++yr<Ir;){var Xr=or[yr];this.set(Xr[0],Xr[1])}}function Pr(){this.__data__=Rr?Rr(null):{},this.size=0}function br(or){var yr=this.has(or)&&delete this.__data__[or];return this.size-=yr?1:0,yr}function Lr(or){var yr=this.__data__;if(Rr){var Ir=yr[or];return Ir===o?void 0:Ir}return vr.call(yr,or)?yr[or]:void 0}function Hr(or){var yr=this.__data__;return Rr?yr[or]!==void 0:vr.call(yr,or)}function nn(or,yr){var Ir=this.__data__;return this.size+=this.has(or)?0:1,Ir[or]=Rr&&yr===void 0?o:yr,this}Qr.prototype.clear=Pr,Qr.prototype.delete=br,Qr.prototype.get=Lr,Qr.prototype.has=Hr,Qr.prototype.set=nn;function rn(or){var yr=-1,Ir=or==null?0:or.length;for(this.clear();++yr<Ir;){var Xr=or[yr];this.set(Xr[0],Xr[1])}}function sn(){this.__data__=[],this.size=0}function hn(or){var yr=this.__data__,Ir=uo(yr,or);if(Ir<0)return!1;var Xr=yr.length-1;return Ir==Xr?yr.pop():gn.call(yr,Ir,1),--this.size,!0}function en(or){var yr=this.__data__,Ir=uo(yr,or);return Ir<0?void 0:yr[Ir][1]}function xn(or){return uo(this.__data__,or)>-1}function Bn(or,yr){var Ir=this.__data__,Xr=uo(Ir,or);return Xr<0?(++this.size,Ir.push([or,yr])):Ir[Xr][1]=yr,this}rn.prototype.clear=sn,rn.prototype.delete=hn,rn.prototype.get=en,rn.prototype.has=xn,rn.prototype.set=Bn;function vn(or){var yr=-1,Ir=or==null?0:or.length;for(this.clear();++yr<Ir;){var Xr=or[yr];this.set(Xr[0],Xr[1])}}function Rn(){this.size=0,this.__data__={hash:new Qr,map:new(fr||rn),string:new Qr}}function Vn(or){var yr=Ro(this,or).delete(or);return this.size-=yr?1:0,yr}function Fn(or){return Ro(this,or).get(or)}function Yn(or){return Ro(this,or).has(or)}function jn(or,yr){var Ir=Ro(this,or),Xr=Ir.size;return Ir.set(or,yr),this.size+=Ir.size==Xr?0:1,this}vn.prototype.clear=Rn,vn.prototype.delete=Vn,vn.prototype.get=Fn,vn.prototype.has=Yn,vn.prototype.set=jn;function rs(or){var yr=this.__data__=new rn(or);this.size=yr.size}function Ms(){this.__data__=new rn,this.size=0}function us(or){var yr=this.__data__,Ir=yr.delete(or);return this.size=yr.size,Ir}function xa(or){return this.__data__.get(or)}function lo(or){return this.__data__.has(or)}function $a(or,yr){var Ir=this.__data__;if(Ir instanceof rn){var Xr=Ir.__data__;if(!fr||Xr.length<a-1)return Xr.push([or,yr]),this.size=++Ir.size,this;Ir=this.__data__=new vn(Xr)}return Ir.set(or,yr),this.size=Ir.size,this}rs.prototype.clear=Ms,rs.prototype.delete=us,rs.prototype.get=xa,rs.prototype.has=lo,rs.prototype.set=$a;function cs(or,yr){var Ir=yl(or),Xr=!Ir&&Kl(or),_n=!Ir&&!Xr&&Yl(or),$n=!Ir&&!Xr&&!_n&&Xl(or),Nn=Ir||Xr||_n||$n,an=Nn?wt(or.length,String):[],Cn=an.length;for(var Xn in or)Nn&&(Xn=="length"||_n&&(Xn=="offset"||Xn=="parent")||$n&&(Xn=="buffer"||Xn=="byteLength"||Xn=="byteOffset")||ns(Xn,Cn))||an.push(Xn);return an}function bs(or,yr,Ir){(Ir!==void 0&&!$o(or[yr],Ir)||Ir===void 0&&!(yr in or))&&ms(or,yr,Ir)}function ks(or,yr,Ir){var Xr=or[yr];(!(vr.call(or,yr)&&$o(Xr,Ir))||Ir===void 0&&!(yr in or))&&ms(or,yr,Ir)}function uo(or,yr){for(var Ir=or.length;Ir--;)if($o(or[Ir][0],yr))return Ir;return-1}function ms(or,yr,Ir){yr=="__proto__"&&Nr?Nr(or,yr,{configurable:!0,enumerable:!0,value:Ir,writable:!0}):or[yr]=Ir}var du=Ds();function co(or){return or==null?or===void 0?St:pt:Ar&&Ar in Object(or)?ho(or):Hl(or)}function Ll(or){return Ks(or)&&co(or)==et}function Po(or){if(!ds(or)||Zo(or))return!1;var yr=Oo(or)?qr:Wt;return yr.test(yu(or))}function Nl(or){return Ks(or)&&js(or.length)&&!!mr[co(or)]}function Bl(or){if(!ds(or))return Ls(or);var yr=eo(or),Ir=[];for(var Xr in or)Xr=="constructor"&&(yr||!vr.call(or,Xr))||Ir.push(Xr);return Ir}function zl(or,yr,Ir,Xr,_n){or!==yr&&du(yr,function($n,Nn){if(_n||(_n=new rs),ds($n))fu(or,yr,Nn,Ir,zl,Xr,_n);else{var an=Xr?Xr(Gl(or,Nn),$n,Nn+"",or,yr,_n):void 0;an===void 0&&(an=$n),bs(or,Nn,an)}},mo)}function fu(or,yr,Ir,Xr,_n,$n,Nn){var an=Gl(or,Ir),Cn=Gl(yr,Ir),Xn=Nn.get(Cn);if(Xn){bs(or,Ir,Xn);return}var os=$n?$n(an,Cn,Ir+"",or,yr,Nn):void 0,Ys=os===void 0;if(Ys){var qn=yl(Cn),Ns=!qn&&Yl(Cn),go=!qn&&!Ns&&Xl(Cn);os=Cn,qn||Ns||go?yl(an)?os=an:bu(an)?os=Ul(an):Ns?(Ys=!1,os=Xo(Cn)):go?(Ys=!1,os=mu(Cn)):os=[]:qu(Cn)||Kl(Cn)?(os=an,Kl(an)?os=xl(an):(!ds(an)||Oo(an))&&(os=Io(Cn))):Ys=!1}Ys&&(Nn.set(Cn,os),_n(os,Cn,Xr,$n,Nn),Nn.delete(Cn)),bs(or,Ir,os)}function hu(or,yr){return Jo(vu(or,yr,Mn),or+"")}var Wl=Nr?function(or,yr){return Nr(or,"toString",{configurable:!0,enumerable:!1,value:In(yr),writable:!0})}:Mn;function Xo(or,yr){return or.slice()}function pu(or){var yr=new or.constructor(or.byteLength);return new Dr(yr).set(new Dr(or)),yr}function mu(or,yr){var Ir=pu(or.buffer);return new or.constructor(Ir,or.byteOffset,or.length)}function Ul(or,yr){var Ir=-1,Xr=or.length;for(yr||(yr=Array(Xr));++Ir<Xr;)yr[Ir]=or[Ir];return yr}function Gu(or,yr,Ir,Xr){var _n=!Ir;Ir||(Ir={});for(var $n=-1,Nn=yr.length;++$n<Nn;){var an=yr[$n],Cn=void 0;Cn===void 0&&(Cn=or[an]),_n?ms(Ir,an,Cn):ks(Ir,an,Cn)}return Ir}function Vl(or){return hu(function(yr,Ir){var Xr=-1,_n=Ir.length,$n=_n>1?Ir[_n-1]:void 0,Nn=_n>2?Ir[2]:void 0;for($n=or.length>3&&typeof $n=="function"?(_n--,$n):void 0,Nn&&gu(Ir[0],Ir[1],Nn)&&($n=_n<3?void 0:$n,_n=1),yr=Object(yr);++Xr<_n;){var an=Ir[Xr];an&&or(yr,an,Xr,$n)}return yr})}function Ds(or){return function(yr,Ir,Xr){for(var _n=-1,$n=Object(yr),Nn=Xr(yr),an=Nn.length;an--;){var Cn=Nn[++_n];if(Ir($n[Cn],Cn,$n)===!1)break}return yr}}function Ro(or,yr){var Ir=or.__data__;return Qo(yr)?Ir[typeof yr=="string"?"string":"hash"]:Ir.map}function fo(or,yr){var Ir=qt(or,yr);return Po(Ir)?Ir:void 0}function ho(or){var yr=vr.call(or,Ar),Ir=or[Ar];try{or[Ar]=void 0;var Xr=!0}catch{}var _n=Cr.call(or);return Xr&&(yr?or[Ar]=Ir:delete or[Ar]),_n}function Io(or){return typeof or.constructor=="function"&&!eo(or)?Yr(hr(or)):{}}function ns(or,yr){var Ir=typeof or;return yr=yr??j,!!yr&&(Ir=="number"||Ir!="symbol"&&tr.test(or))&&or>-1&&or%1==0&&or<yr}function gu(or,yr,Ir){if(!ds(Ir))return!1;var Xr=typeof yr;return(Xr=="number"?Sl(Ir)&&ns(yr,Ir.length):Xr=="string"&&yr in Ir)?$o(Ir[yr],or):!1}function Qo(or){var yr=typeof or;return yr=="string"||yr=="number"||yr=="symbol"||yr=="boolean"?or!=="__proto__":or===null}function Zo(or){return!!_r&&_r in or}function eo(or){var yr=or&&or.constructor,Ir=typeof yr=="function"&&yr.prototype||sr;return or===Ir}function Ls(or){var yr=[];if(or!=null)for(var Ir in Object(or))yr.push(Ir);return yr}function Hl(or){return Cr.call(or)}function vu(or,yr,Ir){return yr=wr(yr===void 0?or.length-1:yr,0),function(){for(var Xr=arguments,_n=-1,$n=wr(Xr.length-yr,0),Nn=Array($n);++_n<$n;)Nn[_n]=Xr[yr+_n];_n=-1;for(var an=Array(yr+1);++_n<yr;)an[_n]=Xr[_n];return an[yr]=Ir(Nn),Xt(or,this,an)}}function Gl(or,yr){if(!(yr==="constructor"&&typeof or[yr]=="function")&&yr!="__proto__")return or[yr]}var Jo=po(Wl);function po(or){var yr=0,Ir=0;return function(){var Xr=dr(),_n=$-(Xr-Ir);if(Ir=Xr,_n>0){if(++yr>=_)return arguments[0]}else yr=0;return or.apply(void 0,arguments)}}function yu(or){if(or!=null){try{return ar.call(or)}catch{}try{return or+""}catch{}}return""}function $o(or,yr){return or===yr||or!==or&&yr!==yr}var Kl=Ll(function(){return arguments}())?Ll:function(or){return Ks(or)&&vr.call(or,"callee")&&!Wr.call(or,"callee")},yl=Array.isArray;function Sl(or){return or!=null&&js(or.length)&&!Oo(or)}function bu(or){return Ks(or)&&Sl(or)}var Yl=Jr||Ku;function Oo(or){if(!ds(or))return!1;var yr=co(or);return yr==lt||yr==gt||yr==nt||yr==ht}function js(or){return typeof or=="number"&&or>-1&&or%1==0&&or<=j}function ds(or){var yr=typeof or;return or!=null&&(yr=="object"||yr=="function")}function Ks(or){return or!=null&&typeof or=="object"}function qu(or){if(!Ks(or)||co(or)!=ut)return!1;var yr=hr(or);if(yr===null)return!0;var Ir=vr.call(yr,"constructor")&&yr.constructor;return typeof Ir=="function"&&Ir instanceof Ir&&ar.call(Ir)==Er}var Xl=zt?Vt(zt):Nl;function xl(or){return Gu(or,mo(or))}function mo(or){return Sl(or)?cs(or):Bl(or)}var _l=Vl(function(or,yr,Ir,Xr){zl(or,yr,Ir,Xr)});function In(or){return function(){return or}}function Mn(or){return or}function Ku(){return!1}i.exports=_l})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);var isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>a=>{const o=String(s),_=isImportant(o),$=withoutImportant(o),j=i?`${i}.${$}`:$;let et=isObject(a.__cssMap)&&j in a.__cssMap?a.__cssMap[j].varRef:s;return et=withoutImportant(et),_?`${et} !important`:et};function createTransform(i){const{scale:s,transform:a,compose:o}=i;return($,j)=>{var et;const rt=tokenToCSSVar(s,$)(j);let nt=(et=a==null?void 0:a(rt,j))!=null?et:rt;return o&&(nt=o(nt,j)),nt}}var pipe$2=(...i)=>s=>i.reduce((a,o)=>o(a),s);function toConfig(i,s){return a=>{const o={property:a,scale:i};return o.transform=createTransform({scale:i,transform:s}),o}}var getRtl=({rtl:i,ltr:s})=>a=>a.direction==="rtl"?i:s;function logical(i){const{property:s,scale:a,transform:o}=i;return{scale:a,property:getRtl(s),transform:a?createTransform({scale:a,compose:o}):o}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){if(i==null||globalSet.has(i))return i;if(!(isCSSFunction(i)||globalSet.has(i)))return`url('${i}')`;const _=/(^[a-z-A-Z]+)\((.*)\)/g.exec(i),$=_==null?void 0:_[1],j=_==null?void 0:_[2];if(!$||!j)return i;const et=$.includes("-gradient")?$:`${$}-gradient`,[rt,...nt]=j.split(",").map(trimSpace).filter(Boolean);if((nt==null?void 0:nt.length)===0)return i;const it=rt in directionMap?directionMap[rt]:rt;nt.unshift(it);const ot=nt.map(at=>{if(valueSet.has(at))return at;const lt=at.indexOf(" "),[gt,ct]=lt!==-1?[at.substr(0,lt),at.substr(lt+1)]:[at],yt=isCSSFunction(ct)?ct:ct&&ct.split(" "),pt=`colors.${gt}`,ut=pt in s.__cssMap?s.__cssMap[pt].varRef:gt;return yt?[ut,...Array.isArray(yt)?yt:[yt]].join(" "):ut});return`${et}(${ot.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s??{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const a={left:"right",right:"left"};return s.direction==="rtl"?a[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:i=>wrap("hue-rotate")(transformFunctions.degree(i)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var s;const{space:a,divide:o}=(s=flexDirectionTemplate[i])!=null?s:{},_={flexDirection:i};return a&&(_[a]=1),o&&(_[o]=1),_}},t={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,a){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:a})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t.colors("background"),backgroundColor:t.colors("backgroundColor"),backgroundImage:t.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t.prop("backgroundSize"),bgPosition:t.prop("backgroundPosition"),bg:t.colors("background"),bgColor:t.colors("backgroundColor"),bgPos:t.prop("backgroundPosition"),bgRepeat:t.prop("backgroundRepeat"),bgAttachment:t.prop("backgroundAttachment"),bgGradient:t.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t.borders("border"),borderWidth:t.borderWidths("borderWidth"),borderStyle:t.borderStyles("borderStyle"),borderColor:t.colors("borderColor"),borderRadius:t.radii("borderRadius"),borderTop:t.borders("borderTop"),borderBlockStart:t.borders("borderBlockStart"),borderTopLeftRadius:t.radii("borderTopLeftRadius"),borderStartStartRadius:t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t.radii("borderTopRightRadius"),borderStartEndRadius:t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t.borders("borderRight"),borderInlineEnd:t.borders("borderInlineEnd"),borderBottom:t.borders("borderBottom"),borderBlockEnd:t.borders("borderBlockEnd"),borderBottomLeftRadius:t.radii("borderBottomLeftRadius"),borderBottomRightRadius:t.radii("borderBottomRightRadius"),borderLeft:t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t.borders(["borderLeft","borderRight"]),borderInline:t.borders("borderInline"),borderY:t.borders(["borderTop","borderBottom"]),borderBlock:t.borders("borderBlock"),borderTopWidth:t.borderWidths("borderTopWidth"),borderBlockStartWidth:t.borderWidths("borderBlockStartWidth"),borderTopColor:t.colors("borderTopColor"),borderBlockStartColor:t.colors("borderBlockStartColor"),borderTopStyle:t.borderStyles("borderTopStyle"),borderBlockStartStyle:t.borderStyles("borderBlockStartStyle"),borderBottomWidth:t.borderWidths("borderBottomWidth"),borderBlockEndWidth:t.borderWidths("borderBlockEndWidth"),borderBottomColor:t.colors("borderBottomColor"),borderBlockEndColor:t.colors("borderBlockEndColor"),borderBottomStyle:t.borderStyles("borderBottomStyle"),borderBlockEndStyle:t.borderStyles("borderBlockEndStyle"),borderLeftWidth:t.borderWidths("borderLeftWidth"),borderInlineStartWidth:t.borderWidths("borderInlineStartWidth"),borderLeftColor:t.colors("borderLeftColor"),borderInlineStartColor:t.colors("borderInlineStartColor"),borderLeftStyle:t.borderStyles("borderLeftStyle"),borderInlineStartStyle:t.borderStyles("borderInlineStartStyle"),borderRightWidth:t.borderWidths("borderRightWidth"),borderInlineEndWidth:t.borderWidths("borderInlineEndWidth"),borderRightColor:t.colors("borderRightColor"),borderInlineEndColor:t.colors("borderInlineEndColor"),borderRightStyle:t.borderStyles("borderRightStyle"),borderInlineEndStyle:t.borderStyles("borderInlineEndStyle"),borderTopRadius:t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t.colors("color"),textColor:t.colors("color"),fill:t.colors("fill"),stroke:t.colors("stroke")},effect$3={boxShadow:t.shadows("boxShadow"),mixBlendMode:!0,blendMode:t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});var filter$1={filter:{transform:transformFunctions.filter},blur:t.blur("--chakra-blur"),brightness:t.propT("--chakra-brightness",transformFunctions.brightness),contrast:t.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t.propT("--chakra-invert",transformFunctions.invert),saturate:t.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t.blur("--chakra-backdrop-blur"),backdropBrightness:t.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t.space("gap"),rowGap:t.space("rowGap"),columnGap:t.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t.space("gridGap"),gridColumnGap:t.space("gridColumnGap"),gridRowGap:t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t.colors("outlineColor")},layout$1={width:t.sizesT("width"),inlineSize:t.sizesT("inlineSize"),height:t.sizes("height"),blockSize:t.sizes("blockSize"),boxSize:t.sizes(["width","height"]),minWidth:t.sizes("minWidth"),minInlineSize:t.sizes("minInlineSize"),minHeight:t.sizes("minHeight"),minBlockSize:t.sizes("minBlockSize"),maxWidth:t.sizes("maxWidth"),maxInlineSize:t.sizes("maxInlineSize"),maxHeight:t.sizes("maxHeight"),maxBlockSize:t.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(i,s)=>{var a,o,_;return{[`@media screen and (min-width: ${(_=(o=(a=s.__breakpoints)==null?void 0:a.get(i))==null?void 0:o.minW)!=null?_:i})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(i,s)=>{var a,o,_;return{[`@media screen and (max-width: ${(_=(o=(a=s.__breakpoints)==null?void 0:a.get(i))==null?void 0:o._minW)!=null?_:i})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list={listStyleType:!0,listStylePosition:!0,listStylePos:t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t.prop("listStyleImage")};function get$1(i,s,a,o){const _=typeof s=="string"?s.split("."):[s];for(o=0;o<_.length&&i;o+=1)i=i[_[o]];return i===void 0?a:i}var memoize$1=i=>{const s=new WeakMap;return(o,_,$,j)=>{if(typeof o>"u")return i(o,_,$);s.has(o)||s.set(o,new Map);const et=s.get(o);if(et.has(_))return et.get(_);const rt=i(o,_,$,j);return et.set(_,rt),rt}},memoizedGet$1=memoize$1(get$1),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,a)=>{const o={},_=memoizedGet$1(i,s,{});for(const $ in _)$ in a&&a[$]!=null||(o[$]=_[$]);return o},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`layerStyles.${i}`,a)},textStyle:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,`textStyles.${i}`,a)},apply:{processResult:!0,transform:(i,s,a)=>getWithPriority(s,i,a)}},position={position:!0,pos:t.prop("position"),zIndex:t.prop("zIndex","zIndices"),inset:t.spaceT("inset"),insetX:t.spaceT(["left","right"]),insetInline:t.spaceT("insetInline"),insetY:t.spaceT(["top","bottom"]),insetBlock:t.spaceT("insetBlock"),top:t.spaceT("top"),insetBlockStart:t.spaceT("insetBlockStart"),bottom:t.spaceT("bottom"),insetBlockEnd:t.spaceT("insetBlockEnd"),left:t.spaceT("left"),insetInlineStart:t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t.spaceT("right"),insetInlineEnd:t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t.colors("--chakra-ring-color"),ringOffset:t.prop("--chakra-ring-offset-width"),ringOffsetColor:t.colors("--chakra-ring-offset-color"),ringInset:t.prop("--chakra-ring-inset")},space={margin:t.spaceT("margin"),marginTop:t.spaceT("marginTop"),marginBlockStart:t.spaceT("marginBlockStart"),marginRight:t.spaceT("marginRight"),marginInlineEnd:t.spaceT("marginInlineEnd"),marginBottom:t.spaceT("marginBottom"),marginBlockEnd:t.spaceT("marginBlockEnd"),marginLeft:t.spaceT("marginLeft"),marginInlineStart:t.spaceT("marginInlineStart"),marginX:t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t.spaceT("marginInline"),marginY:t.spaceT(["marginTop","marginBottom"]),marginBlock:t.spaceT("marginBlock"),padding:t.space("padding"),paddingTop:t.space("paddingTop"),paddingBlockStart:t.space("paddingBlockStart"),paddingRight:t.space("paddingRight"),paddingBottom:t.space("paddingBottom"),paddingBlockEnd:t.space("paddingBlockEnd"),paddingLeft:t.space("paddingLeft"),paddingInlineStart:t.space("paddingInlineStart"),paddingInlineEnd:t.space("paddingInlineEnd"),paddingX:t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t.space("paddingInline"),paddingY:t.space(["paddingTop","paddingBottom"]),paddingBlock:t.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t.shadows("textShadow")},transform={clipPath:!0,transform:t.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t.spaceT("--chakra-translate-x"),translateY:t.spaceT("--chakra-translate-y"),skewX:t.degreeT("--chakra-skew-x"),skewY:t.degreeT("--chakra-skew-y"),scaleX:t.prop("--chakra-scale-x"),scaleY:t.prop("--chakra-scale-y"),scale:t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t.prop("transitionDuration","transition.duration"),transitionProperty:t.prop("transitionProperty","transition.property"),transitionTimingFunction:t.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t.prop("fontFamily","fonts"),fontSize:t.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t.prop("fontWeight","fontWeights"),lineHeight:t.prop("lineHeight","lineHeights"),letterSpacing:t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t.spaceT("scrollMargin"),scrollMarginTop:t.spaceT("scrollMarginTop"),scrollMarginBottom:t.spaceT("scrollMarginBottom"),scrollMarginLeft:t.spaceT("scrollMarginLeft"),scrollMarginRight:t.spaceT("scrollMarginRight"),scrollMarginX:t.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t.spaceT("scrollPadding"),scrollPaddingTop:t.spaceT("scrollPaddingTop"),scrollPaddingBottom:t.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t.spaceT("scrollPaddingLeft"),scrollPaddingRight:t.spaceT("scrollPaddingRight"),scrollPaddingX:t.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$2(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$2(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,a){const o=toVarDefinition(i,a);return{variable:o,reference:toVarReference(o,s)}}function defineCssVars(i,s){const a={};for(const o of s){if(Array.isArray(o)){const[_,$]=o;a[_]=cssVar$1(`${i}-${_}`,$);continue}a[o]=cssVar$1(`${i}-${o}`)}return a}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue2(i){const s=parseFloat(i.toString()),a=i.toString().replace(String(s),"");return{unitless:!a,value:s,unit:a}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue2(i);return s||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract2(i){var s;if(!i)return i;i=(s=px$1(i))!=null?s:i;const a=-.02;return typeof i=="number"?`${i+a}`:i.replace(/(\d+\.?\d*)/u,o=>`${parseFloat(o)+a}`)}function toMediaQueryString(i,s){const a=["@media screen"];return i&&a.push("and",`(min-width: ${px$1(i)})`),s&&a.push("and",`(max-width: ${px$1(s)})`),a.join(" ")}function analyzeBreakpoints(i){var s;if(!i)return null;i.base=(s=i.base)!=null?s:"0px";const a=normalize(i),o=Object.entries(i).sort(sortByBreakpointValue).map(([j,et],rt,nt)=>{var it;let[,ot]=(it=nt[rt+1])!=null?it:[];return ot=parseFloat(ot)>0?subtract2(ot):void 0,{_minW:subtract2(et),breakpoint:j,minW:et,maxW:ot,maxWQuery:toMediaQueryString(null,ot),minWQuery:toMediaQueryString(et),minMaxQuery:toMediaQueryString(et,ot)}}),_=keys(i),$=Array.from(_.values());return{keys:_,normalized:a,isResponsive(j){const et=Object.keys(j);return et.length>0&&et.every(rt=>_.has(rt))},asObject:sortBps(i),asArray:normalize(i),details:o,get(j){return o.find(et=>et.breakpoint===j)},media:[null,...a.map(j=>toMediaQueryString(j)).slice(1)],toArrayValue(j){if(!isObject(j))throw new Error("toArrayValue: value must be an object");const et=$.map(rt=>{var nt;return(nt=j[rt])!=null?nt:null});for(;getLastItem(et)===null;)et.pop();return et},toObjectValue(j){if(!Array.isArray(j))throw new Error("toObjectValue: value must be an array");return j.reduce((et,rt,nt)=>{const it=$[nt];return it!=null&&rt!=null&&(et[it]=rt),et},{})}}}var state={hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i,s){let a={};const o={};for(const[_,$]of Object.entries(i)){const{isSemantic:j,value:et}=$,{variable:rt,reference:nt}=tokenToCssVar(_,s==null?void 0:s.cssVarPrefix);if(!j){if(_.startsWith("space")){const at=_.split("."),[lt,...gt]=at,ct=`${lt}.-${gt.join(".")}`,yt=calc$1.negate(et),pt=calc$1.negate(nt);o[ct]={value:yt,var:rt,varRef:pt}}a[rt]=et,o[_]={value:et,var:rt,varRef:nt};continue}const it=at=>{const gt=[String(_).split(".")[0],at].join(".");if(!i[gt])return at;const{reference:yt}=tokenToCssVar(gt,s==null?void 0:s.cssVarPrefix);return yt},ot=isObject(et)?et:{default:et};a=mergeWith(a,Object.entries(ot).reduce((at,[lt,gt])=>{var ct,yt;if(!gt)return at;const pt=it(`${gt}`);if(lt==="default")return at[rt]=pt,at;const ut=(yt=(ct=pseudoSelectors)==null?void 0:ct[lt])!=null?yt:lt;return at[ut]={[rt]:pt},at},{})),o[_]={value:nt,var:rt,varRef:nt}}return{cssVars:a,cssMap:o}}function omit$2(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function pick$1(i,s){const a={};for(const o of s)o in i&&(a[o]=i[o]);return a}function isObject5(i){return typeof i=="object"&&i!=null&&!Array.isArray(i)}function walkObject(i,s,a={}){const{stop:o,getKey:_}=a;function $(j,et=[]){var rt;if(isObject5(j)||Array.isArray(j)){const nt={};for(const[it,ot]of Object.entries(j)){const at=(rt=_==null?void 0:_(it))!=null?rt:it,lt=[...et,at];if(o!=null&&o(j,lt))return s(j,et);nt[at]=$(ot,lt)}return nt}return s(j,et)}return $(i)}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(i){return pick$1(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:a,__breakpoints:o,..._}=i;return _}var isSemanticCondition=i=>pseudoPropNames.includes(i)||i==="default";function flattenTokens({tokens:i,semanticTokens:s}){const a={};return walkObject(i,(o,_)=>{o!=null&&(a[_.join(".")]={isSemantic:!1,value:o})}),walkObject(s,(o,_)=>{o!=null&&(a[_.join(".")]={isSemantic:!0,value:o})},{stop:o=>Object.keys(o).every(isSemanticCondition)}),a}function toCSSVar(i){var s;const a=omitVars(i),o=extractTokens(a),_=extractSemanticTokens(a),$=flattenTokens({tokens:o,semanticTokens:_}),j=(s=a.config)==null?void 0:s.cssVarPrefix,{cssMap:et,cssVars:rt}=createThemeVars($,{cssVarPrefix:j});return Object.assign(a,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...rt},__cssMap:et,__breakpoints:analyzeBreakpoints(a.breakpoints)}),a}var systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position,effect$3,space,scroll,typography$1,textDecoration,transform,list,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:a,toArrayValue:o,media:_}=s.__breakpoints,$={};for(const j in i){let et=runIfFn$2(i[j],s);if(et==null)continue;if(et=isObject(et)&&a(et)?o(et):et,!Array.isArray(et)){$[j]=et;continue}const rt=et.slice(0,_.length).length;for(let nt=0;nt<rt;nt+=1){const it=_==null?void 0:_[nt];if(!it){$[j]=et[nt];continue}$[it]=$[it]||{},et[nt]!=null&&($[it][j]=et[nt])}}return $};function splitByComma(i){const s=[];let a="",o=!1;for(let _=0;_<i.length;_++){const $=i[_];$==="("?(o=!0,a+=$):$===")"?(o=!1,a+=$):$===","&&!o?(s.push(a),a=""):a+=$}return a=a.trim(),a&&s.push(a),s}function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar2(s),resolveTokenValue=(i,s)=>{var a,o;if(s==null)return s;const _=rt=>{var nt,it;return(it=(nt=i.__cssMap)==null?void 0:nt[rt])==null?void 0:it.varRef},$=rt=>{var nt;return(nt=_(rt))!=null?nt:rt},[j,et]=splitByComma(s);return s=(o=(a=_(j))!=null?a:$(et))!=null?o:$(s),s};function getCss(i){const{configs:s={},pseudos:a={},theme:o}=i,_=($,j=!1)=>{var et,rt,nt;const it=runIfFn$2($,o),ot=expandResponsive(it)(o);let at={};for(let lt in ot){const gt=ot[lt];let ct=runIfFn$2(gt,o);lt in a&&(lt=a[lt]),isCSSVariableTokenValue(lt,ct)&&(ct=resolveTokenValue(o,ct));let yt=s[lt];if(yt===!0&&(yt={property:lt}),isObject(ct)){at[lt]=(et=at[lt])!=null?et:{},at[lt]=mergeWith({},at[lt],_(ct,!0));continue}let pt=(nt=(rt=yt==null?void 0:yt.transform)==null?void 0:rt.call(yt,ct,o,it))!=null?nt:ct;pt=yt!=null&&yt.processResult?_(pt,!0):pt;const ut=runIfFn$2(yt==null?void 0:yt.property,o);if(!j&&(yt!=null&&yt.static)){const ht=runIfFn$2(yt.static,o);at=mergeWith({},at,ht)}if(ut&&Array.isArray(ut)){for(const ht of ut)at[ht]=pt;continue}if(ut){ut==="&"&&isObject(pt)?at=mergeWith({},at,pt):at[ut]=pt;continue}if(isObject(pt)){at=mergeWith({},at,pt);continue}at[lt]=pt}return at};return _}var css=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize2(i,s){if(Array.isArray(i))return i;if(isObject(i))return s(i);if(i!=null)return[i]}function getNextIndex$1(i,s){for(let a=s+1;a<i.length;a++)if(i[a]!=null)return a;return-1}function createResolver(i){const s=i.__breakpoints;return function(o,_,$,j){var et,rt;if(!s)return;const nt={},it=normalize2($,s.toArrayValue);if(!it)return nt;const ot=it.length,at=ot===1,lt=!!o.parts;for(let gt=0;gt<ot;gt++){const ct=s.details[gt],yt=s.details[getNextIndex$1(it,gt)],pt=toMediaQueryString(ct.minW,yt==null?void 0:yt._minW),ut=runIfFn$2((et=o[_])==null?void 0:et[it[gt]],j);if(ut){if(lt){(rt=o.parts)==null||rt.forEach(ht=>{mergeWith(nt,{[ht]:at?ut[ht]:{[pt]:ut[ht]}})});continue}if(!lt){at?mergeWith(nt,ut):nt[pt]=ut;continue}nt[pt]=ut}}return nt}}function resolveStyleConfig(i){return s=>{var a;const{variant:o,size:_,theme:$}=s,j=createResolver($);return mergeWith({},runIfFn$2((a=i.baseStyle)!=null?a:{},s),j(i,"sizes",_,s),j(i,"variants",o,s))}}function getCSSVar(i,s,a){var o,_,$;return($=(_=(o=i.__cssMap)==null?void 0:o[`${s}.${a}`])==null?void 0:_.varRef)!=null?$:a}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},sizes_default=sizes$m,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$p,definePartsStyle:definePartsStyle$p}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$F=definePartsStyle$p(({colorScheme:i})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${i}.500`,_dark:{[$accentColor.variable]:`colors.${i}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F,sizes:{xs:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(i,s={}){let a=!1;function o(){if(!a){a=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function _(...it){o();for(const ot of it)s[ot]=rt(ot);return anatomy(i,s)}function $(...it){for(const ot of it)ot in s||(s[ot]=rt(ot));return anatomy(i,s)}function j(){return Object.fromEntries(Object.entries(s).map(([ot,at])=>[ot,at.selector]))}function et(){return Object.fromEntries(Object.entries(s).map(([ot,at])=>[ot,at.className]))}function rt(it){const lt=`chakra-${(["container","root"].includes(it??"")?[i]:[i,it]).filter(Boolean).join("__")}`;return{className:lt,selector:`.${lt}`,toString:()=>it}}return{parts:_,toPart:rt,extend:$,selectors:j,classnames:et,get keys(){return Object.keys(s)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(i,s,a){return Math.min(Math.max(i,a),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const a=reducedHexRegex.exec(s);if(a){const j=Array.from(a).slice(1);return[...j.slice(0,3).map(et=>parseInt(r(et,2),16)),parseInt(r(j[3]||"f",2),16)/255]}const o=hexRegex.exec(s);if(o){const j=Array.from(o).slice(1);return[...j.slice(0,3).map(et=>parseInt(et,16)),parseInt(j[3]||"ff",16)/255]}const _=rgbaRegex.exec(s);if(_){const j=Array.from(_).slice(1);return[...j.slice(0,3).map(et=>parseInt(et,10)),parseFloat(j[3]||"1")]}const $=hslaRegex.exec(s);if($){const[j,et,rt,nt]=Array.from($).slice(1).map(parseFloat);if(guard(0,100,et)!==et)throw new ColorError$1(i);if(guard(0,100,rt)!==rt)throw new ColorError$1(i);return[...hslToRgb(j,et,rt),Number.isNaN(nt)?1:nt]}throw new ColorError$1(i)}function hash$2(i){let s=5381,a=i.length;for(;a;)s=s*33^i.charCodeAt(--a);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const a=colorToInt(s.substring(0,3)),o=colorToInt(s.substring(3)).toString(16);let _="";for(let $=0;$<6-o.length;$++)_+="0";return i[a]=`${_}${o}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),a=compressedColorMap[hash$2(s)];if(!a)throw new ColorError$1(i);return`#${a}`}const r=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,a)=>{let o=a/100;if(s===0)return[o,o,o].map(roundColor);const _=(i%360+360)%360/60,$=(1-Math.abs(2*o-1))*(s/100),j=$*(1-Math.abs(_%2-1));let et=0,rt=0,nt=0;_>=0&&_<1?(et=$,rt=j):_>=1&&_<2?(et=j,rt=$):_>=2&&_<3?(rt=$,nt=j):_>=3&&_<4?(rt=j,nt=$):_>=4&&_<5?(et=j,nt=$):_>=5&&_<6&&(et=$,nt=j);const it=o-$/2,ot=et+it,at=rt+it,lt=nt+it;return[ot,at,lt].map(roundColor)};function rgba$1(i,s,a,o){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,a).toFixed()}, ${parseFloat(guard(0,1,o).toFixed(3))})`}function transparentize$1(i,s){const[a,o,_,$]=parseToRgba(i);return rgba$1(a,o,_,$-s)}function toHex(i){const[s,a,o,_]=parseToRgba(i);let $=j=>{const et=guard(0,255,j).toString(16);return et.length===1?`0${et}`:et};return`#${$(s)}${$(a)}${$(o)}${_<1?$(Math.round(_*255)):""}`}function dlv_es_default(i,s,a,o,_){for(s=s.split?s.split("."):s,o=0;o<s.length;o++)i=i?i[s[o]]:_;return i===_?a:i}var isEmptyObject=i=>Object.keys(i).length===0,getColor=(i,s,a)=>{const o=dlv_es_default(i,`colors.${s}`,s);try{return toHex(o),o}catch{return a??"#000000"}},getBrightness=i=>{const[s,a,o]=parseToRgba(i);return(s*299+a*587+o*114)/1e3},tone=i=>s=>{const a=getColor(s,i);return getBrightness(a)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>a=>{const o=getColor(a,i);return transparentize$1(o,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let o=0;o<i.length;o+=1)s=i.charCodeAt(o)+((s<<5)-s),s=s&s;let a="#";for(let o=0;o<3;o+=1){const _=s>>o*8&255;a+=`00${_.toString(16)}`.substr(-2)}return a}function randomColorFromList(i,s){let a=0;if(i.length===0)return s[0];for(let o=0;o<i.length;o+=1)a=i.charCodeAt(o)+((a<<5)-a),a=a&a;return a=(a%s.length+s.length)%s.length,s[a]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return a=>a.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:a,horizontal:o}=i;return s?s==="vertical"?a:o:{}}function toRef(i){return isObject(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape$1(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape$1(i)}${s?`, ${s}`:""})`}function toVar$1(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const a=toVar$1(i,void 0);return{variable:a,reference:toVarRef(a,getFallback(void 0))}}function getFallback(i){return i==null?void 0:i.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${s}.500`,_dark:{[$bg$f.variable]:`colors.${s}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$E=definePartsStyle$o(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(i),thumb:baseStyleThumb$1})),sizes$l={sm:definePartsStyle$o({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$o({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$o({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,sizes:sizes$l,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$D=definePartsStyle$n({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$e={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$k={sm:definePartsStyle$n({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$n({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$n({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:a}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:a==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$C=definePartsStyle$m(i=>({root:baseStyleRoot$1(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$j={sm:definePartsStyle$m({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$m({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$m({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$m(i=>{const{colorScheme:s,orientation:a}=i,o=a==="vertical",_=o?"borderStart":"borderBottom",$=o?"marginStart":"marginBottom";return{tablist:{[_]:"2px solid",borderColor:"inherit"},tab:{[_]:"2px solid",borderColor:"transparent",[$]:"-2px",_selected:{[$fg$5.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${s}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${s}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${s}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$m(i=>{const{colorScheme:s,theme:a}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(a,`${s}.700`),bg:getColor(a,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${s}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$m({}),variants$d={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$C,sizes:sizes$j,variants:variants$d,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$B={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.500`,.6)(a);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:o,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.16)(a);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:o,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=i=>{const{colorScheme:s,theme:a}=i,o=transparentize(`${s}.200`,.8)(a);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:o},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$c={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$B,variants:variants$c,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$A=definePartsStyle$l({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$i={sm:definePartsStyle$l({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$l({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$l({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$b={subtle:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig$l({variants:variants$b,baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$z=definePartsStyle$k({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$h={lg:definePartsStyle$k({field:size.lg,group:size.lg}),md:definePartsStyle$k({field:size.md,group:size.md}),sm:definePartsStyle$k({field:size.sm,group:size.sm}),xs:definePartsStyle$k({field:size.xs,group:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:a}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:a||mode("red.500","red.300")(i)}}var variantOutline$1=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o)},_focusVisible:{bg:"transparent",borderColor:getColor(s,a)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:a,errorBorderColor:o}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`},_focusVisible:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$k({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$z,sizes:sizes$h,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),_a$4,baseStyle$y={...(_a$4=inputTheme.baseStyle)==null?void 0:_a$4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$9={outline:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.outline(i).field)!=null?a:{}},flushed:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.flushed(i).field)!=null?a:{}},filled:i=>{var s,a;return(a=(s=inputTheme.variants)==null?void 0:s.filled(i).field)!=null?a:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$g={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$y,sizes:sizes$g,variants:variants$9,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$x={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$x},{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:a,isIndeterminate:o,hasStripe:_}=i,$=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),j=mode(`${s}.500`,`${s}.200`)(i),et=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(a,j)} 50%,
    transparent 100%
  )`;return{...!o&&_&&$,...o?{bgImage:et}:{bgColor:j}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$w=definePartsStyle$j(i=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$1(i)})),sizes$f={xs:definePartsStyle$j({track:{h:"1"}}),sm:definePartsStyle$j({track:{h:"2"}}),md:definePartsStyle$j({track:{h:"3"}}),lg:definePartsStyle$j({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$j({sizes:sizes$f,baseStyle:baseStyle$w,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$2=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$2(i)?i(...s):i}var{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$v=definePartsStyle$i(i=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,i),label:baseStyleLabel$2})),sizes$e={sm:definePartsStyle$i({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$i({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$i({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$v,sizes:sizes$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var s;const a=(s=runIfFn$1(checkboxTheme.baseStyle,i))==null?void 0:s.control;return{...a,borderRadius:"full",_checked:{...a==null?void 0:a._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$u=definePartsStyle$h(i=>{var s,a,o,_;return{label:(a=(s=checkboxTheme).baseStyle)==null?void 0:a.call(s,i).label,container:(_=(o=checkboxTheme).baseStyle)==null?void 0:_.call(o,i).container,control:baseStyleControl(i)}}),sizes$d={md:definePartsStyle$h({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$h({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$h({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$3,baseStyleField$1={...(_a$3=inputTheme.baseStyle)==null?void 0:_a$3.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$t=definePartsStyle$g({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$c={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$t,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$s={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$s},$bg$a=cssVar$1("skip-link-bg"),baseStyle$r={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$r},{defineMultiStyleConfig:defineMultiStyleConfig$f,definePartsStyle:definePartsStyle$f}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${s}.500`,_dark:{[$bg$9.variable]:`colors.${s}.200`},bg:$bg$9.reference}},baseStyle$q=definePartsStyle$f(i=>({container:baseStyleContainer$2(i),track:baseStyleTrack(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$b={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$q,sizes:sizes$b,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$p={width:[$size$2.reference],height:[$size$2.reference]},sizes$a={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$p,sizes:sizes$a,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$o=definePartsStyle$e({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$9={md:definePartsStyle$e({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$o,sizes:sizes$9,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$n={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$n},baseStyle$m={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$m},{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$l=definePartsStyle$d({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$k=definePartsStyle$c({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=i=>{const{isCentered:s,scrollBehavior:a}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:a==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=i=>{const{isCentered:s,scrollBehavior:a}=i;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:a==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$j=definePartsStyle$b(i=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,i),dialog:runIfFn$1(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,i),footer:baseStyleFooter$2}));function getSize$3(i){return definePartsStyle$b(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}var sizes$8={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$8,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=i=>{var s,a;return(a=(s=runIfFn$1(inputTheme.baseStyle,i))==null?void 0:s.field)!=null?a:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$i=definePartsStyle$a(i=>{var s;return{root:baseStyleRoot,field:(s=runIfFn$1(baseStyleField,i))!=null?s:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(i){var s,a,o;const _=(s=inputTheme.sizes)==null?void 0:s[i],$={lg:"md",md:"md",sm:"sm",xs:"sm"},j=(o=(a=_.field)==null?void 0:a.fontSize)!=null?o:"md",et=typography_default.fontSizes[j];return definePartsStyle$a({field:{..._.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(et).multiply(.75).toString(),_first:{borderTopEndRadius:$[i]},_last:{borderBottomEndRadius:$[i],mt:"-1px",borderTopWidth:1}}})}var sizes$7={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$i,sizes:sizes$7,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$2,baseStyle$h={...(_a$2=inputTheme.baseStyle)==null?void 0:_a$2.field,textAlign:"center"},sizes$6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$8={outline:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:a.field)!=null?o:{}},flushed:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:a.field)!=null?o:{}},filled:i=>{var s,a,o;return(o=(a=runIfFn$1((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:a.field)!=null?o:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$h,sizes:sizes$6,variants:variants$8,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$g=definePartsStyle$9({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$g}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(i){return definePartsStyle$8(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$f=definePartsStyle$8(i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$5={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$5,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$e=definePartsStyle$7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e}),{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$d=definePartsStyle$6({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$d}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$c=definePartsStyle$5({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$c}),baseStyle$b={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$b},baseStyle$a={fontFamily:"heading",fontWeight:"bold"},sizes$4={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$a,sizes:sizes$4,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$9=definePartsStyle$4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$9}),baseStyle$8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:a}=i;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const o=transparentize(`${s}.200`,.12)(a),_=transparentize(`${s}.200`,.24)(a);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,o)(i)},_active:{bg:mode(`${s}.100`,_)(i)}}},variantOutline=i=>{const{colorScheme:s}=i,a=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?a:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=i=>{var s;const{colorScheme:a}=i;if(a==="gray"){const rt=mode("gray.100","whiteAlpha.200")(i);return{bg:rt,color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:rt}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:o=`${a}.500`,color:_="white",hoverBg:$=`${a}.600`,activeBg:j=`${a}.700`}=(s=accessibleColorMap[a])!=null?s:{},et=mode(o,`${a}.200`)(i);return{bg:et,color:mode(_,"gray.800")(i),_hover:{bg:mode($,`${a}.300`)(i),_disabled:{bg:et}},_active:{bg:mode(j,`${a}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$7={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$8,variants:variants$7,sizes:sizes$3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$7=definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$2={sm:definePartsStyle$3({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$3({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$3({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$6={elevated:definePartsStyle$3({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$3({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$7,variants:variants$6,sizes:sizes$2,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$6={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$1={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$6,sizes:sizes$1,defaultProps:{size:"md"}},{variants:variants$5,defaultProps}=badgeTheme,baseStyle$5={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$5,variants:variants$5,defaultProps},baseStyle$4={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$4},baseStyle$3={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$4={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$3,variants:variants$4,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$2=definePartsStyle$2({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$2}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$1=definePartsStyle$1({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:a}=i,o=transparentize(`${a}.200`,.16)(s);return{light:`colors.${a}.100`,dark:o}}var variantSubtle=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark}}}}),variantLeftAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,a=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:a.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:a.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${s}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${s}.200`},color:$fg.reference}}}),variants$3={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$1,variants:variants$3,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=i=>{const{name:s,theme:a}=i,o=s?randomColor({string:s}):"colors.gray.400",_=isDark(o)(a);let $="white";return _||($="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:$,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:o},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle=definePartsStyle(i=>({badge:runIfFn$1(baseStyleBadge,i),excessLabel:runIfFn$1(baseStyleExcessLabel,i),container:runIfFn$1(baseStyleContainer,i),label:baseStyleLabel}));function getSize(i){const s=i!=="100%"?sizes_default[i]:void 0;return definePartsStyle({container:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`},excessLabel:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`}})}var sizes={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig({baseStyle,sizes,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};function isFunction$1(i){return typeof i=="function"}function pipe$1(...i){return s=>i.reduce((a,o)=>o(a),s)}var createExtendTheme=i=>function(...a){let o=[...a],_=a[a.length-1];return isChakraTheme(_)&&o.length>1?o=o.slice(0,o.length-1):_=i,pipe$1(...o.map($=>j=>isFunction$1($)?$(j):mergeThemeOverride(j,$)))(_)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,a,o){if((isFunction$1(i)||isFunction$1(s))&&Object.prototype.hasOwnProperty.call(o,a))return(..._)=>{const $=isFunction$1(i)?i(..._):i,j=isFunction$1(s)?s(..._):s;return mergeWith({},$,j,mergeThemeCustomizer)}}function omit$1(i,s){const a={};return Object.keys(i).forEach(o=>{s.includes(o)||(a[o]=i[o])}),a}function get(i,s,a,o){const _=typeof s=="string"?s.split("."):[s];for(o=0;o<_.length&&i;o+=1)i=i[_[o]];return i===void 0?a:i}var memoize=i=>{const s=new WeakMap;return(o,_,$,j)=>{if(typeof o>"u")return i(o,_,$);s.has(o)||s.set(o,new Map);const et=s.get(o);if(et.has(_))return et.get(_);const rt=i(o,_,$,j);return et.set(_,rt),rt}},memoizedGet=memoize(get);function objectFilter(i,s){const a={};return Object.keys(i).forEach(o=>{const _=i[o];s(_,o,i)&&(a[o]=_)}),a}var filterUndefined=i=>objectFilter(i,s=>s!=null);function isFunction(i){return typeof i=="function"}function runIfFn(i,...s){return isFunction(i)?i(...s):i}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var a,o,_;if(Array.isArray(i)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(!equal(i[o],s[o]))return!1;return!0}var $;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for($=i.entries();!(o=$.next()).done;)if(!s.has(o.value[0]))return!1;for($=i.entries();!(o=$.next()).done;)if(!equal(o.value[1],s.get(o.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for($=i.entries();!(o=$.next()).done;)if(!s.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(a=i.length,a!=s.length)return!1;for(o=a;o--!==0;)if(i[o]!==s[o])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(_=Object.keys(i),a=_.length,a!==Object.keys(s).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(s,_[o]))return!1;if(hasElementType&&i instanceof Element)return!1;for(o=a;o--!==0;)if(!((_[o]==="_owner"||_[o]==="__v"||_[o]==="__o")&&i.$$typeof)&&!equal(i[_[o]],s[_[o]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function i(s,a){try{return equal(s,a)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const isEqual=getDefaultExportFromCjs(reactFastCompare);function useStyleConfigImpl(i,s={}){var a;const{styleConfig:o,..._}=s,{theme:$,colorMode:j}=useChakra(),et=i?memoizedGet($,`components.${i}`):void 0,rt=o||et,nt=mergeWith({theme:$,colorMode:j},(a=rt==null?void 0:rt.defaultProps)!=null?a:{},filterUndefined(omit$1(_,["children"]))),it=reactExports.useRef({});if(rt){const at=resolveStyleConfig(rt)(nt);isEqual(it.current,at)||(it.current=at)}return it.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const a={...i};for(const o of s)if(o!=null)for(const _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(_ in a&&delete a[_],a[_]=o[_]);return a}function compact(i){const s=Object.assign({},i);for(let a in s)s[a]===void 0&&delete s[a];return s}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function i(s){return s!=="theme"},getDefaultShouldForwardProp=function i(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function i(s,a,o){var _;if(a){var $=a.shouldForwardProp;_=s.__emotion_forwardProp&&$?function(j){return s.__emotion_forwardProp(j)&&$(j)}:$}return typeof _!="function"&&o&&(_=s.__emotion_forwardProp),_},Insertion=function i(s){var a=s.cache,o=s.serialized,_=s.isStringTag;return registerStyles(a,o,_),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,o,_)}),null},createStyled=function i(s,a){var o=s.__emotion_real===s,_=o&&s.__emotion_base||s,$,j;a!==void 0&&($=a.label,j=a.target);var et=composeShouldForwardProps(s,a,o),rt=et||getDefaultShouldForwardProp(_),nt=!rt("as");return function(){var it=arguments,ot=o&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if($!==void 0&&ot.push("label:"+$+";"),it[0]==null||it[0].raw===void 0)ot.push.apply(ot,it);else{ot.push(it[0][0]);for(var at=it.length,lt=1;lt<at;lt++)ot.push(it[lt],it[0][lt])}var gt=withEmotionCache(function(ct,yt,pt){var ut=nt&&ct.as||_,ht="",mt=[],dt=ct;if(ct.theme==null){dt={};for(var vt in ct)dt[vt]=ct[vt];dt.theme=reactExports.useContext(ThemeContext)}typeof ct.className=="string"?ht=getRegisteredStyles(yt.registered,mt,ct.className):ct.className!=null&&(ht=ct.className+" ");var St=serializeStyles(ot.concat(mt),yt.registered,dt);ht+=yt.key+"-"+St.name,j!==void 0&&(ht+=" "+j);var _t=nt&&et===void 0?getDefaultShouldForwardProp(ut):rt,Et={};for(var Pt in ct)nt&&Pt==="as"||_t(Pt)&&(Et[Pt]=ct[Pt]);return Et.className=ht,Et.ref=pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:yt,serialized:St,isStringTag:typeof ut=="string"}),reactExports.createElement(ut,Et))});return gt.displayName=$!==void 0?$:"Styled("+(typeof _=="string"?_:_.displayName||_.name||"Component")+")",gt.defaultProps=s.defaultProps,gt.__emotion_real=gt,gt.__emotion_base=_,gt.__emotion_styles=ot,gt.__emotion_forwardProp=et,Object.defineProperty(gt,"toString",{value:function(){return"."+j}}),gt.withComponent=function(ct,yt){return i(ct,_extends({},a,yt,{shouldForwardProp:composeShouldForwardProps(gt,yt,!0)})).apply(void 0,ot)},gt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var _a$1,emotion_styled=(_a$1=newStyled.default)!=null?_a$1:newStyled,toCSSObject=({baseStyle:i})=>s=>{const{theme:a,css:o,__css:_,sx:$,...j}=s,et=objectFilter(j,(ot,at)=>isStyleProp(at)),rt=runIfFn(i,s),nt=assignAfter({},_,rt,filterUndefined(et),$),it=css(nt)(s.theme);return o?[it,o]:it};function styled(i,s){const{baseStyle:a,...o}=s??{};o.shouldForwardProp||(o.shouldForwardProp=shouldForwardProp);const _=toCSSObject({baseStyle:a}),$=emotion_styled(i,o)(_);return React.forwardRef(function(rt,nt){const{colorMode:it,forced:ot}=useColorMode();return React.createElement($,{ref:nt,"data-theme":ot?it:void 0,...rt})})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,a,o){return styled(...o)},get(s,a){return i.has(a)||i.set(a,styled(a)),i.get(a)}})}var chakra=factory();function forwardRef(i){return reactExports.forwardRef(i)}function createContext(i={}){const{strict:s=!0,errorMessage:a="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:o}=i,_=reactExports.createContext(void 0);_.displayName=o;function $(){var j;const et=reactExports.useContext(_);if(!et&&s){const rt=new Error(a);throw rt.name="ContextError",(j=Error.captureStackTrace)==null||j.call(Error,rt,$),rt}return et}return[_.Provider,$,_]}function ThemeProvider(i){const{cssVarsRoot:s,theme:a,children:o}=i,_=reactExports.useMemo(()=>toCSSVar(a),[a]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:_,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),o]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:a=>({[s]:a.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const a=memoizedGet(s,"styles.global"),o=runIfFn(a,{theme:s,colorMode:i});return o?css(o)(s):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:a,disabled:o}=i,_=reactExports.useRef(null),$=reactExports.useMemo(()=>a||{getDocument:()=>{var et,rt;return(rt=(et=_.current)==null?void 0:et.ownerDocument)!=null?rt:document},getWindow:()=>{var et,rt;return(rt=(et=_.current)==null?void 0:et.ownerDocument.defaultView)!=null?rt:window}},[a]),j=!o||!a;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:$,children:[s,j&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:_})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=i=>{const{children:s,colorModeManager:a,portalZIndex:o,resetScope:_,resetCSS:$=!0,theme:j={},environment:et,cssVarsRoot:rt,disableEnvironment:nt,disableGlobalStyle:it}=i,ot=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:et,disabled:nt,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:j,cssVarsRoot:rt,children:jsxRuntimeExports.jsxs(ColorModeProvider$1,{colorModeManager:a,options:j.config,children:[$?jsxRuntimeExports.jsx(CSSReset,{scope:_}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!it&&jsxRuntimeExports.jsx(GlobalStyle,{}),o?jsxRuntimeExports.jsx(PortalManager,{zIndex:o,children:ot}):ot]})})},findById=(i,s)=>i.find(a=>a.id===s);function findToast(i,s){const a=getToastPosition(i,s),o=a?i[a].findIndex(_=>_.id===s):-1;return{position:a,index:o}}function getToastPosition(i,s){for(const[a,o]of Object.entries(i))if(findById(o,s))return a}function getToastStyle(i){const s=i.includes("right"),a=i.includes("left");let o="center";return s&&(o="flex-end"),a&&(o="flex-start"),{display:"flex",flexDirection:"column",alignItems:o}}function getToastListStyle(i){const a=i==="top"||i==="bottom"?"0 auto":void 0,o=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,_=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,$=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",j=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:a,top:o,bottom:_,right:$,left:j}}function useCallbackRef$1(i,s=[]){const a=reactExports.useRef(i);return reactExports.useEffect(()=>{a.current=i}),reactExports.useCallback((...o)=>{var _;return(_=a.current)==null?void 0:_.call(a,...o)},s)}function useTimeout(i,s){const a=useCallbackRef$1(i);reactExports.useEffect(()=>{if(s==null)return;let o=null;return o=window.setTimeout(()=>{a()},s),()=>{o&&window.clearTimeout(o)}},[s,a])}function useUpdateEffect(i,s){const a=reactExports.useRef(!1),o=reactExports.useRef(!1);reactExports.useEffect(()=>{if(a.current&&o.current)return i();o.current=!0},s),reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(i,s,a,o){const{visualElement:_}=reactExports.useContext(MotionContext),$=reactExports.useContext(LazyContext),j=reactExports.useContext(PresenceContext),et=reactExports.useContext(MotionConfigContext).reducedMotion,rt=reactExports.useRef();o=o||$.renderer,!rt.current&&o&&(rt.current=o(i,{visualState:s,parent:_,props:a,presenceContext:j,blockInitialAnimation:j?j.initial===!1:!1,reducedMotionConfig:et}));const nt=rt.current;reactExports.useInsertionEffect(()=>{nt&&nt.update(a,j)});const it=reactExports.useRef(!!(a[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{nt&&(nt.render(),it.current&&nt.animationState&&nt.animationState.animateChanges())}),reactExports.useEffect(()=>{nt&&(nt.updateFeatures(),!it.current&&nt.animationState&&nt.animationState.animateChanges(),it.current&&(it.current=!1,window.HandoffComplete=!0))}),nt}function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,s,a){return reactExports.useCallback(o=>{o&&i.mount&&i.mount(o),s&&(o?s.mount(o):s.unmount()),a&&(typeof a=="function"?a(o):isRefObject(a)&&(a.current=o))},[s])}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:a,animate:o}=i;return{initial:a===!1||isVariantLabel(a)?a:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:a}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:a}),[variantLabelsAsDependency(s),variantLabelsAsDependency(a)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:s=>featureProps[i].some(a=>!!s[a])};function loadFeatures(i){for(const s in i)featureDefinitions[s]={...featureDefinitions[s],...i[s]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:i,createVisualElement:s,useRender:a,useVisualState:o,Component:_}){i&&loadFeatures(i);function $(et,rt){let nt;const it={...reactExports.useContext(MotionConfigContext),...et,layoutId:useLayoutId(et)},{isStatic:ot}=it,at=useCreateMotionContext(et),lt=o(et,ot);if(!ot&&isBrowser){at.visualElement=useVisualElement(_,lt,it,s);const gt=reactExports.useContext(SwitchLayoutGroupContext),ct=reactExports.useContext(LazyContext).strict;at.visualElement&&(nt=at.visualElement.loadFeatures(it,ct,i,gt))}return reactExports.createElement(MotionContext.Provider,{value:at},nt&&at.visualElement?reactExports.createElement(nt,{visualElement:at.visualElement,...it}):null,a(_,et,useMotionRef(lt,at.visualElement,rt),lt,ot,at.visualElement))}const j=reactExports.forwardRef($);return j[motionComponentSymbol]=_,j}function useLayoutId({layoutId:i}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function createMotionProxy(i){function s(o,_={}){return createMotionComponent(i(o,_))}if(typeof Proxy>"u")return s;const a=new Map;return new Proxy(s,{get:(o,_)=>(a.has(_)||a.set(_,s(_)),a.get(_))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/.test(i))}const scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(i,{layout:s,layoutId:a}){return transformProps.has(i)||i.startsWith("origin")||(s||a!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const isMotionValue=i=>!!(i&&i.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,{enableHardwareAcceleration:s=!0,allowTransformNone:a=!0},o,_){let $="";for(let j=0;j<numTransforms;j++){const et=transformPropOrder[j];if(i[et]!==void 0){const rt=translateAlias[et]||et;$+=`${rt}(${i[et]}) `}}return s&&!i.z&&($+="translateZ(0)"),$=$.trim(),_?$=_(i,o?"":$):a&&o&&($="none"),$}const checkStringStartsWith=i=>s=>typeof s=="string"&&s.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,clamp=(i,s,a)=>Math.min(Math.max(a,i),s),number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale$1={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(i){return typeof i=="string"}const createUnitType=i=>({test:s=>isString(s)&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(i,s,a,o){const{style:_,vars:$,transform:j,transformOrigin:et}=i;let rt=!1,nt=!1,it=!0;for(const ot in s){const at=s[ot];if(isCSSVariableName(ot)){$[ot]=at;continue}const lt=numberValueTypes[ot],gt=getValueAsType(at,lt);if(transformProps.has(ot)){if(rt=!0,j[ot]=gt,!it)continue;at!==(lt.default||0)&&(it=!1)}else ot.startsWith("origin")?(nt=!0,et[ot]=gt):_[ot]=gt}if(s.transform||(rt||o?_.transform=buildTransform(i.transform,a,it,o):_.transform&&(_.transform="none")),nt){const{originX:ot="50%",originY:at="50%",originZ:lt=0}=et;_.transformOrigin=`${ot} ${at} ${lt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,s,a){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,a)&&(i[o]=s[o])}function useInitialMotionValues({transformTemplate:i},s,a){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,s,{enableHardwareAcceleration:!a},i),Object.assign({},o.vars,o.style)},[s])}function useStyle(i,s,a){const o=i.style||{},_={};return copyRawValuesOnly(_,o,i),Object.assign(_,useInitialMotionValues(i,s,a)),i.transformValues?i.transformValues(_):_}function useHTMLProps(i,s,a){const o={},_=useStyle(i,s,a);return i.drag&&i.dragListener!==!1&&(o.draggable=!1,_.userSelect=_.WebkitUserSelect=_.WebkitTouchCallout="none",_.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(o.tabIndex=0),o.style=_,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(i){}function filterProps(i,s,a){const o={};for(const _ in i)_==="values"&&typeof i.values=="object"||(shouldForward(_)||a===!0&&isValidMotionProp(_)||!s&&!isValidMotionProp(_)||i.draggable&&_.startsWith("onDrag"))&&(o[_]=i[_]);return o}function calcOrigin$1(i,s,a){return typeof i=="string"?i:px.transform(s+a*i)}function calcSVGTransformOrigin(i,s,a){const o=calcOrigin$1(s,i.x,i.width),_=calcOrigin$1(a,i.y,i.height);return`${o} ${_}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,a=1,o=0,_=!0){i.pathLength=1;const $=_?dashKeys:camelKeys;i[$.offset]=px.transform(-o);const j=px.transform(s),et=px.transform(a);i[$.array]=`${j} ${et}`}function buildSVGAttrs(i,{attrX:s,attrY:a,attrScale:o,originX:_,originY:$,pathLength:j,pathSpacing:et=1,pathOffset:rt=0,...nt},it,ot,at){if(buildHTMLStyles(i,nt,it,at),ot){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:lt,style:gt,dimensions:ct}=i;lt.transform&&(ct&&(gt.transform=lt.transform),delete lt.transform),ct&&(_!==void 0||$!==void 0||gt.transform)&&(gt.transformOrigin=calcSVGTransformOrigin(ct,_!==void 0?_:.5,$!==void 0?$:.5)),s!==void 0&&(lt.x=s),a!==void 0&&(lt.y=a),o!==void 0&&(lt.scale=o),j!==void 0&&buildSVGPath(lt,j,et,rt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,s,a,o){const _=reactExports.useMemo(()=>{const $=createSvgRenderState();return buildSVGAttrs($,s,{enableHardwareAcceleration:!1},isSVGTag(o),i.transformTemplate),{...$.attrs,style:{...$.style}}},[s]);if(i.style){const $={};copyRawValuesOnly($,i.style,i),_.style={...$,..._.style}}return _}function createUseRender(i=!1){return(a,o,_,{latestValues:$},j)=>{const rt=(isSVGComponent(a)?useSVGProps:useHTMLProps)(o,$,j,a),it={...filterProps(o,typeof a=="string",i),...rt,ref:_},{children:ot}=o,at=reactExports.useMemo(()=>isMotionValue(ot)?ot.get():ot,[ot]);return reactExports.createElement(a,{...it,children:at})}}function renderHTML(i,{style:s,vars:a},o,_){Object.assign(i.style,s,_&&_.getProjectionStyles(o));for(const $ in a)i.style.setProperty($,a[$])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,a,o){renderHTML(i,s,void 0,o);for(const _ in s.attrs)i.setAttribute(camelCaseAttributes.has(_)?_:camelToDash(_),s.attrs[_])}function scrapeMotionValuesFromProps$1(i,s){const{style:a}=i,o={};for(const _ in a)(isMotionValue(a[_])||s.style&&isMotionValue(s.style[_])||isForcedMotionValue(_,i))&&(o[_]=a[_]);return o}function scrapeMotionValuesFromProps(i,s){const a=scrapeMotionValuesFromProps$1(i,s);for(const o in i)if(isMotionValue(i[o])||isMotionValue(s[o])){const _=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[_]=i[o]}return a}function resolveVariantFromProps(i,s,a,o={},_={}){return typeof s=="function"&&(s=s(a!==void 0?a:i.custom,o,_)),typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"&&(s=s(a!==void 0?a:i.custom,o,_)),s}function useConstant(i){const s=reactExports.useRef(null);return s.current===null&&(s.current=i()),s.current}const isKeyframesTarget=i=>Array.isArray(i),isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a},o,_,$){const j={latestValues:makeLatestValues(o,_,$,i),renderState:s()};return a&&(j.mount=et=>a(o,et,j)),j}const makeUseVisualState=i=>(s,a)=>{const o=reactExports.useContext(MotionContext),_=reactExports.useContext(PresenceContext),$=()=>makeState(i,s,o,_);return a?$():useConstant($)};function makeLatestValues(i,s,a,o){const _={},$=o(i,{});for(const at in $)_[at]=resolveMotionValue($[at]);let{initial:j,animate:et}=i;const rt=isControllingVariants(i),nt=isVariantNode(i);s&&nt&&!rt&&i.inherit!==!1&&(j===void 0&&(j=s.initial),et===void 0&&(et=s.animate));let it=a?a.initial===!1:!1;it=it||j===!1;const ot=it?et:j;return ot&&typeof ot!="boolean"&&!isAnimationControls(ot)&&(Array.isArray(ot)?ot:[ot]).forEach(lt=>{const gt=resolveVariantFromProps(i,lt);if(!gt)return;const{transitionEnd:ct,transition:yt,...pt}=gt;for(const ut in pt){let ht=pt[ut];if(Array.isArray(ht)){const mt=it?ht.length-1:0;ht=ht[mt]}ht!==null&&(_[ut]=ht)}for(const ut in ct)_[ut]=ct[ut]}),_}const noop=i=>i;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(s){if(!this.scheduled.has(s))return this.scheduled.add(s),this.order.push(s),!0}remove(s){const a=this.order.indexOf(s);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(s))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(i){let s=new Queue,a=new Queue,o=0,_=!1,$=!1;const j=new WeakSet,et={schedule:(rt,nt=!1,it=!1)=>{const ot=it&&_,at=ot?s:a;return nt&&j.add(rt),at.add(rt)&&ot&&_&&(o=s.order.length),rt},cancel:rt=>{a.remove(rt),j.delete(rt)},process:rt=>{if(_){$=!0;return}if(_=!0,[s,a]=[a,s],a.clear(),o=s.order.length,o)for(let nt=0;nt<o;nt++){const it=s.order[nt];it(rt),j.has(it)&&(et.schedule(it),i())}_=!1,$&&($=!1,et.process(rt))}};return et}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,s){let a=!1,o=!0;const _={delta:0,timestamp:0,isProcessing:!1},$=stepsOrder.reduce((ot,at)=>(ot[at]=createRenderStep(()=>a=!0),ot),{}),j=ot=>$[ot].process(_),et=()=>{const ot=performance.now();a=!1,_.delta=o?1e3/60:Math.max(Math.min(ot-_.timestamp,maxElapsed),1),_.timestamp=ot,_.isProcessing=!0,stepsOrder.forEach(j),_.isProcessing=!1,a&&s&&(o=!1,i(et))},rt=()=>{a=!0,o=!0,_.isProcessing||i(et)};return{schedule:stepsOrder.reduce((ot,at)=>{const lt=$[at];return ot[at]=(gt,ct=!1,yt=!1)=>(a||rt(),lt.schedule(gt,ct,yt)),ot},{}),cancel:ot=>stepsOrder.forEach(at=>$[at].cancel(ot)),state:_,steps:$}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:a,latestValues:o})=>{frame.read(()=>{try{a.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(a,o,{enableHardwareAcceleration:!1},isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,a)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,{forwardMotionProps:s=!1},a,o){return{...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:a,useRender:createUseRender(s),createVisualElement:o,Component:i}}function addDomEvent(i,s,a,o={passive:!0}){return i.addEventListener(s,a,o),()=>i.removeEventListener(s,a)}const isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[s+"X"],y:i[s+"Y"]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addPointerEvent(i,s,a,o){return addDomEvent(i,s,addPointerInfo(a),o)}const combineFunctions=(i,s)=>a=>s(i(a)),pipe=(...i)=>i.reduce(combineFunctions);function createLock(i){let s=null;return()=>{const a=()=>{s=null};return s===null?(s=i,a):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const a=globalHorizontalLock(),o=globalVerticalLock();a&&o?s=()=>{a(),o()}:(a&&a(),o&&o())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}function addHoverEvent(i,s){const a="pointer"+(s?"enter":"leave"),o="onHover"+(s?"Start":"End"),_=($,j)=>{if($.pointerType==="touch"||isDragActive())return;const et=i.getProps();i.animationState&&et.whileHover&&i.animationState.setActive("whileHover",s),et[o]&&frame.update(()=>et[o]($,j))};return addPointerEvent(i.current,a,_,{passive:!i.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function fireSyntheticPointerEvent(i,s){if(!s)return;const a=new PointerEvent("pointer"+i);s(a,extractEventInfo(a))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(s,a)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),$=addPointerEvent(window,"pointerup",(et,rt)=>{if(!this.checkPressEnd())return;const{onTap:nt,onTapCancel:it,globalTapTarget:ot}=this.node.getProps();frame.update(()=>{!ot&&!isNodeOrChild(this.node.current,et.target)?it&&it(et,rt):nt&&nt(et,rt)})},{passive:!(o.onTap||o.onPointerUp)}),j=addPointerEvent(window,"pointercancel",(et,rt)=>this.cancelPress(et,rt),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe($,j),this.startPress(s,a)},this.startAccessiblePress=()=>{const s=$=>{if($.key!=="Enter"||this.isPressing)return;const j=et=>{et.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(rt,nt)=>{const{onTap:it}=this.node.getProps();it&&frame.update(()=>it(rt,nt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",j),fireSyntheticPointerEvent("down",(et,rt)=>{this.startPress(et,rt)})},a=addDomEvent(this.node.current,"keydown",s),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",($,j)=>this.cancelPress($,j))},_=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(a,_)}}startPress(s,a){this.isPressing=!0;const{onTapStart:o,whileTap:_}=this.node.getProps();_&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.update(()=>o(s,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,a){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.update(()=>o(s,a))}mount(){const s=this.node.getProps(),a=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(a,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const a=i||document;observers.has(a)||observers.set(a,{});const o=observers.get(a),_=JSON.stringify(s);return o[_]||(o[_]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),o[_]}function observeIntersection(i,s,a){const o=initIntersectionObserver(s);return observerCallbacks.set(i,a),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:o,amount:_="some",once:$}=s,j={root:a?a.current:void 0,rootMargin:o,threshold:typeof _=="number"?_:thresholdNames[_]},et=rt=>{const{isIntersecting:nt}=rt;if(this.isInView===nt||(this.isInView=nt,$&&!nt&&this.hasEnteredView))return;nt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",nt);const{onViewportEnter:it,onViewportLeave:ot}=this.node.getProps(),at=nt?it:ot;at&&at(rt)};return observeIntersection(this.node.current,j,et)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,a))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:s={}}={}){return a=>i[a]!==s[a]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(i,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==i.length)return!1;for(let o=0;o<a;o++)if(s[o]!==i[o])return!1;return!0}function getCurrent(i){const s={};return i.values.forEach((a,o)=>s[o]=a.get()),s}function getVelocity$1(i){const s={};return i.values.forEach((a,o)=>s[o]=a.getVelocity()),s}function resolveVariant(i,s,a){const o=i.getProps();return resolveVariantFromProps(o,s,a!==void 0?a:o.custom,getCurrent(i),getVelocity$1(i))}let invariant=noop;const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,instantAnimationState={current:!1},isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number";function isWaapiSupportedEasing(i){return!!(!i||typeof i=="string"&&supportedWaapiEasing[i]||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,s,a,o])=>`cubic-bezier(${i}, ${s}, ${a}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i){if(i)return isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(mapEasingToNativeEasing):supportedWaapiEasing[i]}function animateStyle(i,s,a,{delay:o=0,duration:_,repeat:$=0,repeatType:j="loop",ease:et,times:rt}={}){const nt={[s]:a};rt&&(nt.offset=rt);const it=mapEasingToNativeEasing(et);return Array.isArray(it)&&(nt.easing=it),i.animate(nt,{delay:o,duration:_,easing:Array.isArray(it)?"linear":it,fill:"both",iterations:$+1,direction:j==="reverse"?"alternate":"normal"})}function getFinalKeyframe(i,{repeat:s,repeatType:a="loop"}){const o=s&&a!=="loop"&&s%2===1?0:i.length-1;return i[o]}const calcBezier=(i,s,a)=>(((1-3*a+3*s)*i+(3*a-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,a,o,_){let $,j,et=0;do j=s+(a-s)/2,$=calcBezier(j,o,_)-i,$>0?a=j:s=j;while(Math.abs($)>subdivisionPrecision&&++et<subdivisionMaxIterations);return j}function cubicBezier(i,s,a,o){if(i===s&&a===o)return noop;const _=$=>binarySubdivide($,0,1,i,a);return $=>$===0||$===1?$:calcBezier(_($),s,o)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant(i.length===4);const[s,a,o,_]=i;return cubicBezier(s,a,o,_)}else if(typeof i=="string")return easingLookup[i];return i},isColorString=(i,s)=>a=>!!(isString(a)&&singleColorRegex.test(a)&&a.startsWith(i)||s&&Object.prototype.hasOwnProperty.call(a,s)),splitColor=(i,s,a)=>o=>{if(!isString(o))return o;const[_,$,j,et]=o.match(floatRegex);return{[i]:parseFloat(_),[s]:parseFloat($),[a]:parseFloat(j),alpha:et!==void 0?parseFloat(et):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:a,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(a)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let s="",a="",o="",_="";return i.length>5?(s=i.substring(1,3),a=i.substring(3,5),o=i.substring(5,7),_=i.substring(7,9)):(s=i.substring(1,2),a=i.substring(2,3),o=i.substring(3,4),_=i.substring(4,5),s+=s,a+=a,o+=o,_+=_),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(o,16),alpha:_?parseInt(_,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:a,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(a))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>isString(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)},mix=(i,s,a)=>-a*i+a*s+i;function hueToRgb(i,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(s-i)*6*a:a<1/2?s:a<2/3?i+(s-i)*(2/3-a)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:a,alpha:o}){i/=360,s/=100,a/=100;let _=0,$=0,j=0;if(!s)_=$=j=a;else{const et=a<.5?a*(1+s):a+s-a*s,rt=2*a-et;_=hueToRgb(rt,et,i+1/3),$=hueToRgb(rt,et,i),j=hueToRgb(rt,et,i-1/3)}return{red:Math.round(_*255),green:Math.round($*255),blue:Math.round(j*255),alpha:o}}const mixLinearColor=(i,s,a)=>{const o=i*i;return Math.sqrt(Math.max(0,a*(s*s-o)+o))},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);let a=s.parse(i);return s===hsla&&(a=hslaToRgba(a)),a}const mixColor=(i,s)=>{const a=asRGBA(i),o=asRGBA(s),_={...a};return $=>(_.red=mixLinearColor(a.red,o.red,$),_.green=mixLinearColor(a.green,o.green,$),_.blue=mixLinearColor(a.blue,o.blue,$),_.alpha=mix(a.alpha,o.alpha,$),rgba.transform(_))};function test(i){var s,a;return isNaN(i)&&isString(i)&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((a=i.match(colorRegex))===null||a===void 0?void 0:a.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number.parse};function tokenise(i,{regex:s,countKey:a,token:o,parse:_}){const $=i.tokenised.match(s);$&&(i["num"+a]=$.length,i.tokenised=i.tokenised.replace(s,o),i.values.push(...$.map(_)))}function analyseComplexValue(i){const s=i.toString(),a={value:s,tokenised:s,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&tokenise(a,cssVarTokeniser),tokenise(a,colorTokeniser),tokenise(a,numberTokeniser),a}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{values:s,numColors:a,numVars:o,tokenised:_}=analyseComplexValue(i),$=s.length;return j=>{let et=_;for(let rt=0;rt<$;rt++)rt<o?et=et.replace(cssVarTokeniser.token,j[rt]):rt<o+a?et=et.replace(colorTokeniser.token,color.transform(j[rt])):et=et.replace(numberTokeniser.token,sanitize(j[rt]));return et}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parseComplexValue(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(i,s)=>a=>`${a>0?s:i}`;function getMixer(i,s){return typeof i=="number"?a=>mix(i,s,a):color.test(i)?mixColor(i,s):i.startsWith("var(")?mixImmediate(i,s):mixComplex(i,s)}const mixArray=(i,s)=>{const a=[...i],o=a.length,_=i.map(($,j)=>getMixer($,s[j]));return $=>{for(let j=0;j<o;j++)a[j]=_[j]($);return a}},mixObject=(i,s)=>{const a={...i,...s},o={};for(const _ in a)i[_]!==void 0&&s[_]!==void 0&&(o[_]=getMixer(i[_],s[_]));return _=>{for(const $ in o)a[$]=o[$](_);return a}},mixComplex=(i,s)=>{const a=complex.createTransformer(s),o=analyseComplexValue(i),_=analyseComplexValue(s);return o.numVars===_.numVars&&o.numColors===_.numColors&&o.numNumbers>=_.numNumbers?pipe(mixArray(o.values,_.values),a):mixImmediate(i,s)},progress$1=(i,s,a)=>{const o=s-i;return o===0?1:(a-i)/o},mixNumber=(i,s)=>a=>mix(i,s,a);function detectMixerFactory(i){return typeof i=="number"?mixNumber:typeof i=="string"?color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?mixObject:mixNumber}function createMixers(i,s,a){const o=[],_=a||detectMixerFactory(i[0]),$=i.length-1;for(let j=0;j<$;j++){let et=_(i[j],i[j+1]);if(s){const rt=Array.isArray(s)?s[j]||noop:s;et=pipe(rt,et)}o.push(et)}return o}function interpolate(i,s,{clamp:a=!0,ease:o,mixer:_}={}){const $=i.length;if(invariant($===s.length),$===1)return()=>s[0];i[0]>i[$-1]&&(i=[...i].reverse(),s=[...s].reverse());const j=createMixers(s,o,_),et=j.length,rt=nt=>{let it=0;if(et>1)for(;it<i.length-2&&!(nt<i[it+1]);it++);const ot=progress$1(i[it],i[it+1],nt);return j[it](ot)};return a?nt=>rt(clamp(i[0],i[$-1],nt)):rt}function fillOffset(i,s){const a=i[i.length-1];for(let o=1;o<=s;o++){const _=progress$1(0,s,o);i.push(mix(a,1,_))}}function defaultOffset(i){const s=[0];return fillOffset(s,i.length-1),s}function convertOffsetToTimes(i,s){return i.map(a=>a*s)}function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:s,times:a,ease:o="easeInOut"}){const _=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),$={done:!1,value:s[0]},j=convertOffsetToTimes(a&&a.length===s.length?a:defaultOffset(s),i),et=interpolate(j,s,{ease:Array.isArray(_)?_:defaultEasing(s,_)});return{calculatedDuration:i,next:rt=>($.value=et(rt),$.done=rt>=i,$)}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,s,a){const o=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(a-i(o),s-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:a=0,mass:o=1}){let _,$,j=1-s;j=clamp(minDamping,maxDamping,j),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),j<1?(_=nt=>{const it=nt*j,ot=it*i,at=it-a,lt=calcAngularFreq(nt,j),gt=Math.exp(-ot);return safeMin-at/lt*gt},$=nt=>{const ot=nt*j*i,at=ot*a+a,lt=Math.pow(j,2)*Math.pow(nt,2)*i,gt=Math.exp(-ot),ct=calcAngularFreq(Math.pow(nt,2),j);return(-_(nt)+safeMin>0?-1:1)*((at-lt)*gt)/ct}):(_=nt=>{const it=Math.exp(-nt*i),ot=(nt-a)*i+1;return-.001+it*ot},$=nt=>{const it=Math.exp(-nt*i),ot=(a-nt)*(i*i);return it*ot});const et=5/i,rt=approximateRoot(_,$,et);if(i=secondsToMilliseconds(i),isNaN(rt))return{stiffness:100,damping:10,duration:i};{const nt=Math.pow(rt,2)*o;return{stiffness:nt,damping:j*2*Math.sqrt(o*nt),duration:i}}}const rootIterations=12;function approximateRoot(i,s,a){let o=a;for(let _=1;_<rootIterations;_++)o=o-i(o)/s(o);return o}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(a=>i[a]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const a=findSpring(i);s={...s,...a,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:i,restDelta:s,restSpeed:a,...o}){const _=i[0],$=i[i.length-1],j={done:!1,value:_},{stiffness:et,damping:rt,mass:nt,duration:it,velocity:ot,isResolvedFromDuration:at}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),lt=ot||0,gt=rt/(2*Math.sqrt(et*nt)),ct=$-_,yt=millisecondsToSeconds(Math.sqrt(et/nt)),pt=Math.abs(ct)<5;a||(a=pt?.01:2),s||(s=pt?.005:.5);let ut;if(gt<1){const ht=calcAngularFreq(yt,gt);ut=mt=>{const dt=Math.exp(-gt*yt*mt);return $-dt*((lt+gt*yt*ct)/ht*Math.sin(ht*mt)+ct*Math.cos(ht*mt))}}else if(gt===1)ut=ht=>$-Math.exp(-yt*ht)*(ct+(lt+yt*ct)*ht);else{const ht=yt*Math.sqrt(gt*gt-1);ut=mt=>{const dt=Math.exp(-gt*yt*mt),vt=Math.min(ht*mt,300);return $-dt*((lt+gt*yt*ct)*Math.sinh(vt)+ht*ct*Math.cosh(vt))/ht}}return{calculatedDuration:at&&it||null,next:ht=>{const mt=ut(ht);if(at)j.done=ht>=it;else{let dt=lt;ht!==0&&(gt<1?dt=calcGeneratorVelocity(ut,ht,mt):dt=0);const vt=Math.abs(dt)<=a,St=Math.abs($-mt)<=s;j.done=vt&&St}return j.value=j.done?$:mt,j}}}function inertia({keyframes:i,velocity:s=0,power:a=.8,timeConstant:o=325,bounceDamping:_=10,bounceStiffness:$=500,modifyTarget:j,min:et,max:rt,restDelta:nt=.5,restSpeed:it}){const ot=i[0],at={done:!1,value:ot},lt=_t=>et!==void 0&&_t<et||rt!==void 0&&_t>rt,gt=_t=>et===void 0?rt:rt===void 0||Math.abs(et-_t)<Math.abs(rt-_t)?et:rt;let ct=a*s;const yt=ot+ct,pt=j===void 0?yt:j(yt);pt!==yt&&(ct=pt-ot);const ut=_t=>-ct*Math.exp(-_t/o),ht=_t=>pt+ut(_t),mt=_t=>{const Et=ut(_t),Pt=ht(_t);at.done=Math.abs(Et)<=nt,at.value=at.done?pt:Pt};let dt,vt;const St=_t=>{lt(at.value)&&(dt=_t,vt=spring({keyframes:[at.value,gt(at.value)],velocity:calcGeneratorVelocity(ht,_t,at.value),damping:_,stiffness:$,restDelta:nt,restSpeed:it}))};return St(0),{calculatedDuration:null,next:_t=>{let Et=!1;return!vt&&dt===void 0&&(Et=!0,mt(_t),St(_t)),dt!==void 0&&_t>dt?vt.next(_t-dt):(!Et&&mt(_t),at)}}}const frameloopDriver=i=>{const s=({timestamp:a})=>i(a);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let s=0;const a=50;let o=i.next(s);for(;!o.done&&s<maxGeneratorDuration;)s+=a,o=i.next(s);return s>=maxGeneratorDuration?1/0:s}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:i=!0,delay:s=0,driver:a=frameloopDriver,keyframes:o,type:_="keyframes",repeat:$=0,repeatDelay:j=0,repeatType:et="loop",onPlay:rt,onStop:nt,onComplete:it,onUpdate:ot,...at}){let lt=1,gt=!1,ct,yt;const pt=()=>{yt=new Promise(Wt=>{ct=Wt})};pt();let ut;const ht=types[_]||keyframes;let mt;ht!==keyframes&&typeof o[0]!="number"&&(mt=interpolate([0,100],o,{clamp:!1}),o=[0,100]);const dt=ht({...at,keyframes:o});let vt;et==="mirror"&&(vt=ht({...at,keyframes:[...o].reverse(),velocity:-(at.velocity||0)}));let St="idle",_t=null,Et=null,Pt=null;dt.calculatedDuration===null&&$&&(dt.calculatedDuration=calcGeneratorDuration(dt));const{calculatedDuration:Mt}=dt;let Rt=1/0,Ut=1/0;Mt!==null&&(Rt=Mt+j,Ut=Rt*($+1)-j);let Ct=0;const Kt=Wt=>{if(Et===null)return;lt>0&&(Et=Math.min(Et,Wt)),lt<0&&(Et=Math.min(Wt-Ut/lt,Et)),_t!==null?Ct=_t:Ct=Math.round(Wt-Et)*lt;const tr=Ct-s*(lt>=0?1:-1),mr=lt>=0?tr<0:tr>Ut;Ct=Math.max(tr,0),St==="finished"&&_t===null&&(Ct=Ut);let Yt=Ct,kt=dt;if($){const At=Math.min(Ct,Ut)/Rt;let Ot=Math.floor(At),Dt=At%1;!Dt&&At>=1&&(Dt=1),Dt===1&&Ot--,Ot=Math.min(Ot,$+1),!!(Ot%2)&&(et==="reverse"?(Dt=1-Dt,j&&(Dt-=j/Rt)):et==="mirror"&&(kt=vt)),Yt=clamp(0,1,Dt)*Rt}const Ft=mr?{done:!1,value:o[0]}:kt.next(Yt);mt&&(Ft.value=mt(Ft.value));let{done:er}=Ft;!mr&&Mt!==null&&(er=lt>=0?Ct>=Ut:Ct<=0);const Zt=_t===null&&(St==="finished"||St==="running"&&er);return ot&&ot(Ft.value),Zt&&jt(),Ft},Gt=()=>{ut&&ut.stop(),ut=void 0},It=()=>{St="idle",Gt(),ct(),pt(),Et=Pt=null},jt=()=>{St="finished",it&&it(),Gt(),ct()},$t=()=>{if(gt)return;ut||(ut=a(Kt));const Wt=ut.now();rt&&rt(),_t!==null?Et=Wt-_t:(!Et||St==="finished")&&(Et=Wt),St==="finished"&&pt(),Pt=Et,_t=null,St="running",ut.start()};i&&$t();const Jt={then(Wt,tr){return yt.then(Wt,tr)},get time(){return millisecondsToSeconds(Ct)},set time(Wt){Wt=secondsToMilliseconds(Wt),Ct=Wt,_t!==null||!ut||lt===0?_t=Wt:Et=ut.now()-Wt/lt},get duration(){const Wt=dt.calculatedDuration===null?calcGeneratorDuration(dt):dt.calculatedDuration;return millisecondsToSeconds(Wt)},get speed(){return lt},set speed(Wt){Wt===lt||!ut||(lt=Wt,Jt.time=millisecondsToSeconds(Ct))},get state(){return St},play:$t,pause:()=>{St="paused",_t=Ct},stop:()=>{gt=!0,St!=="idle"&&(St="idle",nt&&nt(),It())},cancel:()=>{Pt!==null&&Kt(Pt),It()},complete:()=>{St="finished"},sample:Wt=>(Et=0,Kt(Wt))};return Jt}function memo(i){let s;return()=>(s===void 0&&(s=i()),s)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(i,s)=>s.type==="spring"||i==="backgroundColor"||!isWaapiSupportedEasing(s.ease);function createAcceleratedAnimation(i,s,{onUpdate:a,onComplete:o,..._}){if(!(supportsWaapi()&&acceleratedValues.has(s)&&!_.repeatDelay&&_.repeatType!=="mirror"&&_.damping!==0&&_.type!=="inertia"))return!1;let j=!1,et,rt,nt=!1;const it=()=>{rt=new Promise(ht=>{et=ht})};it();let{keyframes:ot,duration:at=300,ease:lt,times:gt}=_;if(requiresPregeneratedKeyframes(s,_)){const ht=animateValue({..._,repeat:0,delay:0});let mt={done:!1,value:ot[0]};const dt=[];let vt=0;for(;!mt.done&&vt<maxDuration;)mt=ht.sample(vt),dt.push(mt.value),vt+=sampleDelta;gt=void 0,ot=dt,at=vt-sampleDelta,lt="linear"}const ct=animateStyle(i.owner.current,s,ot,{..._,duration:at,ease:lt,times:gt}),yt=()=>{nt=!1,ct.cancel()},pt=()=>{nt=!0,frame.update(yt),et(),it()};return ct.onfinish=()=>{nt||(i.set(getFinalKeyframe(ot,_)),o&&o(),pt())},{then(ht,mt){return rt.then(ht,mt)},attachTimeline(ht){return ct.timeline=ht,ct.onfinish=null,noop},get time(){return millisecondsToSeconds(ct.currentTime||0)},set time(ht){ct.currentTime=secondsToMilliseconds(ht)},get speed(){return ct.playbackRate},set speed(ht){ct.playbackRate=ht},get duration(){return millisecondsToSeconds(at)},play:()=>{j||(ct.play(),cancelFrame(yt))},pause:()=>ct.pause(),stop:()=>{if(j=!0,ct.playState==="idle")return;const{currentTime:ht}=ct;if(ht){const mt=animateValue({..._,autoplay:!1});i.setWithVelocity(mt.sample(ht-sampleDelta).value,mt.sample(ht).value,sampleDelta)}pt()},complete:()=>{nt||ct.finish()},cancel:pt}}function createInstantAnimation({keyframes:i,delay:s,onUpdate:a,onComplete:o}){const _=()=>(a&&a(i[i.length-1]),o&&o(),{time:0,speed:1,duration:0,play:noop,pause:noop,stop:noop,then:$=>($(),Promise.resolve()),cancel:noop,complete:noop});return s?animateValue({keyframes:[0,1],duration:0,delay:s,onComplete:_}):_()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease,isAnimatable=(i,s)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(complex.test(s)||s==="0")&&!s.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,a]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[o]=a.match(floatRegex)||[];if(!o)return i;const _=a.replace(o,"");let $=maxDefaults.has(s)?1:0;return o!==a&&($*=100),s+"("+$+_+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){let a=getDefaultValueType(i);return a!==filter&&(a=complex),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const isZeroValueString=i=>/^0[^.\s]+$/.test(i);function isNone(i){if(typeof i=="number")return i===0;if(i!==null)return i==="none"||i==="0"||isZeroValueString(i)}function getKeyframes(i,s,a,o){const _=isAnimatable(s,a);let $;Array.isArray(a)?$=[...a]:$=[null,a];const j=o.from!==void 0?o.from:i.get();let et;const rt=[];for(let nt=0;nt<$.length;nt++)$[nt]===null&&($[nt]=nt===0?j:$[nt-1]),isNone($[nt])&&rt.push(nt),typeof $[nt]=="string"&&$[nt]!=="none"&&$[nt]!=="0"&&(et=$[nt]);if(_&&rt.length&&et)for(let nt=0;nt<rt.length;nt++){const it=rt[nt];$[it]=getAnimatableNone(s,et)}return $}function isTransitionDefined({when:i,delay:s,delayChildren:a,staggerChildren:o,staggerDirection:_,repeat:$,repeatType:j,repeatDelay:et,from:rt,elapsed:nt,...it}){return!!Object.keys(it).length}function getValueTransition(i,s){return i[s]||i.default||i}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(i,s,a,o={})=>_=>{const $=getValueTransition(o,i)||{},j=$.delay||o.delay||0;let{elapsed:et=0}=o;et=et-secondsToMilliseconds(j);const rt=getKeyframes(s,i,a,$),nt=rt[0],it=rt[rt.length-1],ot=isAnimatable(i,nt),at=isAnimatable(i,it);let lt={keyframes:rt,velocity:s.getVelocity(),ease:"easeOut",...$,delay:-et,onUpdate:gt=>{s.set(gt),$.onUpdate&&$.onUpdate(gt)},onComplete:()=>{_(),$.onComplete&&$.onComplete()}};if(isTransitionDefined($)||(lt={...lt,...getDefaultTransition(i,lt)}),lt.duration&&(lt.duration=secondsToMilliseconds(lt.duration)),lt.repeatDelay&&(lt.repeatDelay=secondsToMilliseconds(lt.repeatDelay)),!ot||!at||instantAnimationState.current||$.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(lt);if(!o.isHandoff&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate){const gt=createAcceleratedAnimation(s,i,lt);if(gt)return gt}return animateValue(lt)};function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}const isNumericalString=i=>/^\-?\d*\.?\d+$/.test(i);function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,a,o){const _=this.subscriptions.length;if(_)if(_===1)this.subscriptions[0](s,a,o);else for(let $=0;$<_;$++){const j=this.subscriptions[$];j&&j(s,a,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,_=!0)=>{this.prev=this.current,this.current=o;const{delta:$,timestamp:j}=frameData;this.lastUpdated!==j&&(this.timeDelta=$,this.lastUpdated=j,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),_&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=isFloat(this.current),this.owner=a.owner}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(a);return s==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,o){this.set(a),this.prev=s,this.timeDelta=o}jump(s){this.updateAndNotify(s),this.prev=s,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}const testValueType=i=>s=>s.test(i),auto$1={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i));function setMotionValue(i,s,a){i.hasValue(s)?i.getValue(s).set(a):i.addValue(s,motionValue(a))}function setTarget(i,s){const a=resolveVariant(i,s);let{transitionEnd:o={},transition:_={},...$}=a?i.makeTargetAnimatable(a,!1):{};$={...$,...o};for(const j in $){const et=resolveFinalValueInKeyframes($[j]);setMotionValue(i,j,et)}}function checkTargetForNewValues(i,s,a){var o,_;const $=Object.keys(s).filter(et=>!i.hasValue(et)),j=$.length;if(j)for(let et=0;et<j;et++){const rt=$[et],nt=s[rt];let it=null;Array.isArray(nt)&&(it=nt[0]),it===null&&(it=(_=(o=a[rt])!==null&&o!==void 0?o:i.readValue(rt))!==null&&_!==void 0?_:s[rt]),it!=null&&(typeof it=="string"&&(isNumericalString(it)||isZeroValueString(it))?it=parseFloat(it):!findValueType(it)&&complex.test(nt)&&(it=getAnimatableNone(rt,nt)),i.addValue(rt,motionValue(it,{owner:i})),a[rt]===void 0&&(a[rt]=it),it!==null&&i.setBaseTarget(rt,it))}}function getOriginFromTransition(i,s){return s?(s[i]||s.default||s).from:void 0}function getOrigin(i,s,a){const o={};for(const _ in i){const $=getOriginFromTransition(_,s);if($!==void 0)o[_]=$;else{const j=a.getValue(_);j&&(o[_]=j.get())}}return o}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},a){const o=i.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,o}function hasKeyframesChanged(i,s){const a=i.get();if(Array.isArray(s)){for(let o=0;o<s.length;o++)if(s[o]!==a)return!0}else return a!==s}function animateTarget(i,s,{delay:a=0,transitionOverride:o,type:_}={}){let{transition:$=i.getDefaultTransition(),transitionEnd:j,...et}=i.makeTargetAnimatable(s);const rt=i.getValue("willChange");o&&($=o);const nt=[],it=_&&i.animationState&&i.animationState.getState()[_];for(const ot in et){const at=i.getValue(ot),lt=et[ot];if(!at||lt===void 0||it&&shouldBlockAnimation(it,ot))continue;const gt={delay:a,elapsed:0,...getValueTransition($||{},ot)};if(window.HandoffAppearAnimations){const pt=i.getProps()[optimizedAppearDataAttribute];if(pt){const ut=window.HandoffAppearAnimations(pt,ot,at,frame);ut!==null&&(gt.elapsed=ut,gt.isHandoff=!0)}}let ct=!gt.isHandoff&&!hasKeyframesChanged(at,lt);if(gt.type==="spring"&&(at.getVelocity()||gt.velocity)&&(ct=!1),at.animation&&(ct=!1),ct)continue;at.start(animateMotionValue(ot,at,lt,i.shouldReduceMotion&&transformProps.has(ot)?{type:!1}:gt));const yt=at.animation;isWillChangeMotionValue(rt)&&(rt.add(ot),yt.then(()=>rt.remove(ot))),nt.push(yt)}return j&&Promise.all(nt).then(()=>{j&&setTarget(i,j)}),nt}function animateVariant(i,s,a={}){const o=resolveVariant(i,s,a.custom);let{transition:_=i.getDefaultTransition()||{}}=o||{};a.transitionOverride&&(_=a.transitionOverride);const $=o?()=>Promise.all(animateTarget(i,o,a)):()=>Promise.resolve(),j=i.variantChildren&&i.variantChildren.size?(rt=0)=>{const{delayChildren:nt=0,staggerChildren:it,staggerDirection:ot}=_;return animateChildren(i,s,nt+rt,it,ot,a)}:()=>Promise.resolve(),{when:et}=_;if(et){const[rt,nt]=et==="beforeChildren"?[$,j]:[j,$];return rt().then(()=>nt())}else return Promise.all([$(),j(a.delay)])}function animateChildren(i,s,a=0,o=0,_=1,$){const j=[],et=(i.variantChildren.size-1)*o,rt=_===1?(nt=0)=>nt*o:(nt=0)=>et-nt*o;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((nt,it)=>{nt.notify("AnimationStart",s),j.push(animateVariant(nt,s,{...$,delay:a+rt(it)}).then(()=>nt.notify("AnimationComplete",s)))}),Promise.all(j)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function animateVisualElement(i,s,a={}){i.notify("AnimationStart",s);let o;if(Array.isArray(s)){const _=s.map($=>animateVariant(i,$,a));o=Promise.all(_)}else if(typeof s=="string")o=animateVariant(i,s,a);else{const _=typeof s=="function"?resolveVariant(i,s,a.custom):s;o=Promise.all(animateTarget(i,_,a))}return o.then(()=>i.notify("AnimationComplete",s))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:a,options:o})=>animateVisualElement(i,a,o)))}function createAnimationState(i){let s=animateList(i);const a=createState();let o=!0;const _=(rt,nt)=>{const it=resolveVariant(i,nt);if(it){const{transition:ot,transitionEnd:at,...lt}=it;rt={...rt,...lt,...at}}return rt};function $(rt){s=rt(i)}function j(rt,nt){const it=i.getProps(),ot=i.getVariantContext(!0)||{},at=[],lt=new Set;let gt={},ct=1/0;for(let pt=0;pt<numAnimationTypes;pt++){const ut=reversePriorityOrder[pt],ht=a[ut],mt=it[ut]!==void 0?it[ut]:ot[ut],dt=isVariantLabel(mt),vt=ut===nt?ht.isActive:null;vt===!1&&(ct=pt);let St=mt===ot[ut]&&mt!==it[ut]&&dt;if(St&&o&&i.manuallyAnimateOnMount&&(St=!1),ht.protectedKeys={...gt},!ht.isActive&&vt===null||!mt&&!ht.prevProp||isAnimationControls(mt)||typeof mt=="boolean")continue;let Et=checkVariantsDidChange(ht.prevProp,mt)||ut===nt&&ht.isActive&&!St&&dt||pt>ct&&dt,Pt=!1;const Mt=Array.isArray(mt)?mt:[mt];let Rt=Mt.reduce(_,{});vt===!1&&(Rt={});const{prevResolvedValues:Ut={}}=ht,Ct={...Ut,...Rt},Kt=Gt=>{Et=!0,lt.has(Gt)&&(Pt=!0,lt.delete(Gt)),ht.needsAnimating[Gt]=!0};for(const Gt in Ct){const It=Rt[Gt],jt=Ut[Gt];if(gt.hasOwnProperty(Gt))continue;let $t=!1;isKeyframesTarget(It)&&isKeyframesTarget(jt)?$t=!shallowCompare(It,jt):$t=It!==jt,$t?It!==void 0?Kt(Gt):lt.add(Gt):It!==void 0&&lt.has(Gt)?Kt(Gt):ht.protectedKeys[Gt]=!0}ht.prevProp=mt,ht.prevResolvedValues=Rt,ht.isActive&&(gt={...gt,...Rt}),o&&i.blockInitialAnimation&&(Et=!1),Et&&(!St||Pt)&&at.push(...Mt.map(Gt=>({animation:Gt,options:{type:ut,...rt}})))}if(lt.size){const pt={};lt.forEach(ut=>{const ht=i.getBaseTarget(ut);ht!==void 0&&(pt[ut]=ht)}),at.push({animation:pt})}let yt=!!at.length;return o&&(it.initial===!1||it.initial===it.animate)&&!i.manuallyAnimateOnMount&&(yt=!1),o=!1,yt?s(at):Promise.resolve()}function et(rt,nt,it){var ot;if(a[rt].isActive===nt)return Promise.resolve();(ot=i.variantChildren)===null||ot===void 0||ot.forEach(lt=>{var gt;return(gt=lt.animationState)===null||gt===void 0?void 0:gt.setActive(rt,nt)}),a[rt].isActive=nt;const at=j(it,rt);for(const lt in a)a[lt].protectedKeys={};return at}return{animateChanges:j,setActive:et,setAnimateFunction:$,getState:()=>a}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();this.unmount(),isAnimationControls(s)&&(this.unmount=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a,custom:o}=this.node.presenceContext,{isPresent:_}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===_)return;const $=this.node.animationState.setActive("exit",!s,{custom:o??this.node.getProps().custom});a&&!s&&$.then(()=>a(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const a=distance(i.x,s.x),o=distance(i.y,s.y);return Math.sqrt(a**2+o**2)}class PanSession{constructor(s,a,{transformPagePoint:o,contextWindow:_,dragSnapToOrigin:$=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ot=getPanInfo(this.lastMoveEventInfo,this.history),at=this.startEvent!==null,lt=distance2D(ot.offset,{x:0,y:0})>=3;if(!at&&!lt)return;const{point:gt}=ot,{timestamp:ct}=frameData;this.history.push({...gt,timestamp:ct});const{onStart:yt,onMove:pt}=this.handlers;at||(yt&&yt(this.lastMoveEvent,ot),this.startEvent=this.lastMoveEvent),pt&&pt(this.lastMoveEvent,ot)},this.handlePointerMove=(ot,at)=>{this.lastMoveEvent=ot,this.lastMoveEventInfo=transformPoint(at,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ot,at)=>{this.end();const{onEnd:lt,onSessionEnd:gt,resumeAnimation:ct}=this.handlers;if(this.dragSnapToOrigin&&ct&&ct(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const yt=getPanInfo(ot.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(at,this.transformPagePoint),this.history);this.startEvent&&lt&&lt(ot,yt),gt&&gt(ot,yt)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=$,this.handlers=a,this.transformPagePoint=o,this.contextWindow=_||window;const j=extractEventInfo(s),et=transformPoint(j,this.transformPagePoint),{point:rt}=et,{timestamp:nt}=frameData;this.history=[{...rt,timestamp:nt}];const{onSessionStart:it}=a;it&&it(s,getPanInfo(et,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let a=i.length-1,o=null;const _=lastDevicePoint(i);for(;a>=0&&(o=i[a],!(_.timestamp-o.timestamp>secondsToMilliseconds(s)));)a--;if(!o)return{x:0,y:0};const $=millisecondsToSeconds(_.timestamp-o.timestamp);if($===0)return{x:0,y:0};const j={x:(_.x-o.x)/$,y:(_.y-o.y)/$};return j.x===1/0&&(j.x=0),j.y===1/0&&(j.y=0),j}function calcLength(i){return i.max-i.min}function isNear(i,s=0,a=.01){return Math.abs(i-s)<=a}function calcAxisDelta(i,s,a,o=.5){i.origin=o,i.originPoint=mix(s.min,s.max,i.origin),i.scale=calcLength(a)/calcLength(s),(isNear(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=mix(a.min,a.max,i.origin)-i.originPoint,(isNear(i.translate)||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,a,o){calcAxisDelta(i.x,s.x,a.x,o?o.originX:void 0),calcAxisDelta(i.y,s.y,a.y,o?o.originY:void 0)}function calcRelativeAxis(i,s,a){i.min=a.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,a){calcRelativeAxis(i.x,s.x,a.x),calcRelativeAxis(i.y,s.y,a.y)}function calcRelativeAxisPosition(i,s,a){i.min=s.min-a.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,a){calcRelativeAxisPosition(i.x,s.x,a.x),calcRelativeAxisPosition(i.y,s.y,a.y)}function applyConstraints(i,{min:s,max:a},o){return s!==void 0&&i<s?i=o?mix(s,i,o.min):Math.max(i,s):a!==void 0&&i>a&&(i=o?mix(a,i,o.max):Math.min(i,a)),i}function calcRelativeAxisConstraints(i,s,a){return{min:s!==void 0?i.min+s:void 0,max:a!==void 0?i.max+a-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:a,bottom:o,right:_}){return{x:calcRelativeAxisConstraints(i.x,a,_),y:calcRelativeAxisConstraints(i.y,s,o)}}function calcViewportAxisConstraints(i,s){let a=s.min-i.min,o=s.max-i.max;return s.max-s.min<i.max-i.min&&([a,o]=[o,a]),{min:a,max:o}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin(i,s){let a=.5;const o=calcLength(i),_=calcLength(s);return _>o?a=progress$1(s.min,s.max-o,i.min):o>_&&(a=progress$1(i.min,i.max-_,s.min)),clamp(0,1,a)}function rebaseAxisConstraints(i,s){const a={};return s.min!==void 0&&(a.min=s.min-i.min),s.max!==void 0&&(a.max=s.max-i.min),a}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,a){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,a)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:a,bottom:o}){return{x:{min:s,max:a},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const a=s({x:i.left,y:i.top}),o=s({x:i.right,y:i.bottom});return{top:a.y,left:a.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:a}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(a)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,a){const o=i-a,_=s*o;return a+_}function applyPointDelta(i,s,a,o,_){return _!==void 0&&(i=scalePoint(i,_,o)),scalePoint(i,a,o)+s}function applyAxisDelta(i,s=0,a=1,o,_){i.min=applyPointDelta(i.min,s,a,o,_),i.max=applyPointDelta(i.max,s,a,o,_)}function applyBoxDelta(i,{x:s,y:a}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,a.translate,a.scale,a.originPoint)}function applyTreeDeltas(i,s,a,o=!1){const _=a.length;if(!_)return;s.x=s.y=1;let $,j;for(let et=0;et<_;et++){$=a[et],j=$.projectionDelta;const rt=$.instance;rt&&rt.style&&rt.style.display==="contents"||(o&&$.options.layoutScroll&&$.scroll&&$!==$.root&&transformBox(i,{x:-$.scroll.offset.x,y:-$.scroll.offset.y}),j&&(s.x*=j.x.scale,s.y*=j.y.scale,applyBoxDelta(i,j)),o&&hasTransform($.latestValues)&&transformBox(i,$.latestValues))}s.x=snapToDefault(s.x),s.y=snapToDefault(s.y)}function snapToDefault(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,[a,o,_]){const $=s[_]!==void 0?s[_]:.5,j=mix(i.min,i.max,$);applyAxisDelta(i,s[a],s[o],j,s.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(i,s){transformAxis(i.x,s,xKeys$1),transformAxis(i.y,s,yKeys$1)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,a){const o=measureViewportBox(i,a),{scroll:_}=s;return _&&(translateAxis(o.x,_.offset.x),translateAxis(o.y,_.offset.y)),o}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:a=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const _=it=>{const{dragSnapToOrigin:ot}=this.getProps();ot?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(extractEventInfo(it,"page").point)},$=(it,ot)=>{const{drag:at,dragPropagation:lt,onDragStart:gt}=this.getProps();if(at&&!lt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(at),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(yt=>{let pt=this.getAxisMotionValue(yt).get()||0;if(percent.test(pt)){const{projection:ut}=this.visualElement;if(ut&&ut.layout){const ht=ut.layout.layoutBox[yt];ht&&(pt=calcLength(ht)*(parseFloat(pt)/100))}}this.originPoint[yt]=pt}),gt&&frame.update(()=>gt(it,ot),!1,!0);const{animationState:ct}=this.visualElement;ct&&ct.setActive("whileDrag",!0)},j=(it,ot)=>{const{dragPropagation:at,dragDirectionLock:lt,onDirectionLock:gt,onDrag:ct}=this.getProps();if(!at&&!this.openGlobalLock)return;const{offset:yt}=ot;if(lt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(yt),this.currentDirection!==null&&gt&&gt(this.currentDirection);return}this.updateAxis("x",ot.point,yt),this.updateAxis("y",ot.point,yt),this.visualElement.render(),ct&&ct(it,ot)},et=(it,ot)=>this.stop(it,ot),rt=()=>eachAxis(it=>{var ot;return this.getAnimationState(it)==="paused"&&((ot=this.getAxisMotionValue(it).animation)===null||ot===void 0?void 0:ot.play())}),{dragSnapToOrigin:nt}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:_,onStart:$,onMove:j,onSessionEnd:et,resumeAnimation:rt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:nt,contextWindow:getContextWindow(this.visualElement)})}stop(s,a){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:_}=a;this.startAnimation(_);const{onDragEnd:$}=this.getProps();$&&frame.update(()=>$(s,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,o){const{drag:_}=this.getProps();if(!o||!shouldDrag(s,_,this.currentDirection))return;const $=this.getAxisMotionValue(s);let j=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(j=applyConstraints(j,this.constraints[s],this.elastic[s])),$.set(j)}resolveConstraints(){var s;const{dragConstraints:a,dragElastic:o}=this.getProps(),_=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,$=this.constraints;a&&isRefObject(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&_?this.constraints=calcRelativeConstraints(_.layoutBox,a):this.constraints=!1,this.elastic=resolveDragElastic(o),$!==this.constraints&&_&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(j=>{this.getAxisMotionValue(j)&&(this.constraints[j]=rebaseAxisConstraints(_.layoutBox[j],this.constraints[j]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:_}=this.visualElement;if(!_||!_.layout)return!1;const $=measurePageBox(o,_.root,this.visualElement.getTransformPagePoint());let j=calcViewportConstraints(_.layout.layoutBox,$);if(a){const et=a(convertBoxToBoundingBox(j));this.hasMutatedConstraints=!!et,et&&(j=convertBoundingBoxToBox(et))}return j}startAnimation(s){const{drag:a,dragMomentum:o,dragElastic:_,dragTransition:$,dragSnapToOrigin:j,onDragTransitionEnd:et}=this.getProps(),rt=this.constraints||{},nt=eachAxis(it=>{if(!shouldDrag(it,a,this.currentDirection))return;let ot=rt&&rt[it]||{};j&&(ot={min:0,max:0});const at=_?200:1e6,lt=_?40:1e7,gt={type:"inertia",velocity:o?s[it]:0,bounceStiffness:at,bounceDamping:lt,timeConstant:750,restDelta:1,restSpeed:10,...$,...ot};return this.startAxisValueAnimation(it,gt)});return Promise.all(nt).then(et)}startAxisValueAnimation(s,a){const o=this.getAxisMotionValue(s);return o.start(animateMotionValue(s,o,0,a))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(s){const a="_drag"+s.toUpperCase(),o=this.visualElement.getProps(),_=o[a];return _||this.visualElement.getValue(s,(o.initial?o.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(a=>{const{drag:o}=this.getProps();if(!shouldDrag(a,o,this.currentDirection))return;const{projection:_}=this.visualElement,$=this.getAxisMotionValue(a);if(_&&_.layout){const{min:j,max:et}=_.layout.layoutBox[a];$.set(s[a]-mix(j,et,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(a)||!o||!this.constraints)return;this.stopAnimation();const _={x:0,y:0};eachAxis(j=>{const et=this.getAxisMotionValue(j);if(et){const rt=et.get();_[j]=calcOrigin({min:rt,max:rt},this.constraints[j])}});const{transformTemplate:$}=this.visualElement.getProps();this.visualElement.current.style.transform=$?$({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(j=>{if(!shouldDrag(j,s,null))return;const et=this.getAxisMotionValue(j),{min:rt,max:nt}=this.constraints[j];et.set(mix(rt,nt,_[j]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,a=addPointerEvent(s,"pointerdown",rt=>{const{drag:nt,dragListener:it=!0}=this.getProps();nt&&it&&this.start(rt)}),o=()=>{const{dragConstraints:rt}=this.getProps();isRefObject(rt)&&(this.constraints=this.resolveRefConstraints())},{projection:_}=this.visualElement,$=_.addEventListener("measure",o);_&&!_.layout&&(_.root&&_.root.updateScroll(),_.updateLayout()),o();const j=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),et=_.addEventListener("didUpdate",({delta:rt,hasLayoutChanged:nt})=>{this.isDragging&&nt&&(eachAxis(it=>{const ot=this.getAxisMotionValue(it);ot&&(this.originPoint[it]+=rt[it].translate,ot.set(ot.get()+rt[it].translate))}),this.visualElement.render())});return()=>{j(),a(),$(),et&&et()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:o=!1,dragPropagation:_=!1,dragConstraints:$=!1,dragElastic:j=defaultElastic,dragMomentum:et=!0}=s;return{...s,drag:a,dragDirectionLock:o,dragPropagation:_,dragConstraints:$,dragElastic:j,dragMomentum:et}}}function shouldDrag(i,s,a){return(s===!0||s===i)&&(a===null||a===i)}function getCurrentDirection(i,s=10){let a=null;return Math.abs(i.y)>s?a="y":Math.abs(i.x)>s&&(a="x"),a}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(s,a)=>{i&&frame.update(()=>i(s,a))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:o,onPanEnd:_}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(a),onMove:o,onEnd:($,j)=>{delete this.session,_&&frame.update(()=>_($,j))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=i,_=reactExports.useId();return reactExports.useEffect(()=>o(_),[]),!s&&a?[!1,()=>a&&a(_)]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const a=pixelsToPercent(i,s.target.x),o=pixelsToPercent(i,s.target.y);return`${a}% ${o}%`}},correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:a})=>{const o=i,_=complex.parse(i);if(_.length>5)return o;const $=complex.createTransformer(i),j=typeof _[0]!="number"?1:0,et=a.x.scale*s.x,rt=a.y.scale*s.y;_[0+j]/=et,_[1+j]/=rt;const nt=mix(et,rt,.5);return typeof _[2+j]=="number"&&(_[2+j]/=nt),typeof _[3+j]=="number"&&(_[3+j]/=nt),$(_)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o,layoutId:_}=this.props,{projection:$}=s;addScaleCorrector(defaultScaleCorrectors),$&&(a.group&&a.group.add($),o&&o.register&&_&&o.register($),$.root.didUpdate(),$.addEventListener("animationComplete",()=>{this.safeToRemove()}),$.setOptions({...$.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:o,drag:_,isPresent:$}=this.props,j=o.projection;return j&&(j.isPresent=$,_||s.layoutDependency!==a||a===void 0?j.willUpdate():this.safeToRemove(),s.isPresent!==$&&($?j.promote():j.relegate()||frame.postRender(()=>{const et=j.getStack();(!et||!et.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),queueMicrotask(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:o}=this.props,{projection:_}=s;_&&(_.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(_),o&&o.deregister&&o.deregister(_))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(i){const[s,a]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:a})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,a,o,_,$){_?(i.opacity=mix(0,a.opacity!==void 0?a.opacity:1,easeCrossfadeIn(o)),i.opacityExit=mix(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):$&&(i.opacity=mix(s.opacity!==void 0?s.opacity:1,a.opacity!==void 0?a.opacity:1,o));for(let j=0;j<numBorders;j++){const et=`border${borders[j]}Radius`;let rt=getRadius(s,et),nt=getRadius(a,et);if(rt===void 0&&nt===void 0)continue;rt||(rt=0),nt||(nt=0),rt===0||nt===0||isPx(rt)===isPx(nt)?(i[et]=Math.max(mix(asNumber(rt),asNumber(nt),o),0),(percent.test(nt)||percent.test(rt))&&(i[et]+="%")):i[et]=nt}(s.rotate||a.rotate)&&(i.rotate=mix(s.rotate||0,a.rotate||0,o))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,s,a){return o=>o<i?0:o>s?1:a(progress$1(i,s,o))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function removePointDelta(i,s,a,o,_){return i-=s,i=scalePoint(i,1/a,o),_!==void 0&&(i=scalePoint(i,1/_,o)),i}function removeAxisDelta(i,s=0,a=1,o=.5,_,$=i,j=i){if(percent.test(s)&&(s=parseFloat(s),s=mix(j.min,j.max,s/100)-j.min),typeof s!="number")return;let et=mix($.min,$.max,o);i===$&&(et-=s),i.min=removePointDelta(i.min,s,a,et,_),i.max=removePointDelta(i.max,s,a,et,_)}function removeAxisTransforms(i,s,[a,o,_],$,j){removeAxisDelta(i,s[a],s[o],s[_],s.scale,$,j)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,a,o){removeAxisTransforms(i.x,s,xKeys,a?a.x:void 0,o?o.x:void 0),removeAxisTransforms(i.y,s,yKeys,a?a.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function boxEquals(i,s){return i.x.min===s.x.min&&i.x.max===s.x.max&&i.y.min===s.y.min&&i.y.max===s.y.max}function boxEqualsRounded(i,s){return Math.round(i.x.min)===Math.round(s.x.min)&&Math.round(i.x.max)===Math.round(s.x.max)&&Math.round(i.y.min)===Math.round(s.y.min)&&Math.round(i.y.max)===Math.round(s.y.max)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(_=>s===_);if(a===0)return!1;let o;for(let _=a;_>=0;_--){const $=this.members[_];if($.isPresent!==!1){o=$;break}}return o?(this.promote(o),!0):!1}promote(s,a){const o=this.lead;if(s!==o&&(this.prevLead=o,this.lead=s,s.show(),o)){o.instance&&o.scheduleRender(),s.scheduleRender(),s.resumeFrom=o,a&&(s.resumeFrom.preserveOpacity=!0),o.snapshot&&(s.snapshot=o.snapshot,s.snapshot.latestValues=o.animationValues||o.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:_}=s.options;_===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:o}=s;a.onExitComplete&&a.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,a){let o="";const _=i.x.translate/s.x,$=i.y.translate/s.y;if((_||$)&&(o=`translate3d(${_}px, ${$}px, 0) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),a){const{rotate:rt,rotateX:nt,rotateY:it}=a;rt&&(o+=`rotate(${rt}deg) `),nt&&(o+=`rotateX(${nt}deg) `),it&&(o+=`rotateY(${it}deg) `)}const j=i.x.scale*s.x,et=i.y.scale*s.y;return(j!==1||et!==1)&&(o+=`scale(${j}, ${et})`),o||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(i,s){const a=performance.now(),o=({timestamp:_})=>{const $=_-a;$>=s&&(cancelFrame(o),i($-s))};return frame.read(o,!0),()=>cancelFrame(o)}function record(i){window.MotionDebug&&window.MotionDebug.record(i)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,s,a){const o=isMotionValue(i)?i:motionValue(i);return o.start(animateMotionValue("",o,s,a)),o.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:i,defaultParent:s,measureScroll:a,checkIsScrollRoot:o,resetTransform:_}){return class{constructor(j={},et=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=j,this.root=et?et.root||et:this,this.path=et?[...et.path,et]:[],this.parent=et,this.depth=et?et.depth+1:0;for(let rt=0;rt<this.path.length;rt++)this.path[rt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(j,et){return this.eventHandlers.has(j)||this.eventHandlers.set(j,new SubscriptionManager),this.eventHandlers.get(j).add(et)}notifyListeners(j,...et){const rt=this.eventHandlers.get(j);rt&&rt.notify(...et)}hasListeners(j){return this.eventHandlers.has(j)}mount(j,et=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(j),this.instance=j;const{layoutId:rt,layout:nt,visualElement:it}=this.options;if(it&&!it.current&&it.mount(j),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),et&&(nt||rt)&&(this.isLayoutDirty=!0),i){let ot;const at=()=>this.root.updateBlockedByResize=!1;i(j,()=>{this.root.updateBlockedByResize=!0,ot&&ot(),ot=delay(at,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}rt&&this.root.registerSharedNode(rt,this),this.options.animate!==!1&&it&&(rt||nt)&&this.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:at,hasRelativeTargetChanged:lt,layout:gt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ct=this.options.transition||it.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:yt,onLayoutAnimationComplete:pt}=it.getProps(),ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,gt)||lt,ht=!at&&lt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ht||at&&(ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ot,ht);const mt={...getValueTransition(ct,"layout"),onPlay:yt,onComplete:pt};(it.shouldReduceMotion||this.options.layoutRoot)&&(mt.delay=0,mt.type=!1),this.startAnimation(mt)}else at||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=gt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const j=this.getStack();j&&j.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:j}=this.options;return j&&j.getProps().transformTemplate}willUpdate(j=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let it=0;it<this.path.length;it++){const ot=this.path[it];ot.shouldResetTransform=!0,ot.updateScroll("snapshot"),ot.options.layoutRoot&&ot.willUpdate(!1)}const{layoutId:et,layout:rt}=this.options;if(et===void 0&&!rt)return;const nt=this.getTransformTemplate();this.prevTransformTemplateValue=nt?nt(this.latestValues,""):void 0,this.updateSnapshot(),j&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const et=performance.now();frameData.delta=clamp(0,1e3/60,et-frameData.timestamp),frameData.timestamp=et,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let rt=0;rt<this.path.length;rt++)this.path[rt].updateScroll();const j=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:et}=this.options;et&&et.notify("LayoutMeasure",this.layout.layoutBox,j?j.layoutBox:void 0)}updateScroll(j="measure"){let et=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===j&&(et=!1),et&&(this.scroll={animationId:this.root.animationId,phase:j,isRoot:o(this.instance),offset:a(this.instance)})}resetTransform(){if(!_)return;const j=this.isLayoutDirty||this.shouldResetTransform,et=this.projectionDelta&&!isDeltaZero(this.projectionDelta),rt=this.getTransformTemplate(),nt=rt?rt(this.latestValues,""):void 0,it=nt!==this.prevTransformTemplateValue;j&&(et||hasTransform(this.latestValues)||it)&&(_(this.instance,nt),this.shouldResetTransform=!1,this.scheduleRender())}measure(j=!0){const et=this.measurePageBox();let rt=this.removeElementScroll(et);return j&&(rt=this.removeTransform(rt)),roundBox(rt),{animationId:this.root.animationId,measuredBox:et,layoutBox:rt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:j}=this.options;if(!j)return createBox();const et=j.measureViewportBox(),{scroll:rt}=this.root;return rt&&(translateAxis(et.x,rt.offset.x),translateAxis(et.y,rt.offset.y)),et}removeElementScroll(j){const et=createBox();copyBoxInto(et,j);for(let rt=0;rt<this.path.length;rt++){const nt=this.path[rt],{scroll:it,options:ot}=nt;if(nt!==this.root&&it&&ot.layoutScroll){if(it.isRoot){copyBoxInto(et,j);const{scroll:at}=this.root;at&&(translateAxis(et.x,-at.offset.x),translateAxis(et.y,-at.offset.y))}translateAxis(et.x,it.offset.x),translateAxis(et.y,it.offset.y)}}return et}applyTransform(j,et=!1){const rt=createBox();copyBoxInto(rt,j);for(let nt=0;nt<this.path.length;nt++){const it=this.path[nt];!et&&it.options.layoutScroll&&it.scroll&&it!==it.root&&transformBox(rt,{x:-it.scroll.offset.x,y:-it.scroll.offset.y}),hasTransform(it.latestValues)&&transformBox(rt,it.latestValues)}return hasTransform(this.latestValues)&&transformBox(rt,this.latestValues),rt}removeTransform(j){const et=createBox();copyBoxInto(et,j);for(let rt=0;rt<this.path.length;rt++){const nt=this.path[rt];if(!nt.instance||!hasTransform(nt.latestValues))continue;hasScale(nt.latestValues)&&nt.updateSnapshot();const it=createBox(),ot=nt.measurePageBox();copyBoxInto(it,ot),removeBoxTransforms(et,nt.latestValues,nt.snapshot?nt.snapshot.layoutBox:void 0,it)}return hasTransform(this.latestValues)&&removeBoxTransforms(et,this.latestValues),et}setTargetDelta(j){this.targetDelta=j,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(j){this.options={...this.options,...j,crossfade:j.crossfade!==void 0?j.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(j=!1){var et;const rt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=rt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=rt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=rt.isSharedProjectionDirty);const nt=!!this.resumingFrom||this!==rt;if(!(j||nt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((et=this.parent)===null||et===void 0)&&et.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:ot,layoutId:at}=this.options;if(!(!this.layout||!(ot||at))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const lt=this.getClosestProjectingParent();lt&&lt.layout&&this.animationProgress!==1?(this.relativeParent=lt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,lt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const lt=this.getClosestProjectingParent();lt&&!!lt.resumingFrom==!!this.resumingFrom&&!lt.options.layoutScroll&&lt.target&&this.animationProgress!==1?(this.relativeParent=lt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,lt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const et=this.getLead(),rt=!!this.resumingFrom||this!==et;let nt=!0;if((this.isProjectionDirty||!((j=this.parent)===null||j===void 0)&&j.isProjectionDirty)&&(nt=!1),rt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(nt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(nt=!1),nt)return;const{layout:it,layoutId:ot}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(it||ot))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const at=this.treeScale.x,lt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,rt),et.layout&&!et.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(et.target=et.layout.layoutBox);const{target:gt}=et;if(!gt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const ct=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,gt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==ct||this.treeScale.x!==at||this.treeScale.y!==lt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",gt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(j=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),j){const et=this.getStack();et&&et.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(j,et=!1){const rt=this.snapshot,nt=rt?rt.latestValues:{},it={...this.latestValues},ot=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!et;const at=createBox(),lt=rt?rt.source:void 0,gt=this.layout?this.layout.source:void 0,ct=lt!==gt,yt=this.getStack(),pt=!yt||yt.members.length<=1,ut=!!(ct&&!pt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ht;this.mixTargetDelta=mt=>{const dt=mt/1e3;mixAxisDelta(ot.x,j.x,dt),mixAxisDelta(ot.y,j.y,dt),this.setTargetDelta(ot),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(at,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,at,dt),ht&&boxEquals(this.relativeTarget,ht)&&(this.isProjectionDirty=!1),ht||(ht=createBox()),copyBoxInto(ht,this.relativeTarget)),ct&&(this.animationValues=it,mixValues(it,nt,this.latestValues,dt,ut,pt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(j){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...j,onUpdate:et=>{this.mixTargetDelta(et),j.onUpdate&&j.onUpdate(et)},onComplete:()=>{j.onComplete&&j.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const j=this.getStack();j&&j.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const j=this.getLead();let{targetWithTransforms:et,target:rt,layout:nt,latestValues:it}=j;if(!(!et||!rt||!nt)){if(this!==j&&this.layout&&nt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,nt.layoutBox)){rt=this.target||createBox();const ot=calcLength(this.layout.layoutBox.x);rt.x.min=j.target.x.min,rt.x.max=rt.x.min+ot;const at=calcLength(this.layout.layoutBox.y);rt.y.min=j.target.y.min,rt.y.max=rt.y.min+at}copyBoxInto(et,rt),transformBox(et,it),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,et,it)}}registerSharedNode(j,et){this.sharedNodes.has(j)||this.sharedNodes.set(j,new NodeStack),this.sharedNodes.get(j).add(et);const nt=et.options.initialPromotionConfig;et.promote({transition:nt?nt.transition:void 0,preserveFollowOpacity:nt&&nt.shouldPreserveFollowOpacity?nt.shouldPreserveFollowOpacity(et):void 0})}isLead(){const j=this.getStack();return j?j.lead===this:!0}getLead(){var j;const{layoutId:et}=this.options;return et?((j=this.getStack())===null||j===void 0?void 0:j.lead)||this:this}getPrevLead(){var j;const{layoutId:et}=this.options;return et?(j=this.getStack())===null||j===void 0?void 0:j.prevLead:void 0}getStack(){const{layoutId:j}=this.options;if(j)return this.root.sharedNodes.get(j)}promote({needsReset:j,transition:et,preserveFollowOpacity:rt}={}){const nt=this.getStack();nt&&nt.promote(this,rt),j&&(this.projectionDelta=void 0,this.needsReset=!0),et&&this.setOptions({transition:et})}relegate(){const j=this.getStack();return j?j.relegate(this):!1}resetRotation(){const{visualElement:j}=this.options;if(!j)return;let et=!1;const{latestValues:rt}=j;if((rt.rotate||rt.rotateX||rt.rotateY||rt.rotateZ)&&(et=!0),!et)return;const nt={};for(let it=0;it<transformAxes.length;it++){const ot="rotate"+transformAxes[it];rt[ot]&&(nt[ot]=rt[ot],j.setStaticValue(ot,0))}j.render();for(const it in nt)j.setStaticValue(it,nt[it]);j.scheduleRender()}getProjectionStyles(j){var et,rt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const nt={visibility:""},it=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,nt.opacity="",nt.pointerEvents=resolveMotionValue(j==null?void 0:j.pointerEvents)||"",nt.transform=it?it(this.latestValues,""):"none",nt;const ot=this.getLead();if(!this.projectionDelta||!this.layout||!ot.target){const ct={};return this.options.layoutId&&(ct.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ct.pointerEvents=resolveMotionValue(j==null?void 0:j.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ct.transform=it?it({},""):"none",this.hasProjected=!1),ct}const at=ot.animationValues||ot.latestValues;this.applyTransformsToTarget(),nt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,at),it&&(nt.transform=it(at,nt.transform));const{x:lt,y:gt}=this.projectionDelta;nt.transformOrigin=`${lt.origin*100}% ${gt.origin*100}% 0`,ot.animationValues?nt.opacity=ot===this?(rt=(et=at.opacity)!==null&&et!==void 0?et:this.latestValues.opacity)!==null&&rt!==void 0?rt:1:this.preserveOpacity?this.latestValues.opacity:at.opacityExit:nt.opacity=ot===this?at.opacity!==void 0?at.opacity:"":at.opacityExit!==void 0?at.opacityExit:0;for(const ct in scaleCorrectors){if(at[ct]===void 0)continue;const{correct:yt,applyTo:pt}=scaleCorrectors[ct],ut=nt.transform==="none"?at[ct]:yt(at[ct],ot);if(pt){const ht=pt.length;for(let mt=0;mt<ht;mt++)nt[pt[mt]]=ut}else nt[ct]=ut}return this.options.layoutId&&(nt.pointerEvents=ot===this?resolveMotionValue(j==null?void 0:j.pointerEvents)||"":"none"),nt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(j=>{var et;return(et=j.currentAnimation)===null||et===void 0?void 0:et.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s;const a=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&a&&i.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:_}=i.layout,{animationType:$}=i.options,j=a.source!==i.layout.source;$==="size"?eachAxis(ot=>{const at=j?a.measuredBox[ot]:a.layoutBox[ot],lt=calcLength(at);at.min=o[ot].min,at.max=at.min+lt}):shouldAnimatePositionOnly($,a.layoutBox,o)&&eachAxis(ot=>{const at=j?a.measuredBox[ot]:a.layoutBox[ot],lt=calcLength(o[ot]);at.max=at.min+lt,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[ot].max=i.relativeTarget[ot].min+lt)});const et=createDelta();calcBoxDelta(et,o,a.layoutBox);const rt=createDelta();j?calcBoxDelta(rt,i.applyTransform(_,!0),a.measuredBox):calcBoxDelta(rt,o,a.layoutBox);const nt=!isDeltaZero(et);let it=!1;if(!i.resumeFrom){const ot=i.getClosestProjectingParent();if(ot&&!ot.resumeFrom){const{snapshot:at,layout:lt}=ot;if(at&&lt){const gt=createBox();calcRelativePosition(gt,a.layoutBox,at.layoutBox);const ct=createBox();calcRelativePosition(ct,o,lt.layoutBox),boxEqualsRounded(gt,ct)||(it=!0),ot.options.layoutRoot&&(i.relativeTarget=ct,i.relativeTargetOrigin=gt,i.relativeParent=ot)}}}i.notifyListeners("didUpdate",{layout:o,snapshot:a,delta:rt,layoutDelta:et,hasLayoutChanged:nt,hasRelativeTargetChanged:it})}else if(i.isLead()){const{onExitComplete:o}=i.options;o&&o()}i.options.transition=void 0}function propagateDirtyNodes(i){projectionFrameData.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:s}=i.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetRotation(i){i.resetRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,a){i.translate=mix(s.translate,0,a),i.scale=mix(s.scale,1,a),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,a,o){i.min=mix(s.min,a.min,o),i.max=mix(s.max,a.max,o)}function mixBox(i,s,a,o){mixAxis(i.x,s.x,a.x,o),mixAxis(i.y,s.y,a.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,a){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(a),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(i){const s=splitCSSVariableRegex.exec(i);if(!s)return[,];const[,a,o]=s;return[a,o]}function getVariableValue(i,s,a=1){const[o,_]=parseCSSVariable(i);if(!o)return;const $=window.getComputedStyle(s).getPropertyValue(o);if($){const j=$.trim();return isNumericalString(j)?parseFloat(j):j}else return isCSSVariableToken(_)?getVariableValue(_,s,a+1):_}function resolveCSSVariables(i,{...s},a){const o=i.current;if(!(o instanceof Element))return{target:s,transitionEnd:a};a&&(a={...a}),i.values.forEach(_=>{const $=_.get();if(!isCSSVariableToken($))return;const j=getVariableValue($,o);j&&_.set(j)});for(const _ in s){const $=s[_];if(!isCSSVariableToken($))continue;const j=getVariableValue($,o);j&&(s[_]=j,a||(a={}),a[_]===void 0&&(a[_]=$))}return{target:s,transitionEnd:a}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=i=>positionalKeys.has(i),hasPositionalKey=i=>Object.keys(i).some(isPositionalKey),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(a,{transform:o})=>{if(o==="none"||!o)return 0;const _=o.match(/^matrix3d\((.+)\)$/);if(_)return getPosFromMatrix(_[1],s);{const $=o.match(/^matrix\((.+)\)$/);return $?getPosFromMatrix($[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(a=>{const o=i.getValue(a);o!==void 0&&(s.push([a,o.get()]),o.set(a.startsWith("scale")?1:0))}),s.length&&i.render(),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),height:({y:i},{paddingTop:s="0",paddingBottom:a="0"})=>i.max-i.min-parseFloat(s)-parseFloat(a),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(i,s,a)=>{const o=s.measureViewportBox(),_=s.current,$=getComputedStyle(_),{display:j}=$,et={};j==="none"&&s.setStaticValue("display",i.display||"block"),a.forEach(nt=>{et[nt]=positionalValues[nt](o,$)}),s.render();const rt=s.measureViewportBox();return a.forEach(nt=>{const it=s.getValue(nt);it&&it.jump(et[nt]),i[nt]=positionalValues[nt](rt,$)}),i},checkAndConvertChangedValueTypes=(i,s,a={},o={})=>{s={...s},o={...o};const _=Object.keys(s).filter(isPositionalKey);let $=[],j=!1;const et=[];if(_.forEach(rt=>{const nt=i.getValue(rt);if(!i.hasValue(rt))return;let it=a[rt],ot=findDimensionValueType(it);const at=s[rt];let lt;if(isKeyframesTarget(at)){const gt=at.length,ct=at[0]===null?1:0;it=at[ct],ot=findDimensionValueType(it);for(let yt=ct;yt<gt&&at[yt]!==null;yt++)lt?invariant(findDimensionValueType(at[yt])===lt):lt=findDimensionValueType(at[yt])}else lt=findDimensionValueType(at);if(ot!==lt)if(isNumOrPxType(ot)&&isNumOrPxType(lt)){const gt=nt.get();typeof gt=="string"&&nt.set(parseFloat(gt)),typeof at=="string"?s[rt]=parseFloat(at):Array.isArray(at)&&lt===px&&(s[rt]=at.map(parseFloat))}else ot!=null&&ot.transform&&(lt!=null&&lt.transform)&&(it===0||at===0)?it===0?nt.set(lt.transform(it)):s[rt]=ot.transform(at):(j||($=removeNonTranslationalTransform(i),j=!0),et.push(rt),o[rt]=o[rt]!==void 0?o[rt]:s[rt],nt.jump(at))}),et.length){const rt=et.indexOf("height")>=0?window.pageYOffset:null,nt=convertChangedValueTypes(s,i,et);return $.length&&$.forEach(([it,ot])=>{i.getValue(it).set(ot)}),i.render(),isBrowser&&rt!==null&&window.scrollTo({top:rt}),{target:nt,transitionEnd:o}}else return{target:s,transitionEnd:o}};function unitConversion(i,s,a,o){return hasPositionalKey(s)?checkAndConvertChangedValueTypes(i,s,a,o):{target:s,transitionEnd:o}}const parseDomVariant=(i,s,a,o)=>{const _=resolveCSSVariables(i,s,o);return s=_.target,o=_.transitionEnd,unitConversion(i,s,a,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,a){const{willChange:o}=s;for(const _ in s){const $=s[_],j=a[_];if(isMotionValue($))i.addValue(_,$),isWillChangeMotionValue(o)&&o.add(_);else if(isMotionValue(j))i.addValue(_,motionValue($,{owner:i})),isWillChangeMotionValue(o)&&o.remove(_);else if(j!==$)if(i.hasValue(_)){const et=i.getValue(_);!et.hasAnimated&&et.set($)}else{const et=i.getStaticValue(_);i.addValue(_,motionValue(et!==void 0?et:$,{owner:i}))}}for(const _ in a)s[_]===void 0&&i.removeValue(_);return s}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:s,props:a,presenceContext:o,reducedMotionConfig:_,visualState:$},j={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:et,renderState:rt}=$;this.latestValues=et,this.baseTarget={...et},this.initialValues=a.initial?{...et}:{},this.renderState=rt,this.parent=s,this.props=a,this.presenceContext=o,this.depth=s?s.depth+1:0,this.reducedMotionConfig=_,this.options=j,this.isControllingVariants=isControllingVariants(a),this.isVariantNode=isVariantNode(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:nt,...it}=this.scrapeMotionValuesFromProps(a,{});for(const ot in it){const at=it[ot];et[ot]!==void 0&&isMotionValue(at)&&(at.set(et[ot],!1),isWillChangeMotionValue(nt)&&nt.add(ot))}}scrapeMotionValuesFromProps(s,a){return{}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features)this.features[s].unmount();this.current=null}bindToMotionValue(s,a){const o=transformProps.has(s),_=a.on("change",j=>{this.latestValues[s]=j,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),$=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{_(),$()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...a},o,_,$){let j,et;for(let rt=0;rt<numFeatures;rt++){const nt=featureNames[rt],{isEnabled:it,Feature:ot,ProjectionNode:at,MeasureLayout:lt}=featureDefinitions[nt];at&&(j=at),it(a)&&(!this.features[nt]&&ot&&(this.features[nt]=new ot(this)),lt&&(et=lt))}if((this.type==="html"||this.type==="svg")&&!this.projection&&j){this.projection=new j(this.latestValues,this.parent&&this.parent.projection);const{layoutId:rt,layout:nt,drag:it,dragConstraints:ot,layoutScroll:at,layoutRoot:lt}=a;this.projection.setOptions({layoutId:rt,layout:nt,alwaysMeasureLayout:!!it||ot&&isRefObject(ot),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof nt=="string"?nt:"both",initialPromotionConfig:$,layoutScroll:at,layoutRoot:lt})}return et}updateFeatures(){for(const s in this.features){const a=this.features[s];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}makeTargetAnimatable(s,a=!0){return this.makeTargetAnimatableFromInstance(s,this.props,a)}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let o=0;o<propEventHandlers.length;o++){const _=propEventHandlers[o];this.propEventSubscriptions[_]&&(this.propEventSubscriptions[_](),delete this.propEventSubscriptions[_]);const $=s["on"+_];$&&(this.propEventSubscriptions[_]=this.on(_,$))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const a={};for(let o=0;o<numVariantProps;o++){const _=variantProps[o],$=this.props[_];(isVariantLabel($)||$===!1)&&(a[_]=$)}return a}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){a!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,a)),this.values.set(s,a),this.latestValues[s]=a.get()}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&a!==void 0&&(o=motionValue(a,{owner:this}),this.addValue(s,o)),o}readValue(s){var a;return this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options)}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var a;const{initial:o}=this.props,_=typeof o=="string"||typeof o=="object"?(a=resolveVariantFromProps(this.props,o))===null||a===void 0?void 0:a[s]:void 0;if(o&&_!==void 0)return _;const $=this.getBaseTargetFromProps(this.props,s);return $!==void 0&&!isMotionValue($)?$:this.initialValues[s]!==void 0&&_===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:o}){delete a[s],delete o[s]}makeTargetAnimatableFromInstance({transition:s,transitionEnd:a,...o},{transformValues:_},$){let j=getOrigin(o,s||{},this);if(_&&(a&&(a=_(a)),o&&(o=_(o)),j&&(j=_(j))),$){checkTargetForNewValues(this,o,j);const et=parseDomVariant(this,o,j,a);a=et.transitionEnd,o=et.target}return{transition:s,transitionEnd:a,...o}}}function getComputedStyle$2(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(s,a){if(transformProps.has(a)){const o=getDefaultValueType(a);return o&&o.default||0}else{const o=getComputedStyle$2(s),_=(isCSSVariableName(a)?o.getPropertyValue(a):o[a])||0;return typeof _=="string"?_.trim():_}}measureInstanceViewportBox(s,{transformPagePoint:a}){return measureViewportBox(s,a)}build(s,a,o,_){buildHTMLStyles(s,a,o,_.transformTemplate)}scrapeMotionValuesFromProps(s,a){return scrapeMotionValuesFromProps$1(s,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(s,a,o,_){renderHTML(s,a,o,_)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(transformProps.has(a)){const o=getDefaultValueType(a);return o&&o.default||0}return a=camelCaseAttributes.has(a)?a:camelToDash(a),s.getAttribute(a)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(s,a){return scrapeMotionValuesFromProps(s,a)}build(s,a,o,_){buildSVGAttrs(s,a,o,this.isSVGTag,_.transformTemplate)}renderInstance(s,a,o,_){renderSVG(s,a,o,_)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s,{enableHardwareAcceleration:!1}):new HTMLVisualElement(s,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((i,s)=>createDomMotionConfig(i,s,preloadedFeatures,createDomVisualElement));function useIsMounted(){const i=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function useForceUpdate(){const i=useIsMounted(),[s,a]=reactExports.useState(0),o=reactExports.useCallback(()=>{i.current&&a(s+1)},[s]);return[reactExports.useCallback(()=>frame.postRender(o),[o]),s]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const a=reactExports.useId(),o=reactExports.useRef(null),_=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:$,height:j,top:et,left:rt}=_.current;if(s||!o.current||!$||!j)return;o.current.dataset.motionPopId=a;const nt=document.createElement("style");return document.head.appendChild(nt),nt.sheet&&nt.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${$}px !important;
            height: ${j}px !important;
            top: ${et}px !important;
            left: ${rt}px !important;
          }
        `),()=>{document.head.removeChild(nt)}},[s]),reactExports.createElement(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:_},reactExports.cloneElement(i,{ref:o}))}const PresenceChild=({children:i,initial:s,isPresent:a,onExitComplete:o,custom:_,presenceAffectsLayout:$,mode:j})=>{const et=useConstant(newChildrenMap),rt=reactExports.useId(),nt=reactExports.useMemo(()=>({id:rt,initial:s,isPresent:a,custom:_,onExitComplete:it=>{et.set(it,!0);for(const ot of et.values())if(!ot)return;o&&o()},register:it=>(et.set(it,!1),()=>et.delete(it))}),$?void 0:[a]);return reactExports.useMemo(()=>{et.forEach((it,ot)=>et.set(ot,!1))},[a]),reactExports.useEffect(()=>{!a&&!et.size&&o&&o()},[a]),j==="popLayout"&&(i=reactExports.createElement(PopChild,{isPresent:a},i)),reactExports.createElement(PresenceContext.Provider,{value:nt},i)};function newChildrenMap(){return new Map}function useUnmountEffect(i){return reactExports.useEffect(()=>()=>i(),[])}const getChildKey=i=>i.key||"";function updateChildLookup(i,s){i.forEach(a=>{const o=getChildKey(a);s.set(o,a)})}function onlyElements(i){const s=[];return reactExports.Children.forEach(i,a=>{reactExports.isValidElement(a)&&s.push(a)}),s}const AnimatePresence=({children:i,custom:s,initial:a=!0,onExitComplete:o,exitBeforeEnter:_,presenceAffectsLayout:$=!0,mode:j="sync"})=>{const et=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],rt=useIsMounted(),nt=onlyElements(i);let it=nt;const ot=reactExports.useRef(new Map).current,at=reactExports.useRef(it),lt=reactExports.useRef(new Map).current,gt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$1(()=>{gt.current=!1,updateChildLookup(nt,lt),at.current=it}),useUnmountEffect(()=>{gt.current=!0,lt.clear(),ot.clear()}),gt.current)return reactExports.createElement(reactExports.Fragment,null,it.map(ut=>reactExports.createElement(PresenceChild,{key:getChildKey(ut),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:$,mode:j},ut)));it=[...it];const ct=at.current.map(getChildKey),yt=nt.map(getChildKey),pt=ct.length;for(let ut=0;ut<pt;ut++){const ht=ct[ut];yt.indexOf(ht)===-1&&!ot.has(ht)&&ot.set(ht,void 0)}return j==="wait"&&ot.size&&(it=[]),ot.forEach((ut,ht)=>{if(yt.indexOf(ht)!==-1)return;const mt=lt.get(ht);if(!mt)return;const dt=ct.indexOf(ht);let vt=ut;if(!vt){const St=()=>{ot.delete(ht);const _t=Array.from(lt.keys()).filter(Et=>!yt.includes(Et));if(_t.forEach(Et=>lt.delete(Et)),at.current=nt.filter(Et=>{const Pt=getChildKey(Et);return Pt===ht||_t.includes(Pt)}),!ot.size){if(rt.current===!1)return;et(),o&&o()}};vt=reactExports.createElement(PresenceChild,{key:getChildKey(mt),isPresent:!1,onExitComplete:St,custom:s,presenceAffectsLayout:$,mode:j},mt),ot.set(ht,vt)}it.splice(dt,0,vt)}),it=it.map(ut=>{const ht=ut.key;return ot.has(ht)?ut:reactExports.createElement(PresenceChild,{key:getChildKey(ut),isPresent:!0,presenceAffectsLayout:$,mode:j},ut)}),reactExports.createElement(reactExports.Fragment,null,ot.size?it:it.map(ut=>reactExports.cloneElement(ut)))};var toastMotionVariants={initial:i=>{const{position:s}=i,a=["top","bottom"].includes(s)?"y":"x";let o=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(o=1),{opacity:0,[a]:o*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(i=>{const{id:s,message:a,onCloseComplete:o,onRequestRemove:_,requestClose:$=!1,position:j="bottom",duration:et=5e3,containerStyle:rt,motionVariants:nt=toastMotionVariants,toastSpacing:it="0.5rem"}=i,[ot,at]=reactExports.useState(et),lt=useIsPresent();useUpdateEffect(()=>{lt||o==null||o()},[lt]),useUpdateEffect(()=>{at(et)},[et]);const gt=()=>at(null),ct=()=>at(et),yt=()=>{lt&&_()};reactExports.useEffect(()=>{lt&&$&&_()},[lt,$,_]),useTimeout(yt,ot);const pt=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:it,...rt}),[rt,it]),ut=reactExports.useMemo(()=>getToastStyle(j),[j]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:nt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:gt,onHoverEnd:ct,custom:{position:j},style:ut,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:pt,children:runIfFn$2(a,{id:s,onClose:yt})})})});ToastComponent.displayName="ToastComponent";function getToastPlacement(i,s){var a;const o=i??"bottom",$={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[o];return(a=$==null?void 0:$[s])!=null?a:o}var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:a,viewBox:o,color:_="currentColor",focusable:$=!1,children:j,className:et,__css:rt,...nt}=i,it=cx("chakra-icon",et),ot=useStyleConfig("Icon",i),at={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:_,...rt,...ot},lt={ref:s,focusable:$,className:it,__css:at},gt=o??fallbackIcon.viewBox;if(a&&typeof a!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:a,...lt,...nt});const ct=j??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:gt,...lt,...nt,children:ct})});Icon.displayName="Icon";function createIcon(i){const{viewBox:s="0 0 24 24",d:a,displayName:o,defaultProps:_={}}=i,$=reactExports.Children.toArray(i.path),j=forwardRef((et,rt)=>jsxRuntimeExports.jsx(Icon,{ref:rt,viewBox:s,..._,...et,children:$.length?$:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:a})}));return j.displayName=o,j}function CheckIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin$1=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const a=useStyleConfig("Spinner",i),{label:o="Loading...",thickness:_="2px",speed:$="0.45s",emptyColor:j="transparent",className:et,...rt}=omitThemingProps(i),nt=cx("chakra-spinner",et),it={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:_,borderBottomColor:j,borderLeftColor:j,animation:`${spin$1} ${$} linear infinite`,...a};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:it,className:nt,...rt,children:o&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:o})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var AlertDescription=forwardRef(function i(s,a){const o=useAlertStyles(),{status:_}=useAlertContext(),$={display:"inline",...o.description};return jsxRuntimeExports.jsx(chakra.div,{ref:a,"data-status":_,...s,className:cx("chakra-alert__desc",s.className),__css:$})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:s}=useAlertContext(),a=getStatusIcon(s),o=useAlertStyles(),_=s==="loading"?o.spinner:o.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...i,className:cx("chakra-alert__icon",i.className),__css:_,children:i.children||jsxRuntimeExports.jsx(a,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function i(s,a){const o=useAlertStyles(),{status:_}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:a,"data-status":_,...s,className:cx("chakra-alert__title",s.className),__css:o.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function i(s,a){var o;const{status:_="info",addRole:$=!0,...j}=omitThemingProps(s),et=(o=s.colorScheme)!=null?o:getStatusColorScheme(_),rt=useMultiStyleConfig("Alert",{...s,colorScheme:et}),nt={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...rt.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:_},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:rt,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":_,role:$?"alert":void 0,ref:a,...j,className:cx("chakra-alert",s.className),__css:nt})})})});Alert.displayName="Alert";function CloseIcon(i){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function i(s,a){const o=useStyleConfig("CloseButton",s),{children:_,isDisabled:$,__css:j,...et}=omitThemingProps(s),rt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:a,disabled:$,__css:{...rt,...o,...j},...et,children:_||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(i){let s=i;const a=new Set,o=_=>{s=_(s),a.forEach($=>$())};return{getState:()=>s,subscribe:_=>(a.add(_),()=>{o(()=>i),a.delete(_)}),removeToast:(_,$)=>{o(j=>({...j,[$]:j[$].filter(et=>et.id!=_)}))},notify:(_,$)=>{const j=createToast(_,$),{position:et,id:rt}=j;return o(nt=>{var it,ot;const lt=et.includes("top")?[j,...(it=nt[et])!=null?it:[]]:[...(ot=nt[et])!=null?ot:[],j];return{...nt,[et]:lt}}),rt},update:(_,$)=>{_&&o(j=>{const et={...j},{position:rt,index:nt}=findToast(et,_);return rt&&nt!==-1&&(et[rt][nt]={...et[rt][nt],...$,message:createRenderToast($)}),et})},closeAll:({positions:_}={})=>{o($=>(_??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((rt,nt)=>(rt[nt]=$[nt].map(it=>({...it,requestClose:!0})),rt),{...$}))},close:_=>{o($=>{const j=getToastPosition($,_);return j?{...$,[j]:$[j].map(et=>et.id==_?{...et,requestClose:!0}:et)}:$})},isActive:_=>!!findToast(toastStore.getState(),_).position}}var counter=0;function createToast(i,s={}){var a,o;counter+=1;const _=(a=s.id)!=null?a:counter,$=(o=s.position)!=null?o:"bottom";return{id:_,message:i,position:$,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(_),$),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var Toast=i=>{const{status:s,variant:a="solid",id:o,title:_,isClosable:$,onClose:j,description:et,colorScheme:rt,icon:nt}=i,it=o?{root:`toast-${o}`,title:`toast-${o}-title`,description:`toast-${o}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:a,id:it==null?void 0:it.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:rt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:nt}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[_&&jsxRuntimeExports.jsx(AlertTitle,{id:it==null?void 0:it.title,children:_}),et&&jsxRuntimeExports.jsx(AlertDescription,{id:it==null?void 0:it.description,display:"block",children:et})]}),$&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:j,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:a=Toast}=i;return _=>typeof s=="function"?s({..._,...i}):jsxRuntimeExports.jsx(a,{..._,...i})}function createToastFn(i,s){const a=_=>{var $;return{...s,..._,position:getToastPlacement(($=_==null?void 0:_.position)!=null?$:s==null?void 0:s.position,i)}},o=_=>{const $=a(_),j=createRenderToast($);return toastStore.notify(j,$)};return o.update=(_,$)=>{toastStore.update(_,a($))},o.promise=(_,$)=>{const j=o({...$.loading,status:"loading",duration:null});_.then(et=>o.update(j,{status:"success",duration:5e3,...runIfFn$2($.success,et)})).catch(et=>o.update(j,{status:"error",duration:5e3,...runIfFn$2($.error,et)}))},o.closeAll=toastStore.closeAll,o.close=toastStore.close,o.isActive=toastStore.isActive,o}var[ToastOptionProvider,useToastOptionContext]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:a,component:o=ToastComponent,portalProps:_}=i,j=Object.keys(s).map(et=>{const rt=s[et];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${et}`,id:`chakra-toast-manager-${et}`,style:getToastListStyle(et),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:rt.map(nt=>jsxRuntimeExports.jsx(o,{motionVariants:a,...nt},nt.id))})},et)});return jsxRuntimeExports.jsx(Portal,{..._,children:j})};function useToast(i){const{theme:s}=useChakra(),a=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(s.direction,{...a,...i}),[i,s.direction,a])}var createChakraProvider=i=>function({children:a,theme:o=i,toastOptions:_,...$}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:o,...$,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:_==null?void 0:_.defaultOptions,children:a}),jsxRuntimeExports.jsx(ToastProvider,{..._})]})},ChakraProvider=createChakraProvider(theme$1),__defProp$1=Object.defineProperty,__defNormalProp$1=(i,s,a)=>s in i?__defProp$1(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,__publicField$1=(i,s,a)=>(__defNormalProp$1(i,typeof s!="symbol"?s+"":s,a),a);function sortNodes(i){return i.sort((s,a)=>{const o=s.compareDocumentPosition(a);if(o&Node.DOCUMENT_POSITION_FOLLOWING||o&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(o&Node.DOCUMENT_POSITION_PRECEDING||o&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(o&Node.DOCUMENT_POSITION_DISCONNECTED||o&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var isElement$3=i=>typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE;function getNextIndex(i,s,a){let o=i+1;return a&&o>=s&&(o=0),o}function getPrevIndex(i,s,a){let o=i-1;return a&&o<0&&(o=s),o}var useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast=i=>i,DescendantsManager=class{constructor(){__publicField$1(this,"descendants",new Map),__publicField$1(this,"register",i=>{if(i!=null)return isElement$3(i)?this.registerNode(i):s=>{this.registerNode(s,i)}}),__publicField$1(this,"unregister",i=>{this.descendants.delete(i);const s=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(s)}),__publicField$1(this,"destroy",()=>{this.descendants.clear()}),__publicField$1(this,"assignIndex",i=>{this.descendants.forEach(s=>{const a=i.indexOf(s.node);s.index=a,s.node.dataset.index=s.index.toString()})}),__publicField$1(this,"count",()=>this.descendants.size),__publicField$1(this,"enabledCount",()=>this.enabledValues().length),__publicField$1(this,"values",()=>Array.from(this.descendants.values()).sort((s,a)=>s.index-a.index)),__publicField$1(this,"enabledValues",()=>this.values().filter(i=>!i.disabled)),__publicField$1(this,"item",i=>{if(this.count()!==0)return this.values()[i]}),__publicField$1(this,"enabledItem",i=>{if(this.enabledCount()!==0)return this.enabledValues()[i]}),__publicField$1(this,"first",()=>this.item(0)),__publicField$1(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$1(this,"last",()=>this.item(this.descendants.size-1)),__publicField$1(this,"lastEnabled",()=>{const i=this.enabledValues().length-1;return this.enabledItem(i)}),__publicField$1(this,"indexOf",i=>{var s,a;return i&&(a=(s=this.descendants.get(i))==null?void 0:s.index)!=null?a:-1}),__publicField$1(this,"enabledIndexOf",i=>i==null?-1:this.enabledValues().findIndex(s=>s.node.isSameNode(i))),__publicField$1(this,"next",(i,s=!0)=>{const a=getNextIndex(i,this.count(),s);return this.item(a)}),__publicField$1(this,"nextEnabled",(i,s=!0)=>{const a=this.item(i);if(!a)return;const o=this.enabledIndexOf(a.node),_=getNextIndex(o,this.enabledCount(),s);return this.enabledItem(_)}),__publicField$1(this,"prev",(i,s=!0)=>{const a=getPrevIndex(i,this.count()-1,s);return this.item(a)}),__publicField$1(this,"prevEnabled",(i,s=!0)=>{const a=this.item(i);if(!a)return;const o=this.enabledIndexOf(a.node),_=getPrevIndex(o,this.enabledCount()-1,s);return this.enabledItem(_)}),__publicField$1(this,"registerNode",(i,s)=>{if(!i||this.descendants.has(i))return;const a=Array.from(this.descendants.keys()).concat(i),o=sortNodes(a);s!=null&&s.disabled&&(s.disabled=!!s.disabled);const _={node:i,index:-1,...s};this.descendants.set(i,_),this.assignIndex(o)})}};function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(a=>{assignRef$1(a,s)})}}function useMergeRefs$1(...i){return reactExports.useMemo(()=>mergeRefs(...i),i)}function useDescendants(){const i=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect(()=>()=>i.current.destroy()),i.current}var[DescendantsContextProvider,useDescendantsContext]=createContext$1({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function useDescendant(i){const s=useDescendantsContext(),[a,o]=reactExports.useState(-1),_=reactExports.useRef(null);useSafeLayoutEffect(()=>()=>{_.current&&s.unregister(_.current)},[]),useSafeLayoutEffect(()=>{if(!_.current)return;const j=Number(_.current.dataset.index);a!=j&&!Number.isNaN(j)&&o(j)});const $=cast(i?s.register(i):s.register);return{descendants:s,index:a,enabledIndex:s.enabledIndexOf(_.current),register:mergeRefs($,_)}}function createDescendantContext(){return[cast(DescendantsContextProvider),()=>cast(useDescendantsContext()),()=>useDescendants(),_=>useDescendant(_)]}var TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},variants$2={enter:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:1,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({transition:i,transitionEnd:s,delay:a}={})=>{var o;return{opacity:0,transition:(o=i==null?void 0:i.exit)!=null?o:withDelay.exit(TRANSITION_DEFAULTS.exit,a),transitionEnd:s==null?void 0:s.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function i(s,a){const{unmountOnExit:o,in:_,className:$,transition:j,transitionEnd:et,delay:rt,...nt}=s,it=_||o?"enter":"exit",ot=o?_&&o:!0,at={transition:j,transitionEnd:et,delay:rt};return jsxRuntimeExports.jsx(AnimatePresence,{custom:at,children:ot&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-fade",$),custom:at,...fadeConfig,animate:it,...nt})})});Fade.displayName="Fade";var variants$1={exit:({reverse:i,initialScale:s,transition:a,transitionEnd:o,delay:_})=>{var $;return{opacity:0,...i?{scale:s,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{scale:s,...o==null?void 0:o.exit}},transition:($=a==null?void 0:a.exit)!=null?$:withDelay.exit(TRANSITION_DEFAULTS.exit,_)}},enter:({transitionEnd:i,transition:s,delay:a})=>{var o;return{opacity:1,scale:1,transition:(o=s==null?void 0:s.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:i==null?void 0:i.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function i(s,a){const{unmountOnExit:o,in:_,reverse:$=!0,initialScale:j=.95,className:et,transition:rt,transitionEnd:nt,delay:it,...ot}=s,at=o?_&&o:!0,lt=_||o?"enter":"exit",gt={initialScale:j,reverse:$,transition:rt,transitionEnd:nt,delay:it};return jsxRuntimeExports.jsx(AnimatePresence,{custom:gt,children:at&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",et),...scaleFadeConfig,animate:lt,custom:gt,...ot})})});ScaleFade.displayName="ScaleFade";var variants={initial:({offsetX:i,offsetY:s,transition:a,transitionEnd:o,delay:_})=>{var $;return{opacity:0,x:i,y:s,transition:($=a==null?void 0:a.exit)!=null?$:withDelay.exit(TRANSITION_DEFAULTS.exit,_),transitionEnd:o==null?void 0:o.exit}},enter:({transition:i,transitionEnd:s,delay:a})=>{var o;return{opacity:1,x:0,y:0,transition:(o=i==null?void 0:i.enter)!=null?o:withDelay.enter(TRANSITION_DEFAULTS.enter,a),transitionEnd:s==null?void 0:s.enter}},exit:({offsetY:i,offsetX:s,transition:a,transitionEnd:o,reverse:_,delay:$})=>{var j;const et={x:s,y:i};return{opacity:0,transition:(j=a==null?void 0:a.exit)!=null?j:withDelay.exit(TRANSITION_DEFAULTS.exit,$),..._?{...et,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:{...et,...o==null?void 0:o.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants},SlideFade=reactExports.forwardRef(function i(s,a){const{unmountOnExit:o,in:_,reverse:$=!0,className:j,offsetX:et=0,offsetY:rt=8,transition:nt,transitionEnd:it,delay:ot,...at}=s,lt=o?_&&o:!0,gt=_||o?"enter":"exit",ct={offsetX:et,offsetY:rt,reverse:$,transition:nt,transitionEnd:it,delay:ot};return jsxRuntimeExports.jsx(AnimatePresence,{custom:ct,children:lt&&jsxRuntimeExports.jsx(motion.div,{ref:a,className:cx("chakra-offset-slide",j),custom:ct,...slideFadeConfig,animate:gt,...at})})});SlideFade.displayName="SlideFade";function getValidChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}var[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function useButtonType(i){const[s,a]=reactExports.useState(!i);return{ref:reactExports.useCallback($=>{$&&a($.tagName==="BUTTON")},[]),type:s?"button":void 0}}function ButtonIcon(i){const{children:s,className:a,...o}=i,_=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,$=cx("chakra-button__icon",a);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...o,className:$,children:_})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:a,spacing:o="0.5rem",children:_=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:$,__css:j,...et}=i,rt=cx("chakra-button__spinner",$),nt=a==="start"?"marginEnd":"marginStart",it=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[nt]:s?o:0,fontSize:"1em",lineHeight:"normal",...j}),[j,s,nt,o]);return jsxRuntimeExports.jsx(chakra.div,{className:rt,...et,__css:it,children:_})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((i,s)=>{const a=useButtonGroup(),o=useStyleConfig("Button",{...a,...i}),{isDisabled:_=a==null?void 0:a.isDisabled,isLoading:$,isActive:j,children:et,leftIcon:rt,rightIcon:nt,loadingText:it,iconSpacing:ot="0.5rem",type:at,spinner:lt,spinnerPlacement:gt="start",className:ct,as:yt,...pt}=omitThemingProps(i),ut=reactExports.useMemo(()=>{const vt={...o==null?void 0:o._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...o,...!!a&&{_focus:vt}}},[o,a]),{ref:ht,type:mt}=useButtonType(yt),dt={rightIcon:nt,leftIcon:rt,iconSpacing:ot,children:et};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(s,ht),as:yt,type:at??mt,"data-active":dataAttr(j),"data-loading":dataAttr($),__css:ut,className:cx("chakra-button",ct),...pt,disabled:_||$,children:[$&&gt==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:it,placement:"start",spacing:ot,children:lt}),$?it||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...dt})}):jsxRuntimeExports.jsx(ButtonContent,{...dt}),$&&gt==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:it,placement:"end",spacing:ot,children:lt})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:a,children:o,iconSpacing:_}=i;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:_,children:s}),o,a&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:_,children:a})]})}var IconButton=forwardRef((i,s)=>{const{icon:a,children:o,isRound:_,"aria-label":$,...j}=i,et=a||o,rt=reactExports.isValidElement(et)?reactExports.cloneElement(et,{"aria-hidden":!0,focusable:!1}):null;return jsxRuntimeExports.jsx(Button,{padding:"0",borderRadius:_?"full":void 0,ref:s,"aria-label":$,...j,children:rt})});IconButton.displayName="IconButton";var[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:a,isInvalid:o,isDisabled:_,isReadOnly:$,...j}=i,et=reactExports.useId(),rt=s||`field-${et}`,nt=`${rt}-label`,it=`${rt}-feedback`,ot=`${rt}-helptext`,[at,lt]=reactExports.useState(!1),[gt,ct]=reactExports.useState(!1),[yt,pt]=reactExports.useState(!1),ut=reactExports.useCallback((St={},_t=null)=>({id:ot,...St,ref:mergeRefs(_t,Et=>{Et&&ct(!0)})}),[ot]),ht=reactExports.useCallback((St={},_t=null)=>({...St,ref:_t,"data-focus":dataAttr(yt),"data-disabled":dataAttr(_),"data-invalid":dataAttr(o),"data-readonly":dataAttr($),id:St.id!==void 0?St.id:nt,htmlFor:St.htmlFor!==void 0?St.htmlFor:rt}),[rt,_,yt,o,$,nt]),mt=reactExports.useCallback((St={},_t=null)=>({id:it,...St,ref:mergeRefs(_t,Et=>{Et&&lt(!0)}),"aria-live":"polite"}),[it]),dt=reactExports.useCallback((St={},_t=null)=>({...St,...j,ref:_t,role:"group","data-focus":dataAttr(yt),"data-disabled":dataAttr(_),"data-invalid":dataAttr(o),"data-readonly":dataAttr($)}),[j,_,yt,o,$]),vt=reactExports.useCallback((St={},_t=null)=>({...St,ref:_t,role:"presentation","aria-hidden":!0,children:St.children||"*"}),[]);return{isRequired:!!a,isInvalid:!!o,isReadOnly:!!$,isDisabled:!!_,isFocused:!!yt,onFocus:()=>pt(!0),onBlur:()=>pt(!1),hasFeedbackText:at,setHasFeedbackText:lt,hasHelpText:gt,setHasHelpText:ct,id:rt,labelId:nt,feedbackId:it,helpTextId:ot,htmlProps:j,getHelpTextProps:ut,getErrorMessageProps:mt,getRootProps:dt,getLabelProps:ht,getRequiredIndicatorProps:vt}}var FormControl=forwardRef(function i(s,a){const o=useMultiStyleConfig("Form",s),_=omitThemingProps(s),{getRootProps:$,htmlProps:j,...et}=useFormControlProvider(_),rt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:et,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:o,children:jsxRuntimeExports.jsx(chakra.div,{...$({},a),className:rt,__css:o.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function i(s,a){const o=useFormControlContext(),_=useFormControlStyles(),$=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...o==null?void 0:o.getHelpTextProps(s,a),__css:_.helperText,className:$})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:a,isReadOnly:o,isRequired:_,...$}=useFormControlProps(i);return{...$,disabled:s,readOnly:o,required:_,"aria-invalid":ariaAttr(a),"aria-required":ariaAttr(_),"aria-readonly":ariaAttr(o)}}function useFormControlProps(i){var s,a,o;const _=useFormControlContext(),{id:$,disabled:j,readOnly:et,required:rt,isRequired:nt,isInvalid:it,isReadOnly:ot,isDisabled:at,onFocus:lt,onBlur:gt,...ct}=i,yt=i["aria-describedby"]?[i["aria-describedby"]]:[];return _!=null&&_.hasFeedbackText&&(_!=null&&_.isInvalid)&&yt.push(_.feedbackId),_!=null&&_.hasHelpText&&yt.push(_.helpTextId),{...ct,"aria-describedby":yt.join(" ")||void 0,id:$??(_==null?void 0:_.id),isDisabled:(s=j??at)!=null?s:_==null?void 0:_.isDisabled,isReadOnly:(a=et??ot)!=null?a:_==null?void 0:_.isReadOnly,isRequired:(o=rt??nt)!=null?o:_==null?void 0:_.isRequired,isInvalid:it??(_==null?void 0:_.isInvalid),onFocus:callAllHandlers(_==null?void 0:_.onFocus,lt),onBlur:callAllHandlers(_==null?void 0:_.onBlur,gt)}}var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(a=>a(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let a=!1;try{a=s.matches(":focus-visible")}catch{}if(a)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(i){i.target===window||i.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){hasEventBeforeFocus=!0,i.apply(this,a)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}function useEventListener(i,s,a,o){const _=useCallbackRef$1(a);return reactExports.useEffect(()=>{const $=typeof i=="function"?i():i??document;if(!(!a||!$))return $.addEventListener(s,_,o),()=>{$.removeEventListener(s,_,o)}},[s,i,o,_,a]),()=>{const $=typeof i=="function"?i():i??document;$==null||$.removeEventListener(s,_,o)}}function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var a={};for(var o in i)if({}.hasOwnProperty.call(i,o)){if(s.indexOf(o)!==-1)continue;a[o]=i[o]}return a}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef(i,s){var a=reactExports.useState(function(){return{value:i,callback:s,facade:{get current(){return a.value},set current(o){var _=a.value;_!==o&&(a.value=o,a.callback(o,_))}}}})[0];return a.callback=s,a.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(i,s){var a=useCallbackRef(null,function(o){return i.forEach(function(_){return assignRef(_,o)})});return useIsomorphicLayoutEffect(function(){var o=currentValues.get(a);if(o){var _=new Set(o),$=new Set(i),j=a.current;_.forEach(function(et){$.has(et)||assignRef(et,null)}),$.forEach(function(et){_.has(et)||assignRef(et,j)})}currentValues.set(a,i)},[i]),a}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign=function(){return __assign=Object.assign||function(s){for(var a,o=1,_=arguments.length;o<_;o++){a=arguments[o];for(var $ in a)Object.prototype.hasOwnProperty.call(a,$)&&(s[$]=a[$])}return s},__assign.apply(this,arguments)};function __rest(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,o=Object.getOwnPropertySymbols(i);_<o.length;_++)s.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(i,o[_])&&(a[o[_]]=i[o[_]]);return a}function __spreadArray(i,s,a){if(a||arguments.length===2)for(var o=0,_=s.length,$;o<_;o++)($||!(o in s))&&($||($=Array.prototype.slice.call(s,0,o)),$[o]=s[o]);return i.concat($||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var a=[],o=!1,_={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:i},useMedium:function($){var j=s($,o);return a.push(j),function(){a=a.filter(function(et){return et!==j})}},assignSyncMedium:function($){for(o=!0;a.length;){var j=a;a=[],j.forEach($)}a={push:function(et){return $(et)},filter:function(){return a}}},assignMedium:function($){o=!0;var j=[];if(a.length){var et=a;a=[],et.forEach($),j=a}var rt=function(){var it=j;j=[],it.forEach($)},nt=function(){return Promise.resolve().then(rt)};nt(),a={push:function(it){j.push(it),nt()},filter:function(it){return j=j.filter(it),a}}}};return _}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,a=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return reactExports.createElement(o,__assign({},a))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,a=i.currentTarget;return{target:s,currentTarget:a}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function i(s,a){var o,_=reactExports.useState(),$=_[0],j=_[1],et=reactExports.useRef(),rt=reactExports.useRef(!1),nt=reactExports.useRef(null),it=reactExports.useState({}),ot=it[1],at=s.children,lt=s.disabled,gt=lt===void 0?!1:lt,ct=s.noFocusGuards,yt=ct===void 0?!1:ct,pt=s.persistentFocus,ut=pt===void 0?!1:pt,ht=s.crossFrame,mt=ht===void 0?!0:ht,dt=s.autoFocus,vt=dt===void 0?!0:dt;s.allowTextSelection;var St=s.group,_t=s.className,Et=s.whiteList,Pt=s.hasPositiveIndices,Mt=s.shards,Rt=Mt===void 0?emptyArray:Mt,Ut=s.as,Ct=Ut===void 0?"div":Ut,Kt=s.lockProps,Gt=Kt===void 0?{}:Kt,It=s.sideCar,jt=s.returnFocus,$t=jt===void 0?!1:jt,Jt=s.focusOptions,Wt=s.onActivation,tr=s.onDeactivation,mr=reactExports.useState({}),Yt=mr[0],kt=reactExports.useCallback(function(qt){var Nt=qt.captureFocusRestore;if(!nt.current){var Bt,Qt=(Bt=document)==null?void 0:Bt.activeElement;nt.current=Qt,Qt!==document.body&&(nt.current=Nt(Qt))}et.current&&Wt&&Wt(et.current),rt.current=!0,ot()},[Wt]),Ft=reactExports.useCallback(function(){rt.current=!1,tr&&tr(et.current),ot()},[tr]),er=reactExports.useCallback(function(qt){var Nt=nt.current;if(Nt){var Bt=(typeof Nt=="function"?Nt():Nt)||document.body,Qt=typeof $t=="function"?$t(Bt):$t;if(Qt){var sr=typeof Qt=="object"?Qt:void 0;nt.current=null,qt?Promise.resolve().then(function(){return Bt.focus(sr)}):Bt.focus(sr)}}},[$t]),Zt=reactExports.useCallback(function(qt){rt.current&&mediumFocus.useMedium(qt)},[]),At=mediumBlur.useMedium,Ot=reactExports.useCallback(function(qt){et.current!==qt&&(et.current=qt,j(qt))},[]),Dt=_extends((o={},o[FOCUS_DISABLED]=gt&&"disabled",o[FOCUS_GROUP]=St,o),Gt),zt=yt!==!0,Xt=zt&&yt!=="tail",wt=useMergeRefs([a,Ot]),Vt=reactExports.useMemo(function(){return{observed:et,shards:Rt,enabled:!gt,active:rt.current}},[gt,rt.current,Rt,$]);return React.createElement(reactExports.Fragment,null,zt&&[React.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:gt?-1:0,style:hiddenGuard}),Pt?React.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:gt?-1:1,style:hiddenGuard}):null],!gt&&React.createElement(It,{id:Yt,sideCar:mediumSidecar,observed:$,disabled:gt,persistentFocus:ut,crossFrame:mt,autoFocus:vt,whiteList:Et,shards:Rt,onActivation:kt,onDeactivation:Ft,returnFocus:er,focusOptions:Jt,noFocusGuards:yt}),React.createElement(Ct,_extends({ref:wt},Dt,{className:_t,onBlur:At,onFocus:Zt}),React.createElement(focusScope.Provider,{value:Vt},at)),Xt&&React.createElement("div",{"data-focus-guard":!0,tabIndex:gt?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function toPrimitive(i,s){if(_typeof(i)!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var o=a.call(i,s);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function toPropertyKey(i){var s=toPrimitive(i,"string");return _typeof(s)=="symbol"?s:s+""}function _defineProperty(i,s,a){return(s=toPropertyKey(s))in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}function withSideEffect(i,s){function a(o){return o.displayName||o.name||"Component"}return function(_){var $=[],j;function et(){j=i($.map(function(nt){return nt.props})),s(j)}var rt=function(nt){_inheritsLoose(it,nt);function it(){return nt.apply(this,arguments)||this}it.peek=function(){return j};var ot=it.prototype;return ot.componentDidMount=function(){$.push(this),et()},ot.componentDidUpdate=function(){et()},ot.componentWillUnmount=function(){var lt=$.indexOf(this);$.splice(lt,1),et()},ot.render=function(){return React.createElement(_,this.props)},it}(reactExports.PureComponent);return _defineProperty(rt,"displayName","SideEffect("+a(_)+")"),rt}}var toArray=function(i){for(var s=Array(i.length),a=0;a<i.length;++a)s[a]=i[a];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isInert=function(i){return i.hasAttribute("inert")},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&!isInert(i)&&s(getParentNode$1(i))},isVisibleCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,o),o},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode$1(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var a=i.get(s);if(a!==void 0)return a;var o=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,o),o},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return!!(i&&(!((s=getDataset(i))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return!!i},tabSort=function(i,s){var a=Math.max(0,i.tabIndex),o=Math.max(0,s.tabIndex),_=a-o,$=i.index-s.index;if(_){if(!a)return 1;if(!o)return-1}return _||$},getTabIndex=function(i){return i.tabIndex<0&&!i.hasAttribute("tabindex")?0:i.tabIndex},orderByTabIndex=function(i,s,a){return toArray(i).map(function(o,_){var $=getTabIndex(o);return{node:o,index:_,tabIndex:a&&$===-1?(o.dataset||{}).focusGuard?0:-1:$}}).filter(function(o){return!s||o.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){return toArray((i.shadowRoot||i).children).reduce(function(a,o){return a.concat(o.matches(s?queryGuardTabbables:queryTabbables)?[o]:[],getFocusablesWithShadowDom(o))},[])},getFocusablesWithIFrame=function(i,s){var a;return i instanceof HTMLIFrameElement&&(!((a=i.contentDocument)===null||a===void 0)&&a.body)?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(a,o){var _,$=getFocusablesWithShadowDom(o,s),j=(_=[]).concat.apply(_,$.map(function(et){return getFocusablesWithIFrame(et,s)}));return a.concat(j,o.parentNode?toArray(o.parentNode.querySelectorAll(queryTabbables)).filter(function(et){return et===o}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(a){return getFocusables([a])}).reduce(function(a,o){return a.concat(o)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(a){return isVisibleCached(s,a)}).filter(function(a){return notHiddenInput(a)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(a){return isAutoFocusAllowedCached(s,a)})},getTabbableNodes=function(i,s,a){return orderByTabIndex(filterFocusable(getFocusables(i,a),s),!0,a)},getFocusableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains$1=function(i,s){return i.shadowRoot?contains$1(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(a){var o;if(a instanceof HTMLIFrameElement){var _=(o=a.contentDocument)===null||o===void 0?void 0:o.body;return _?contains$1(_,s):!1}return contains$1(a,s)})},filterNested=function(i){for(var s=new Set,a=i.length,o=0;o<a;o+=1)for(var _=o+1;_<a;_+=1){var $=i[o].compareDocumentPosition(i[_]);($&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(_),($&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(o)}return i.filter(function(j,et){return!s.has(et)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(a,o){var _=o.getAttribute(FOCUS_GROUP);return a.push.apply(a,_?filterNested(toArray(getTopParent(o).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(_,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[o]),a},[])},safeProbe=function(i){try{return i()}catch{return}},getActiveElement$1=function(i){if(i===void 0&&(i=document),!(!i||!i.activeElement)){var s=i.activeElement;return s.shadowRoot?getActiveElement$1(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement$1(s.contentWindow.document):s}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return!!toArray(i.querySelectorAll("iframe")).some(function(a){return focusInFrame(a,s)})},focusInside=function(i,s){return s===void 0&&(s=getActiveElement$1(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(a){return contains$1(a,s)||focusInsideIframe(a,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement$1(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(a){return contains$1(a,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(a){return a.name===i.name}).filter(function(a){return a.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(a){return s.add(correctNode(a,i))}),i.filter(function(a){return s.has(a)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.indexOf(correctNode(s,i))},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,a,o,_){var $=i.length,j=i[0],et=i[$-1],rt=isGuard(o);if(!(o&&i.indexOf(o)>=0)){var nt=o!==void 0?a.indexOf(o):-1,it=_?a.indexOf(_):nt,ot=_?i.indexOf(_):-1;if(nt===-1)return ot!==-1?ot:NEW_FOCUS;if(ot===-1)return NEW_FOCUS;var at=nt-it,lt=a.indexOf(j),gt=a.indexOf(et),ct=correctNodes(a),yt=o!==void 0?ct.indexOf(o):-1,pt=_?ct.indexOf(_):yt,ut=ct.filter(function(_t){return _t.tabIndex>=0}),ht=o!==void 0?ut.indexOf(o):-1,mt=_?ut.indexOf(_):ht,dt=ht>=0&&mt>=0?mt-ht:pt-yt;if(!at&&ot>=0||s.length===0)return ot;var vt=pickFocusable(i,s[0]),St=pickFocusable(i,s[s.length-1]);if(nt<=lt&&rt&&Math.abs(at)>1)return St;if(nt>=gt&&rt&&Math.abs(at)>1)return vt;if(at&&Math.abs(dt)>1)return ot;if(nt<=lt)return St;if(nt>gt)return vt;if(at)return Math.abs(at)>1?ot:($+ot+at)%$}},findAutoFocused=function(i){return function(s){var a,o=(a=getDataset(s))===null||a===void 0?void 0:a.autofocus;return s.autofocus||o!==void 0&&o!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,a){var o=i.map(function($){var j=$.node;return j}),_=filterAutoFocusable(o.filter(findAutoFocused(a)));return _&&_.length?pickFirstFocus(_):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var a=getParents(i),o=getParents(s),_=0;_<a.length;_+=1){var $=a[_];if(o.indexOf($)>=0)return $}return!1},getTopCommonParent=function(i,s,a){var o=asArray(i),_=asArray(s),$=o[0],j=!1;return _.filter(Boolean).forEach(function(et){j=getCommonParent(j||et,et)||j,a.filter(Boolean).forEach(function(rt){var nt=getCommonParent($,rt);nt&&(!j||contains$1(nt,j)?j=nt:j=getCommonParent(nt,j))})}),j},allParentAutofocusables=function(i,s){return i.reduce(function(a,o){return a.concat(parentAutofocusables(o,s))},[])},reorderNodes=function(i,s){var a=new Map;return s.forEach(function(o){return a.set(o.node,o)}),i.map(function(o){return a.get(o)}).filter(isDefined)},focusSolver=function(i,s){var a=getActiveElement$1(asArray(i).length>0?document:getFirst(i).ownerDocument),o=getAllAffectedNodes(i).filter(isNotAGuard),_=getTopCommonParent(a||i,i,o),$=new Map,j=getFocusableNodes(o,$),et=j.filter(function(gt){var ct=gt.node;return isNotAGuard(ct)});if(et[0]){var rt=getFocusableNodes([_],$).map(function(gt){var ct=gt.node;return ct}),nt=reorderNodes(rt,et),it=nt.map(function(gt){var ct=gt.node;return ct}),ot=nt.filter(function(gt){var ct=gt.tabIndex;return ct>=0}).map(function(gt){var ct=gt.node;return ct}),at=newFocus(it,ot,rt,a,s);if(at===NEW_FOCUS){var lt=pickAutofocus(j,ot,allParentAutofocusables(o,$))||pickAutofocus(j,it,allParentAutofocusables(o,$));if(lt)return{node:lt};console.warn("focus-lock: cannot find any node to move focus into");return}return at===void 0?at:nt[at]}},expandFocusableNodes=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),a=getTopCommonParent(i,i,s),o=orderByTabIndex(getFocusables([a],!0),!0,!0),_=getFocusables(s,!1);return o.map(function($){var j=$.node,et=$.index;return{node:j,index:et,lockItem:_.indexOf(j)>=0,guard:isGuard(j)}})},focusOn=function(i,s){i&&("focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(i,s,a){a===void 0&&(a={});var o=focusSolver(i,s);if(!lockDisabled&&o){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(o.node,a.focusOptions),guardCount--}};function weakRef(i){if(!i)return null;if(typeof WeakRef>"u")return function(){return i||null};var s=i?new WeakRef(i):null;return function(){return(s==null?void 0:s.deref())||null}}var recordElementLocation=function(i){if(!i)return null;for(var s=[],a=i;a&&a!==document.body;)s.push({current:weakRef(a),parent:weakRef(a.parentElement),left:weakRef(a.previousElementSibling),right:weakRef(a.nextElementSibling)}),a=a.parentElement;return{element:weakRef(i),stack:s,ownerDocument:i.ownerDocument}},restoreFocusTo=function(i){var s,a,o,_,$;if(i)for(var j=i.stack,et=i.ownerDocument,rt=new Map,nt=0,it=j;nt<it.length;nt++){var ot=it[nt],at=(s=ot.parent)===null||s===void 0?void 0:s.call(ot);if(at&&et.contains(at)){for(var lt=(a=ot.left)===null||a===void 0?void 0:a.call(ot),gt=ot.current(),ct=at.contains(gt)?gt:void 0,yt=(o=ot.right)===null||o===void 0?void 0:o.call(ot),pt=getTabbableNodes([at],rt),ut=($=(_=ct??(lt==null?void 0:lt.nextElementSibling))!==null&&_!==void 0?_:yt)!==null&&$!==void 0?$:lt;ut;){for(var ht=0,mt=pt;ht<mt.length;ht++){var dt=mt[ht];if(ut!=null&&ut.contains(dt.node))return dt.node}ut=ut.nextElementSibling}if(pt.length)return pt[0].node}}},captureFocusRestore=function(i){var s=recordElementLocation(i);return function(){return restoreFocusTo(s)}},getRelativeFocusable=function(i,s,a){if(!i||!s)return console.error("no element or scope given"),{};var o=asArray(s);if(o.every(function(j){return!contains$1(j,i)}))return console.error("Active element is not contained in the scope"),{};var _=a?getTabbableNodes(o,new Map):getFocusableNodes(o,new Map),$=_.findIndex(function(j){var et=j.node;return et===i});if($!==-1)return{prev:_[$-1],next:_[$+1],first:_[0],last:_[_.length-1]}},getBoundary=function(i,s){var a=s?getTabbableNodes(asArray(i),new Map):getFocusableNodes(asArray(i),new Map);return{first:a[0],last:a[a.length-1]}},defaultOptions=function(i){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},i)},moveFocus=function(i,s,a){s===void 0&&(s={});var o=defaultOptions(s),_=getRelativeFocusable(i,o.scope,o.onlyTabbable);if(_){var $=a(_,o.cycle);$&&focusOn($.node,o.focusOptions)}},focusNextElement=function(i,s){s===void 0&&(s={}),moveFocus(i,s,function(a,o){var _=a.next,$=a.first;return _||o&&$})},focusPrevElement=function(i,s){s===void 0&&(s={}),moveFocus(i,s,function(a,o){var _=a.prev,$=a.last;return _||o&&$})},pickBoundary=function(i,s,a){var o,_=getBoundary(i,(o=s.onlyTabbable)!==null&&o!==void 0?o:!0),$=_[a];$&&focusOn($.node,s.focusOptions)},focusFirstElement=function(i,s){s===void 0&&(s={}),pickBoundary(i,s,"first")},focusLastElement=function(i,s){s===void 0&&(s={}),pickBoundary(i,s,"last")};function deferAction(i){setTimeout(i,1)}var extractRef$1=function i(s){return s&&"current"in s?s.current:s},focusOnBody=function i(){return document&&document.activeElement===document.body},isFreeFocus=function i(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function i(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function i(){return!0},focusWhitelisted=function i(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function i(s,a){lastPortaledElement={observerNode:s,portaledElement:a}},focusIsPortaledPair=function i(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,a,o){var _=null,$=i;do{var j=o[$];if(j.guard)j.node.dataset.focusAutoGuard&&(_=j);else if(j.lockItem){if($!==i)return;_=null}else break}while(($+=a)!==s);_&&(_.node.tabIndex=0)}var focusWasOutside=function i(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,a,o){return a&&(a.host===s&&(!a.activeElement||o.contains(a.activeElement))||a.parentNode&&i(s,a.parentNode,o))},withinHost=function i(s,a){return a.some(function(o){return checkInHost(s,o,o)})},getNodeFocusables=function i(s){return getFocusableNodes(s,new Map)},isNotFocusable=function i(s){return!getNodeFocusables([s.parentNode]).some(function(a){return a.node===s})},activateTrap=function i(){var s=!1;if(lastActiveTrap){var a=lastActiveTrap,o=a.observed,_=a.persistentFocus,$=a.autoFocus,j=a.shards,et=a.crossFrame,rt=a.focusOptions,nt=a.noFocusGuards,it=o||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var ot=tryRestoreFocus();ot&&ot.focus()}var at=document&&document.activeElement;if(it){var lt=[it].concat(j.map(extractRef$1).filter(Boolean)),gt=function(){if(!focusWasOutside(et)||!nt||!lastActiveFocus||windowFocused)return!1;var ht=getNodeFocusables(lt),mt=ht.findIndex(function(dt){var vt=dt.node;return vt===lastActiveFocus});return mt===0||mt===ht.length-1};if((!at||focusWhitelisted(at))&&(_||gt()||!isFreeFocus()||!lastActiveFocus&&$)&&(it&&!(focusInside(lt)||at&&withinHost(at,lt)||focusIsPortaledPair(at))&&(document&&!lastActiveFocus&&at&&!$?(at.blur&&at.blur(),document.body.focus()):(s=moveFocusInside(lt,lastActiveFocus,{focusOptions:rt}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&at!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var ct=document&&document.activeElement,yt=expandFocusableNodes(lt),pt=yt.map(function(ut){var ht=ut.node;return ht}).indexOf(ct);pt>-1&&(yt.filter(function(ut){var ht=ut.guard,mt=ut.node;return ht&&mt.dataset.focusAutoGuard}).forEach(function(ut){var ht=ut.node;return ht.removeAttribute("tabIndex")}),autoGuard(pt,yt.length,1,yt),autoGuard(pt,-1,-1,yt))}}}return s},onTrap=function i(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function i(){return deferAction(activateTrap)},onFocus=function i(s){var a=s.target,o=s.currentTarget;o.contains(a)||recordPortal(o,a)},FocusWatcher=function i(){return null},onWindowFocus=function i(){windowFocused=!0},onWindowBlur=function i(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function i(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function i(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var a=s.disabled;return!a})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var a=lastActiveTrap,o=a&&s&&s.id===a.id;lastActiveTrap=s,a&&!o&&(a.onDeactivation(),i.filter(function(_){var $=_.id;return $===a.id}).length||a.returnFocus(!s)),s?(lastActiveFocus=null,(!o||a.observed!==s.observed)&&s.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function i(s,a){return React.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:a},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement$2(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isHTMLElement$2(i){var s;if(!isElement$2(i))return!1;const a=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof a.HTMLElement}function getOwnerWindow(i){var s,a;return(a=(s=getOwnerDocument$2(i))==null?void 0:s.defaultView)!=null?a:window}function getOwnerDocument$2(i){return isElement$2(i)?i.ownerDocument:document}function getActiveElement(i){return getOwnerDocument$2(i).activeElement}function isScrollParent$1(i){const s=i.ownerDocument.defaultView||window,{overflow:a,overflowX:o,overflowY:_}=s.getComputedStyle(i);return/auto|scroll|overlay|hidden/.test(a+_+o)}function getParent(i){return i.localName==="html"?i:i.assignedSlot||i.parentElement||i.ownerDocument.documentElement}function getScrollParent$1(i){return["html","body","#document"].includes(i.localName)?i.ownerDocument.body:isHTMLElement$2(i)&&isScrollParent$1(i)?i:getScrollParent$1(getParent(i))}var hasTabIndex=i=>i.hasAttribute("tabindex"),hasNegativeTabIndex=i=>hasTabIndex(i)&&i.tabIndex===-1;function isDisabled(i){return!!i.getAttribute("disabled")||!!i.getAttribute("aria-disabled")}function isHidden(i){return i.parentElement&&isHidden(i.parentElement)?!0:i.hidden}function isContentEditable(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isFocusable(i){if(!isHTMLElement$2(i)||isHidden(i)||isDisabled(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const o={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in o?o[s]():isContentEditable(i)?!0:hasTabIndex(i)}function isTabbable(i){return i?isHTMLElement$2(i)&&isFocusable(i)&&!hasNegativeTabIndex(i):!1}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(a=>isFocusable(a)&&isVisible(a))}var _a,FocusTrap=(_a=FocusLockCombination.default)!=null?_a:FocusLockCombination,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:a,contentRef:o,restoreFocus:_,children:$,isDisabled:j,autoFocus:et,persistentFocus:rt,lockFocusAcrossFrames:nt}=i,it=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():o!=null&&o.current&&getAllFocusable(o.current).length===0&&requestAnimationFrame(()=>{var gt;(gt=o.current)==null||gt.focus()})},[s,o]),ot=reactExports.useCallback(()=>{var lt;(lt=a==null?void 0:a.current)==null||lt.focus()},[a]),at=_&&!a;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:nt,persistentFocus:rt,autoFocus:et,disabled:j,onActivation:it,onDeactivation:ot,returnFocus:at,children:$})};FocusLock.displayName="FocusLock";var Input=forwardRef(function i(s,a){const{htmlSize:o,..._}=s,$=useMultiStyleConfig("Input",_),j=omitThemingProps(_),et=useFormControl(j),rt=cx("chakra-input",s.className);return jsxRuntimeExports.jsx(chakra.input,{size:o,...et,__css:$.field,ref:a,className:rt})});Input.displayName="Input";Input.id="Input";function mapResponsive(i,s){return Array.isArray(i)?i.map(a=>a===null?null:s(a)):isObject(i)?Object.keys(i).reduce((a,o)=>(a[o]=s(i[o]),a),{}):i!=null?s(i):null}var Text=forwardRef(function i(s,a){const o=useStyleConfig("Text",s),{className:_,align:$,decoration:j,casing:et,...rt}=omitThemingProps(s),nt=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:a,className:cx("chakra-text",s.className),...nt,...rt,__css:o})});Text.displayName="Text";var StackItem=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";function getDividerStyles(i){const{spacing:s,direction:a}=i,o={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(a,_=>o[_])}}var Stack=forwardRef((i,s)=>{const{isInline:a,direction:o,align:_,justify:$,spacing:j="0.5rem",wrap:et,children:rt,divider:nt,className:it,shouldWrapChildren:ot,...at}=i,lt=a?"row":o??"column",gt=reactExports.useMemo(()=>getDividerStyles({spacing:j,direction:lt}),[j,lt]),ct=!!nt,yt=!ot&&!ct,pt=reactExports.useMemo(()=>{const ht=getValidChildren(rt);return yt?ht:ht.map((mt,dt)=>{const vt=typeof mt.key<"u"?mt.key:dt,St=dt+1===ht.length,Et=ot?jsxRuntimeExports.jsx(StackItem,{children:mt},vt):mt;if(!ct)return Et;const Pt=reactExports.cloneElement(nt,{__css:gt}),Mt=St?null:Pt;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Et,Mt]},vt)})},[nt,gt,ct,yt,ot,rt]),ut=cx("chakra-stack",it);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:_,justifyContent:$,flexDirection:lt,flexWrap:et,gap:ct?void 0:j,className:ut,...at,children:pt})});Stack.displayName="Stack";var VStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"column",ref:s}));VStack.displayName="VStack";var HStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";var Heading=forwardRef(function i(s,a){const o=useStyleConfig("Heading",s),{className:_,...$}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:a,className:cx("chakra-heading",s.className),...$,__css:o})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function i(s,a){const{size:o,centerContent:_=!0,...$}=s,j=_?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:a,boxSize:o,__css:{...j,flexShrink:0,flexGrow:0},...$})});Square.displayName="Square";var Circle$1=forwardRef(function i(s,a){const{size:o,..._}=s;return jsxRuntimeExports.jsx(Square,{size:o,ref:a,borderRadius:"9999px",..._})});Circle$1.displayName="Circle";var Divider=forwardRef(function i(s,a){const{borderLeftWidth:o,borderBottomWidth:_,borderTopWidth:$,borderRightWidth:j,borderWidth:et,borderStyle:rt,borderColor:nt,...it}=useStyleConfig("Divider",s),{className:ot,orientation:at="horizontal",__css:lt,...gt}=omitThemingProps(s),ct={vertical:{borderLeftWidth:o||j||et||"1px",height:"100%"},horizontal:{borderBottomWidth:_||$||et||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:a,"aria-orientation":at,...gt,__css:{...it,border:"0",borderColor:nt,borderStyle:rt,...ct[at],...lt},className:cx("chakra-divider",ot)})});Divider.displayName="Divider";function isPrintableCharacter(i){const{key:s}=i;return s.length===1||s.length>1&&/[^a-zA-Z0-9]/.test(s)}function useShortcut(i={}){const{timeout:s=300,preventDefault:a=()=>!0}=i,[o,_]=reactExports.useState([]),$=reactExports.useRef(),j=()=>{$.current&&(clearTimeout($.current),$.current=null)},et=()=>{j(),$.current=setTimeout(()=>{_([]),$.current=null},s)};reactExports.useEffect(()=>j,[]);function rt(nt){return it=>{if(it.key==="Backspace"){const ot=[...o];ot.pop(),_(ot);return}if(isPrintableCharacter(it)){const ot=o.concat(it.key);a(it)&&(it.preventDefault(),it.stopPropagation()),_(ot),nt(ot.join("")),et()}}}return rt}function getNextItemFromSearch(i,s,a,o){if(s==null)return o;if(!o)return i.find(j=>a(j).toLowerCase().startsWith(s.toLowerCase()));const _=i.filter($=>a($).toLowerCase().startsWith(s.toLowerCase()));if(_.length>0){let $;return _.includes(o)?($=_.indexOf(o)+1,$===_.length&&($=0),_[$]):($=i.indexOf(_[0]),i[$])}return o}function useEventListeners(){const i=reactExports.useRef(new Map),s=i.current,a=reactExports.useCallback((_,$,j,et)=>{i.current.set(j,{type:$,el:_,options:et}),_.addEventListener($,j,et)},[]),o=reactExports.useCallback((_,$,j,et)=>{_.removeEventListener($,j,et),i.current.delete(j)},[]);return reactExports.useEffect(()=>()=>{s.forEach((_,$)=>{o(_.el,_.type,$,_.options)})},[o,s]),{add:a,remove:o}}function isValidElement(i){const s=i.target,{tagName:a,isContentEditable:o}=s;return a!=="INPUT"&&a!=="TEXTAREA"&&o!==!0}function useClickable(i={}){const{ref:s,isDisabled:a,isFocusable:o,clickOnEnter:_=!0,clickOnSpace:$=!0,onMouseDown:j,onMouseUp:et,onClick:rt,onKeyDown:nt,onKeyUp:it,tabIndex:ot,onMouseOver:at,onMouseLeave:lt,...gt}=i,[ct,yt]=reactExports.useState(!0),[pt,ut]=reactExports.useState(!1),ht=useEventListeners(),mt=It=>{It&&It.tagName!=="BUTTON"&&yt(!1)},dt=ct?ot:ot||0,vt=a&&!o,St=reactExports.useCallback(It=>{if(a){It.stopPropagation(),It.preventDefault();return}It.currentTarget.focus(),rt==null||rt(It)},[a,rt]),_t=reactExports.useCallback(It=>{pt&&isValidElement(It)&&(It.preventDefault(),It.stopPropagation(),ut(!1),ht.remove(document,"keyup",_t,!1))},[pt,ht]),Et=reactExports.useCallback(It=>{if(nt==null||nt(It),a||It.defaultPrevented||It.metaKey||!isValidElement(It.nativeEvent)||ct)return;const jt=_&&It.key==="Enter";$&&It.key===" "&&(It.preventDefault(),ut(!0)),jt&&(It.preventDefault(),It.currentTarget.click()),ht.add(document,"keyup",_t,!1)},[a,ct,nt,_,$,ht,_t]),Pt=reactExports.useCallback(It=>{if(it==null||it(It),a||It.defaultPrevented||It.metaKey||!isValidElement(It.nativeEvent)||ct)return;$&&It.key===" "&&(It.preventDefault(),ut(!1),It.currentTarget.click())},[$,ct,a,it]),Mt=reactExports.useCallback(It=>{It.button===0&&(ut(!1),ht.remove(document,"mouseup",Mt,!1))},[ht]),Rt=reactExports.useCallback(It=>{if(It.button!==0)return;if(a){It.stopPropagation(),It.preventDefault();return}ct||ut(!0),It.currentTarget.focus({preventScroll:!0}),ht.add(document,"mouseup",Mt,!1),j==null||j(It)},[a,ct,j,ht,Mt]),Ut=reactExports.useCallback(It=>{It.button===0&&(ct||ut(!1),et==null||et(It))},[et,ct]),Ct=reactExports.useCallback(It=>{if(a){It.preventDefault();return}at==null||at(It)},[a,at]),Kt=reactExports.useCallback(It=>{pt&&(It.preventDefault(),ut(!1)),lt==null||lt(It)},[pt,lt]),Gt=mergeRefs(s,mt);return ct?{...gt,ref:Gt,type:"button","aria-disabled":vt?void 0:a,disabled:vt,onClick:St,onMouseDown:j,onMouseUp:et,onKeyUp:it,onKeyDown:nt,onMouseOver:at,onMouseLeave:lt}:{...gt,ref:Gt,role:"button","data-active":dataAttr(pt),"aria-disabled":a?"true":void 0,tabIndex:vt?void 0:dt,onClick:St,onMouseDown:Rt,onMouseUp:Ut,onKeyUp:Pt,onKeyDown:Et,onMouseOver:Ct,onMouseLeave:Kt}}function preventReturnFocus(i){const s=i.current;if(!s)return!1;const a=getActiveElement(s);return!a||s.contains(a)?!1:!!isTabbable(a)}function useFocusOnHide(i,s){const{visible:a,focusRef:o}=s,_=!a;useUpdateEffect(()=>{if(!_||preventReturnFocus(i))return;const $=(o==null?void 0:o.current)||i.current;let j;if($)return j=requestAnimationFrame(()=>{$.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(j)}},[_,i,o])}var toVar=(i,s)=>({var:i,varRef:s?`var(${i}, ${s})`:`var(${i})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(i){if(i.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(i.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(i.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(i.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=i=>transforms[i],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(i){let s;return typeof i=="object"?s={enabled:!0,options:{...defaultEventListeners,...i}}:s={enabled:i,options:defaultEventListeners},s}var matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:i})=>{i.styles.popper.width=`${i.rects.reference.width}px`},effect:({state:i})=>()=>{const s=i.elements.reference;i.elements.popper.style.width=`${s.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:i})=>{setTransformOrigin(i)},effect:({state:i})=>()=>{setTransformOrigin(i)}},setTransformOrigin=i=>{i.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(i.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:i})=>{setArrowStyles(i)}},setArrowStyles=i=>{var s;if(!i.placement)return;const a=getArrowStyle$1(i.placement);if((s=i.elements)!=null&&s.arrow&&a){Object.assign(i.elements.arrow.style,{[a.property]:a.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const o={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const _ in o)i.elements.arrow.style.setProperty(_,o[_])}},getArrowStyle$1=i=>{if(i.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(i.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(i.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(i.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:i})=>{setInnerArrowStyles(i)},effect:({state:i})=>()=>{setInnerArrowStyles(i)}},setInnerArrowStyles=i=>{if(!i.elements.arrow)return;const s=i.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!s)return;const a=getBoxShadow(i.placement);a&&s.style.setProperty("--popper-arrow-default-shadow",a),Object.assign(s.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(i,s="ltr"){var a,o;const _=((a=logicals[i])==null?void 0:a[s])||i;return s==="ltr"?_:(o=opposites[i])!=null?o:_}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,s){return i.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,s){return i.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var s=i.ownerDocument;return s&&s.defaultView||window}return i}function isElement$1(i){var s=getWindow(i).Element;return i instanceof s||i instanceof Element}function isHTMLElement$1(i){var s=getWindow(i).HTMLElement;return i instanceof s||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var s=getWindow(i).ShadowRoot;return i instanceof s||i instanceof ShadowRoot}function applyStyles(i){var s=i.state;Object.keys(s.elements).forEach(function(a){var o=s.styles[a]||{},_=s.attributes[a]||{},$=s.elements[a];!isHTMLElement$1($)||!getNodeName($)||(Object.assign($.style,o),Object.keys(_).forEach(function(j){var et=_[j];et===!1?$.removeAttribute(j):$.setAttribute(j,et===!0?"":et)}))})}function effect$2(i){var s=i.state,a={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,a.popper),s.styles=a,s.elements.arrow&&Object.assign(s.elements.arrow.style,a.arrow),function(){Object.keys(s.elements).forEach(function(o){var _=s.elements[o],$=s.attributes[o]||{},j=Object.keys(s.styles.hasOwnProperty(o)?s.styles[o]:a[o]),et=j.reduce(function(rt,nt){return rt[nt]="",rt},{});!isHTMLElement$1(_)||!getNodeName(_)||(Object.assign(_.style,et),Object.keys($).forEach(function(rt){_.removeAttribute(rt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,s,a){s===void 0&&(s=!1),a===void 0&&(a=!1);var o=i.getBoundingClientRect(),_=1,$=1;s&&isHTMLElement$1(i)&&(_=i.offsetWidth>0&&round(o.width)/i.offsetWidth||1,$=i.offsetHeight>0&&round(o.height)/i.offsetHeight||1);var j=isElement$1(i)?getWindow(i):window,et=j.visualViewport,rt=!isLayoutViewport()&&a,nt=(o.left+(rt&&et?et.offsetLeft:0))/_,it=(o.top+(rt&&et?et.offsetTop:0))/$,ot=o.width/_,at=o.height/$;return{width:ot,height:at,top:it,right:nt+ot,bottom:it+at,left:nt,x:nt,y:it}}function getLayoutRect(i){var s=getBoundingClientRect(i),a=i.offsetWidth,o=i.offsetHeight;return Math.abs(s.width-a)<=1&&(a=s.width),Math.abs(s.height-o)<=1&&(o=s.height),{x:i.offsetLeft,y:i.offsetTop,width:a,height:o}}function contains(i,s){var a=s.getRootNode&&s.getRootNode();if(i.contains(s))return!0;if(a&&isShadowRoot(a)){var o=s;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement$1(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle$1(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var s=/firefox/i.test(getUAString()),a=/Trident/i.test(getUAString());if(a&&isHTMLElement$1(i)){var o=getComputedStyle$1(i);if(o.position==="fixed")return null}var _=getParentNode(i);for(isShadowRoot(_)&&(_=_.host);isHTMLElement$1(_)&&["html","body"].indexOf(getNodeName(_))<0;){var $=getComputedStyle$1(_);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||s&&$.willChange==="filter"||s&&$.filter&&$.filter!=="none")return _;_=_.parentNode}return null}function getOffsetParent(i){for(var s=getWindow(i),a=getTrueOffsetParent(i);a&&isTableElement(a)&&getComputedStyle$1(a).position==="static";)a=getTrueOffsetParent(a);return a&&(getNodeName(a)==="html"||getNodeName(a)==="body"&&getComputedStyle$1(a).position==="static")?s:a||getContainingBlock(i)||s}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,s,a){return max(i,min(s,a))}function withinMaxClamp(i,s,a){var o=within(i,s,a);return o>a?a:o}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,s){return s.reduce(function(a,o){return a[o]=i,a},{})}var toPaddingObject=function i(s,a){return s=typeof s=="function"?s(Object.assign({},a.rects,{placement:a.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(i){var s,a=i.state,o=i.name,_=i.options,$=a.elements.arrow,j=a.modifiersData.popperOffsets,et=getBasePlacement(a.placement),rt=getMainAxisFromPlacement(et),nt=[left,right].indexOf(et)>=0,it=nt?"height":"width";if(!(!$||!j)){var ot=toPaddingObject(_.padding,a),at=getLayoutRect($),lt=rt==="y"?top:left,gt=rt==="y"?bottom:right,ct=a.rects.reference[it]+a.rects.reference[rt]-j[rt]-a.rects.popper[it],yt=j[rt]-a.rects.reference[rt],pt=getOffsetParent($),ut=pt?rt==="y"?pt.clientHeight||0:pt.clientWidth||0:0,ht=ct/2-yt/2,mt=ot[lt],dt=ut-at[it]-ot[gt],vt=ut/2-at[it]/2+ht,St=within(mt,vt,dt),_t=rt;a.modifiersData[o]=(s={},s[_t]=St,s.centerOffset=St-vt,s)}}function effect$1(i){var s=i.state,a=i.options,o=a.element,_=o===void 0?"[data-popper-arrow]":o;_!=null&&(typeof _=="string"&&(_=s.elements.popper.querySelector(_),!_)||contains(s.elements.popper,_)&&(s.elements.arrow=_))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i,s){var a=i.x,o=i.y,_=s.devicePixelRatio||1;return{x:round(a*_)/_||0,y:round(o*_)/_||0}}function mapToStyles(i){var s,a=i.popper,o=i.popperRect,_=i.placement,$=i.variation,j=i.offsets,et=i.position,rt=i.gpuAcceleration,nt=i.adaptive,it=i.roundOffsets,ot=i.isFixed,at=j.x,lt=at===void 0?0:at,gt=j.y,ct=gt===void 0?0:gt,yt=typeof it=="function"?it({x:lt,y:ct}):{x:lt,y:ct};lt=yt.x,ct=yt.y;var pt=j.hasOwnProperty("x"),ut=j.hasOwnProperty("y"),ht=left,mt=top,dt=window;if(nt){var vt=getOffsetParent(a),St="clientHeight",_t="clientWidth";if(vt===getWindow(a)&&(vt=getDocumentElement(a),getComputedStyle$1(vt).position!=="static"&&et==="absolute"&&(St="scrollHeight",_t="scrollWidth")),vt=vt,_===top||(_===left||_===right)&&$===end){mt=bottom;var Et=ot&&vt===dt&&dt.visualViewport?dt.visualViewport.height:vt[St];ct-=Et-o.height,ct*=rt?1:-1}if(_===left||(_===top||_===bottom)&&$===end){ht=right;var Pt=ot&&vt===dt&&dt.visualViewport?dt.visualViewport.width:vt[_t];lt-=Pt-o.width,lt*=rt?1:-1}}var Mt=Object.assign({position:et},nt&&unsetSides),Rt=it===!0?roundOffsetsByDPR({x:lt,y:ct},getWindow(a)):{x:lt,y:ct};if(lt=Rt.x,ct=Rt.y,rt){var Ut;return Object.assign({},Mt,(Ut={},Ut[mt]=ut?"0":"",Ut[ht]=pt?"0":"",Ut.transform=(dt.devicePixelRatio||1)<=1?"translate("+lt+"px, "+ct+"px)":"translate3d("+lt+"px, "+ct+"px, 0)",Ut))}return Object.assign({},Mt,(s={},s[mt]=ut?ct+"px":"",s[ht]=pt?lt+"px":"",s.transform="",s))}function computeStyles(i){var s=i.state,a=i.options,o=a.gpuAcceleration,_=o===void 0?!0:o,$=a.adaptive,j=$===void 0?!0:$,et=a.roundOffsets,rt=et===void 0?!0:et,nt={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:_,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},nt,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:j,roundOffsets:rt})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},nt,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:rt})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var s=i.state,a=i.instance,o=i.options,_=o.scroll,$=_===void 0?!0:_,j=o.resize,et=j===void 0?!0:j,rt=getWindow(s.elements.popper),nt=[].concat(s.scrollParents.reference,s.scrollParents.popper);return $&&nt.forEach(function(it){it.addEventListener("scroll",a.update,passive)}),et&&rt.addEventListener("resize",a.update,passive),function(){$&&nt.forEach(function(it){it.removeEventListener("scroll",a.update,passive)}),et&&rt.removeEventListener("resize",a.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function i(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(s){return hash$1[s]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(s){return hash[s]})}function getWindowScroll(i){var s=getWindow(i),a=s.pageXOffset,o=s.pageYOffset;return{scrollLeft:a,scrollTop:o}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,s){var a=getWindow(i),o=getDocumentElement(i),_=a.visualViewport,$=o.clientWidth,j=o.clientHeight,et=0,rt=0;if(_){$=_.width,j=_.height;var nt=isLayoutViewport();(nt||!nt&&s==="fixed")&&(et=_.offsetLeft,rt=_.offsetTop)}return{width:$,height:j,x:et+getWindowScrollBarX(i),y:rt}}function getDocumentRect(i){var s,a=getDocumentElement(i),o=getWindowScroll(i),_=(s=i.ownerDocument)==null?void 0:s.body,$=max(a.scrollWidth,a.clientWidth,_?_.scrollWidth:0,_?_.clientWidth:0),j=max(a.scrollHeight,a.clientHeight,_?_.scrollHeight:0,_?_.clientHeight:0),et=-o.scrollLeft+getWindowScrollBarX(i),rt=-o.scrollTop;return getComputedStyle$1(_||a).direction==="rtl"&&(et+=max(a.clientWidth,_?_.clientWidth:0)-$),{width:$,height:j,x:et,y:rt}}function isScrollParent(i){var s=getComputedStyle$1(i),a=s.overflow,o=s.overflowX,_=s.overflowY;return/auto|scroll|overlay|hidden/.test(a+_+o)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,s){var a;s===void 0&&(s=[]);var o=getScrollParent(i),_=o===((a=i.ownerDocument)==null?void 0:a.body),$=getWindow(o),j=_?[$].concat($.visualViewport||[],isScrollParent(o)?o:[]):o,et=s.concat(j);return _?et:et.concat(listScrollParents(getParentNode(j)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,s){var a=getBoundingClientRect(i,!1,s==="fixed");return a.top=a.top+i.clientTop,a.left=a.left+i.clientLeft,a.bottom=a.top+i.clientHeight,a.right=a.left+i.clientWidth,a.width=i.clientWidth,a.height=i.clientHeight,a.x=a.left,a.y=a.top,a}function getClientRectFromMixedType(i,s,a){return s===viewport?rectToClientRect(getViewportRect(i,a)):isElement$1(s)?getInnerBoundingClientRect(s,a):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var s=listScrollParents(getParentNode(i)),a=["absolute","fixed"].indexOf(getComputedStyle$1(i).position)>=0,o=a&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement$1(o)?s.filter(function(_){return isElement$1(_)&&contains(_,o)&&getNodeName(_)!=="body"}):[]}function getClippingRect(i,s,a,o){var _=s==="clippingParents"?getClippingParents(i):[].concat(s),$=[].concat(_,[a]),j=$[0],et=$.reduce(function(rt,nt){var it=getClientRectFromMixedType(i,nt,o);return rt.top=max(it.top,rt.top),rt.right=min(it.right,rt.right),rt.bottom=min(it.bottom,rt.bottom),rt.left=max(it.left,rt.left),rt},getClientRectFromMixedType(i,j,o));return et.width=et.right-et.left,et.height=et.bottom-et.top,et.x=et.left,et.y=et.top,et}function computeOffsets(i){var s=i.reference,a=i.element,o=i.placement,_=o?getBasePlacement(o):null,$=o?getVariation(o):null,j=s.x+s.width/2-a.width/2,et=s.y+s.height/2-a.height/2,rt;switch(_){case top:rt={x:j,y:s.y-a.height};break;case bottom:rt={x:j,y:s.y+s.height};break;case right:rt={x:s.x+s.width,y:et};break;case left:rt={x:s.x-a.width,y:et};break;default:rt={x:s.x,y:s.y}}var nt=_?getMainAxisFromPlacement(_):null;if(nt!=null){var it=nt==="y"?"height":"width";switch($){case start:rt[nt]=rt[nt]-(s[it]/2-a[it]/2);break;case end:rt[nt]=rt[nt]+(s[it]/2-a[it]/2);break}}return rt}function detectOverflow(i,s){s===void 0&&(s={});var a=s,o=a.placement,_=o===void 0?i.placement:o,$=a.strategy,j=$===void 0?i.strategy:$,et=a.boundary,rt=et===void 0?clippingParents:et,nt=a.rootBoundary,it=nt===void 0?viewport:nt,ot=a.elementContext,at=ot===void 0?popper:ot,lt=a.altBoundary,gt=lt===void 0?!1:lt,ct=a.padding,yt=ct===void 0?0:ct,pt=mergePaddingObject(typeof yt!="number"?yt:expandToHashMap(yt,basePlacements)),ut=at===popper?reference:popper,ht=i.rects.popper,mt=i.elements[gt?ut:at],dt=getClippingRect(isElement$1(mt)?mt:mt.contextElement||getDocumentElement(i.elements.popper),rt,it,j),vt=getBoundingClientRect(i.elements.reference),St=computeOffsets({reference:vt,element:ht,placement:_}),_t=rectToClientRect(Object.assign({},ht,St)),Et=at===popper?_t:vt,Pt={top:dt.top-Et.top+pt.top,bottom:Et.bottom-dt.bottom+pt.bottom,left:dt.left-Et.left+pt.left,right:Et.right-dt.right+pt.right},Mt=i.modifiersData.offset;if(at===popper&&Mt){var Rt=Mt[_];Object.keys(Pt).forEach(function(Ut){var Ct=[right,bottom].indexOf(Ut)>=0?1:-1,Kt=[top,bottom].indexOf(Ut)>=0?"y":"x";Pt[Ut]+=Rt[Kt]*Ct})}return Pt}function computeAutoPlacement(i,s){s===void 0&&(s={});var a=s,o=a.placement,_=a.boundary,$=a.rootBoundary,j=a.padding,et=a.flipVariations,rt=a.allowedAutoPlacements,nt=rt===void 0?placements:rt,it=getVariation(o),ot=it?et?variationPlacements:variationPlacements.filter(function(gt){return getVariation(gt)===it}):basePlacements,at=ot.filter(function(gt){return nt.indexOf(gt)>=0});at.length===0&&(at=ot);var lt=at.reduce(function(gt,ct){return gt[ct]=detectOverflow(i,{placement:ct,boundary:_,rootBoundary:$,padding:j})[getBasePlacement(ct)],gt},{});return Object.keys(lt).sort(function(gt,ct){return lt[gt]-lt[ct]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var s=getOppositePlacement(i);return[getOppositeVariationPlacement(i),s,getOppositeVariationPlacement(s)]}function flip(i){var s=i.state,a=i.options,o=i.name;if(!s.modifiersData[o]._skip){for(var _=a.mainAxis,$=_===void 0?!0:_,j=a.altAxis,et=j===void 0?!0:j,rt=a.fallbackPlacements,nt=a.padding,it=a.boundary,ot=a.rootBoundary,at=a.altBoundary,lt=a.flipVariations,gt=lt===void 0?!0:lt,ct=a.allowedAutoPlacements,yt=s.options.placement,pt=getBasePlacement(yt),ut=pt===yt,ht=rt||(ut||!gt?[getOppositePlacement(yt)]:getExpandedFallbackPlacements(yt)),mt=[yt].concat(ht).reduce(function(Yt,kt){return Yt.concat(getBasePlacement(kt)===auto?computeAutoPlacement(s,{placement:kt,boundary:it,rootBoundary:ot,padding:nt,flipVariations:gt,allowedAutoPlacements:ct}):kt)},[]),dt=s.rects.reference,vt=s.rects.popper,St=new Map,_t=!0,Et=mt[0],Pt=0;Pt<mt.length;Pt++){var Mt=mt[Pt],Rt=getBasePlacement(Mt),Ut=getVariation(Mt)===start,Ct=[top,bottom].indexOf(Rt)>=0,Kt=Ct?"width":"height",Gt=detectOverflow(s,{placement:Mt,boundary:it,rootBoundary:ot,altBoundary:at,padding:nt}),It=Ct?Ut?right:left:Ut?bottom:top;dt[Kt]>vt[Kt]&&(It=getOppositePlacement(It));var jt=getOppositePlacement(It),$t=[];if($&&$t.push(Gt[Rt]<=0),et&&$t.push(Gt[It]<=0,Gt[jt]<=0),$t.every(function(Yt){return Yt})){Et=Mt,_t=!1;break}St.set(Mt,$t)}if(_t)for(var Jt=gt?3:1,Wt=function(kt){var Ft=mt.find(function(er){var Zt=St.get(er);if(Zt)return Zt.slice(0,kt).every(function(At){return At})});if(Ft)return Et=Ft,"break"},tr=Jt;tr>0;tr--){var mr=Wt(tr);if(mr==="break")break}s.placement!==Et&&(s.modifiersData[o]._skip=!0,s.placement=Et,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,s,a){return a===void 0&&(a={x:0,y:0}),{top:i.top-s.height-a.y,right:i.right-s.width+a.x,bottom:i.bottom-s.height+a.y,left:i.left-s.width-a.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(s){return i[s]>=0})}function hide(i){var s=i.state,a=i.name,o=s.rects.reference,_=s.rects.popper,$=s.modifiersData.preventOverflow,j=detectOverflow(s,{elementContext:"reference"}),et=detectOverflow(s,{altBoundary:!0}),rt=getSideOffsets(j,o),nt=getSideOffsets(et,_,$),it=isAnySideFullyClipped(rt),ot=isAnySideFullyClipped(nt);s.modifiersData[a]={referenceClippingOffsets:rt,popperEscapeOffsets:nt,isReferenceHidden:it,hasPopperEscaped:ot},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":it,"data-popper-escaped":ot})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,s,a){var o=getBasePlacement(i),_=[left,top].indexOf(o)>=0?-1:1,$=typeof a=="function"?a(Object.assign({},s,{placement:i})):a,j=$[0],et=$[1];return j=j||0,et=(et||0)*_,[left,right].indexOf(o)>=0?{x:et,y:j}:{x:j,y:et}}function offset(i){var s=i.state,a=i.options,o=i.name,_=a.offset,$=_===void 0?[0,0]:_,j=placements.reduce(function(it,ot){return it[ot]=distanceAndSkiddingToXY(ot,s.rects,$),it},{}),et=j[s.placement],rt=et.x,nt=et.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=rt,s.modifiersData.popperOffsets.y+=nt),s.modifiersData[o]=j}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var s=i.state,a=i.name;s.modifiersData[a]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var s=i.state,a=i.options,o=i.name,_=a.mainAxis,$=_===void 0?!0:_,j=a.altAxis,et=j===void 0?!1:j,rt=a.boundary,nt=a.rootBoundary,it=a.altBoundary,ot=a.padding,at=a.tether,lt=at===void 0?!0:at,gt=a.tetherOffset,ct=gt===void 0?0:gt,yt=detectOverflow(s,{boundary:rt,rootBoundary:nt,padding:ot,altBoundary:it}),pt=getBasePlacement(s.placement),ut=getVariation(s.placement),ht=!ut,mt=getMainAxisFromPlacement(pt),dt=getAltAxis(mt),vt=s.modifiersData.popperOffsets,St=s.rects.reference,_t=s.rects.popper,Et=typeof ct=="function"?ct(Object.assign({},s.rects,{placement:s.placement})):ct,Pt=typeof Et=="number"?{mainAxis:Et,altAxis:Et}:Object.assign({mainAxis:0,altAxis:0},Et),Mt=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,Rt={x:0,y:0};if(vt){if($){var Ut,Ct=mt==="y"?top:left,Kt=mt==="y"?bottom:right,Gt=mt==="y"?"height":"width",It=vt[mt],jt=It+yt[Ct],$t=It-yt[Kt],Jt=lt?-_t[Gt]/2:0,Wt=ut===start?St[Gt]:_t[Gt],tr=ut===start?-_t[Gt]:-St[Gt],mr=s.elements.arrow,Yt=lt&&mr?getLayoutRect(mr):{width:0,height:0},kt=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Ft=kt[Ct],er=kt[Kt],Zt=within(0,St[Gt],Yt[Gt]),At=ht?St[Gt]/2-Jt-Zt-Ft-Pt.mainAxis:Wt-Zt-Ft-Pt.mainAxis,Ot=ht?-St[Gt]/2+Jt+Zt+er+Pt.mainAxis:tr+Zt+er+Pt.mainAxis,Dt=s.elements.arrow&&getOffsetParent(s.elements.arrow),zt=Dt?mt==="y"?Dt.clientTop||0:Dt.clientLeft||0:0,Xt=(Ut=Mt==null?void 0:Mt[mt])!=null?Ut:0,wt=It+At-Xt-zt,Vt=It+Ot-Xt,qt=within(lt?min(jt,wt):jt,It,lt?max($t,Vt):$t);vt[mt]=qt,Rt[mt]=qt-It}if(et){var Nt,Bt=mt==="x"?top:left,Qt=mt==="x"?bottom:right,sr=vt[dt],lr=dt==="y"?"height":"width",ar=sr+yt[Bt],vr=sr-yt[Qt],_r=[top,left].indexOf(pt)!==-1,Cr=(Nt=Mt==null?void 0:Mt[dt])!=null?Nt:0,Er=_r?ar:sr-St[lr]-_t[lr]-Cr+Pt.altAxis,qr=_r?sr+St[lr]+_t[lr]-Cr-Pt.altAxis:vr,Ur=lt&&_r?withinMaxClamp(Er,sr,qr):within(lt?Er:ar,sr,lt?qr:vr);vt[dt]=Ur,Rt[dt]=Ur-sr}s.modifiersData[o]=Rt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var s=i.getBoundingClientRect(),a=round(s.width)/i.offsetWidth||1,o=round(s.height)/i.offsetHeight||1;return a!==1||o!==1}function getCompositeRect(i,s,a){a===void 0&&(a=!1);var o=isHTMLElement$1(s),_=isHTMLElement$1(s)&&isElementScaled(s),$=getDocumentElement(s),j=getBoundingClientRect(i,_,a),et={scrollLeft:0,scrollTop:0},rt={x:0,y:0};return(o||!o&&!a)&&((getNodeName(s)!=="body"||isScrollParent($))&&(et=getNodeScroll(s)),isHTMLElement$1(s)?(rt=getBoundingClientRect(s,!0),rt.x+=s.clientLeft,rt.y+=s.clientTop):$&&(rt.x=getWindowScrollBarX($))),{x:j.left+et.scrollLeft-rt.x,y:j.top+et.scrollTop-rt.y,width:j.width,height:j.height}}function order(i){var s=new Map,a=new Set,o=[];i.forEach(function($){s.set($.name,$)});function _($){a.add($.name);var j=[].concat($.requires||[],$.requiresIfExists||[]);j.forEach(function(et){if(!a.has(et)){var rt=s.get(et);rt&&_(rt)}}),o.push($)}return i.forEach(function($){a.has($.name)||_($)}),o}function orderModifiers(i){var s=order(i);return modifierPhases.reduce(function(a,o){return a.concat(s.filter(function(_){return _.phase===o}))},[])}function debounce(i){var s;return function(){return s||(s=new Promise(function(a){Promise.resolve().then(function(){s=void 0,a(i())})})),s}}function mergeByName(i){var s=i.reduce(function(a,o){var _=a[o.name];return a[o.name]=_?Object.assign({},_,o,{options:Object.assign({},_.options,o.options),data:Object.assign({},_.data,o.data)}):o,a},{});return Object.keys(s).map(function(a){return s[a]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return!s.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var s=i,a=s.defaultModifiers,o=a===void 0?[]:a,_=s.defaultOptions,$=_===void 0?DEFAULT_OPTIONS:_;return function(et,rt,nt){nt===void 0&&(nt=$);var it={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,$),modifiersData:{},elements:{reference:et,popper:rt},attributes:{},styles:{}},ot=[],at=!1,lt={state:it,setOptions:function(pt){var ut=typeof pt=="function"?pt(it.options):pt;ct(),it.options=Object.assign({},$,it.options,ut),it.scrollParents={reference:isElement$1(et)?listScrollParents(et):et.contextElement?listScrollParents(et.contextElement):[],popper:listScrollParents(rt)};var ht=orderModifiers(mergeByName([].concat(o,it.options.modifiers)));return it.orderedModifiers=ht.filter(function(mt){return mt.enabled}),gt(),lt.update()},forceUpdate:function(){if(!at){var pt=it.elements,ut=pt.reference,ht=pt.popper;if(areValidElements(ut,ht)){it.rects={reference:getCompositeRect(ut,getOffsetParent(ht),it.options.strategy==="fixed"),popper:getLayoutRect(ht)},it.reset=!1,it.placement=it.options.placement,it.orderedModifiers.forEach(function(Pt){return it.modifiersData[Pt.name]=Object.assign({},Pt.data)});for(var mt=0;mt<it.orderedModifiers.length;mt++){if(it.reset===!0){it.reset=!1,mt=-1;continue}var dt=it.orderedModifiers[mt],vt=dt.fn,St=dt.options,_t=St===void 0?{}:St,Et=dt.name;typeof vt=="function"&&(it=vt({state:it,options:_t,name:Et,instance:lt})||it)}}}},update:debounce(function(){return new Promise(function(yt){lt.forceUpdate(),yt(it)})}),destroy:function(){ct(),at=!0}};if(!areValidElements(et,rt))return lt;lt.setOptions(nt).then(function(yt){!at&&nt.onFirstUpdate&&nt.onFirstUpdate(yt)});function gt(){it.orderedModifiers.forEach(function(yt){var pt=yt.name,ut=yt.options,ht=ut===void 0?{}:ut,mt=yt.effect;if(typeof mt=="function"){var dt=mt({state:it,name:pt,instance:lt,options:ht}),vt=function(){};ot.push(dt||vt)}})}function ct(){ot.forEach(function(yt){return yt()}),ot=[]}return lt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function usePopper(i={}){const{enabled:s=!0,modifiers:a,placement:o="bottom",strategy:_="absolute",arrowPadding:$=8,eventListeners:j=!0,offset:et,gutter:rt=8,flip:nt=!0,boundary:it="clippingParents",preventOverflow:ot=!0,matchWidth:at,direction:lt="ltr"}=i,gt=reactExports.useRef(null),ct=reactExports.useRef(null),yt=reactExports.useRef(null),pt=getPopperPlacement(o,lt),ut=reactExports.useRef(()=>{}),ht=reactExports.useCallback(()=>{var Pt;!s||!gt.current||!ct.current||((Pt=ut.current)==null||Pt.call(ut),yt.current=createPopper(gt.current,ct.current,{placement:pt,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!at},{name:"eventListeners",...getEventListenerOptions(j)},{name:"arrow",options:{padding:$}},{name:"offset",options:{offset:et??[0,rt]}},{name:"flip",enabled:!!nt,options:{padding:8}},{name:"preventOverflow",enabled:!!ot,options:{boundary:it}},...a??[]],strategy:_}),yt.current.forceUpdate(),ut.current=yt.current.destroy)},[pt,s,a,at,j,$,et,rt,nt,ot,it,_]);reactExports.useEffect(()=>()=>{var Pt;!gt.current&&!ct.current&&((Pt=yt.current)==null||Pt.destroy(),yt.current=null)},[]);const mt=reactExports.useCallback(Pt=>{gt.current=Pt,ht()},[ht]),dt=reactExports.useCallback((Pt={},Mt=null)=>({...Pt,ref:mergeRefs(mt,Mt)}),[mt]),vt=reactExports.useCallback(Pt=>{ct.current=Pt,ht()},[ht]),St=reactExports.useCallback((Pt={},Mt=null)=>({...Pt,ref:mergeRefs(vt,Mt),style:{...Pt.style,position:_,minWidth:at?void 0:"max-content",inset:"0 auto auto 0"}}),[_,vt,at]),_t=reactExports.useCallback((Pt={},Mt=null)=>{const{size:Rt,shadowColor:Ut,bg:Ct,style:Kt,...Gt}=Pt;return{...Gt,ref:Mt,"data-popper-arrow":"",style:getArrowStyle(Pt)}},[]),Et=reactExports.useCallback((Pt={},Mt=null)=>({...Pt,ref:Mt,"data-popper-arrow-inner":""}),[]);return{update(){var Pt;(Pt=yt.current)==null||Pt.update()},forceUpdate(){var Pt;(Pt=yt.current)==null||Pt.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:mt,popperRef:vt,getPopperProps:St,getArrowProps:_t,getArrowInnerProps:Et,getReferenceProps:dt}}function getArrowStyle(i){const{size:s,shadowColor:a,bg:o,style:_}=i,$={..._,position:"absolute"};return s&&($["--popper-arrow-size"]=s),a&&($["--popper-arrow-shadow-color"]=a),o&&($["--popper-arrow-bg"]=o),$}function useDisclosure(i={}){const{onClose:s,onOpen:a,isOpen:o,id:_}=i,$=useCallbackRef$1(a),j=useCallbackRef$1(s),[et,rt]=reactExports.useState(i.defaultIsOpen||!1),nt=o!==void 0?o:et,it=o!==void 0,ot=reactExports.useId(),at=_??`disclosure-${ot}`,lt=reactExports.useCallback(()=>{it||rt(!1),j==null||j()},[it,j]),gt=reactExports.useCallback(()=>{it||rt(!0),$==null||$()},[it,$]),ct=reactExports.useCallback(()=>{nt?lt():gt()},[nt,gt,lt]);function yt(ut={}){return{...ut,"aria-expanded":nt,"aria-controls":at,onClick(ht){var mt;(mt=ut.onClick)==null||mt.call(ut,ht),ct()}}}function pt(ut={}){return{...ut,hidden:!nt,id:at}}return{isOpen:nt,onOpen:gt,onClose:lt,onToggle:ct,isControlled:it,getButtonProps:yt,getDisclosureProps:pt}}function useOutsideClick(i){const{ref:s,handler:a,enabled:o=!0}=i,_=useCallbackRef$1(a),j=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!o)return;const et=ot=>{isValidEvent(ot,s)&&(j.isPointerDown=!0)},rt=ot=>{if(j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.isPointerDown&&a&&isValidEvent(ot,s)&&(j.isPointerDown=!1,_(ot))},nt=ot=>{j.ignoreEmulatedMouseEvents=!0,a&&j.isPointerDown&&isValidEvent(ot,s)&&(j.isPointerDown=!1,_(ot))},it=getOwnerDocument$1(s.current);return it.addEventListener("mousedown",et,!0),it.addEventListener("mouseup",rt,!0),it.addEventListener("touchstart",et,!0),it.addEventListener("touchend",nt,!0),()=>{it.removeEventListener("mousedown",et,!0),it.removeEventListener("mouseup",rt,!0),it.removeEventListener("touchstart",et,!0),it.removeEventListener("touchend",nt,!0)}},[a,s,_,j,o])}function isValidEvent(i,s){var a;const o=i.target;return o&&!getOwnerDocument$1(o).contains(o)?!1:!((a=s.current)!=null&&a.contains(o))}function getOwnerDocument$1(i){var s;return(s=i==null?void 0:i.ownerDocument)!=null?s:document}function useAnimationState(i){const{isOpen:s,ref:a}=i,[o,_]=reactExports.useState(s),[$,j]=reactExports.useState(!1);return reactExports.useEffect(()=>{$||(_(s),j(!0))},[s,$,o]),useEventListener(()=>a.current,"animationend",()=>{_(s)}),{present:!(s?!1:!o),onComplete(){var rt;const nt=getOwnerWindow(a.current),it=new nt.CustomEvent("animationend",{bubbles:!0});(rt=a.current)==null||rt.dispatchEvent(it)}}}function lazyDisclosure(i){const{wasSelected:s,enabled:a,isSelected:o,mode:_="unmount"}=i;return!!(!a||o||_==="keepMounted"&&s)}var[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext$1({strict:!1,name:"MenuContext"});function useIds$1(i,...s){const a=reactExports.useId(),o=i||a;return reactExports.useMemo(()=>s.map(_=>`${_}-${o}`),[o,s])}function getOwnerDocument(i){var s;return(s=i==null?void 0:i.ownerDocument)!=null?s:document}function isActiveElement(i){return getOwnerDocument(i).activeElement===i}function useMenu(i={}){const{id:s,closeOnSelect:a=!0,closeOnBlur:o=!0,initialFocusRef:_,autoSelect:$=!0,isLazy:j,isOpen:et,defaultIsOpen:rt,onClose:nt,onOpen:it,placement:ot="bottom-start",lazyBehavior:at="unmount",direction:lt,computePositionOnMount:gt=!1,...ct}=i,yt=reactExports.useRef(null),pt=reactExports.useRef(null),ut=useMenuDescendants(),ht=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var mr;(mr=yt.current)==null||mr.focus({preventScroll:!1})})},[]),mt=reactExports.useCallback(()=>{const mr=setTimeout(()=>{var Yt;if(_)(Yt=_.current)==null||Yt.focus();else{const kt=ut.firstEnabled();kt&&Ut(kt.index)}});jt.current.add(mr)},[ut,_]),dt=reactExports.useCallback(()=>{const mr=setTimeout(()=>{const Yt=ut.lastEnabled();Yt&&Ut(Yt.index)});jt.current.add(mr)},[ut]),vt=reactExports.useCallback(()=>{it==null||it(),$?mt():ht()},[$,mt,ht,it]),{isOpen:St,onOpen:_t,onClose:Et,onToggle:Pt}=useDisclosure({isOpen:et,defaultIsOpen:rt,onClose:nt,onOpen:vt});useOutsideClick({enabled:St&&o,ref:yt,handler:mr=>{var Yt;(Yt=pt.current)!=null&&Yt.contains(mr.target)||Et()}});const Mt=usePopper({...ct,enabled:St||gt,placement:ot,direction:lt}),[Rt,Ut]=reactExports.useState(-1);useUpdateEffect(()=>{St||Ut(-1)},[St]),useFocusOnHide(yt,{focusRef:pt,visible:St});const Ct=useAnimationState({isOpen:St,ref:yt}),[Kt,Gt]=useIds$1(s,"menu-button","menu-list"),It=reactExports.useCallback(()=>{_t(),ht()},[_t,ht]),jt=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const mr=jt.current;return()=>{mr.forEach(Yt=>clearTimeout(Yt)),mr.clear()}},[]);const $t=reactExports.useCallback(()=>{_t(),mt()},[mt,_t]),Jt=reactExports.useCallback(()=>{_t(),dt()},[_t,dt]),Wt=reactExports.useCallback(()=>{var mr,Yt;const kt=getOwnerDocument(yt.current),Ft=(mr=yt.current)==null?void 0:mr.contains(kt.activeElement);if(!(St&&!Ft))return;const Zt=(Yt=ut.item(Rt))==null?void 0:Yt.node;Zt==null||Zt.focus({preventScroll:!0})},[St,Rt,ut]),tr=reactExports.useRef(null);return{openAndFocusMenu:It,openAndFocusFirstItem:$t,openAndFocusLastItem:Jt,onTransitionEnd:Wt,unstable__animationState:Ct,descendants:ut,popper:Mt,buttonId:Kt,menuId:Gt,forceUpdate:Mt.forceUpdate,orientation:"vertical",isOpen:St,onToggle:Pt,onOpen:_t,onClose:Et,menuRef:yt,buttonRef:pt,focusedIndex:Rt,closeOnSelect:a,closeOnBlur:o,autoSelect:$,setFocusedIndex:Ut,isLazy:j,lazyBehavior:at,initialFocusRef:_,rafId:tr}}function useMenuButton(i={},s=null){const a=useMenuContext(),{onToggle:o,popper:_,openAndFocusFirstItem:$,openAndFocusLastItem:j}=a,et=reactExports.useCallback(rt=>{const nt=rt.key,ot={Enter:$,ArrowDown:$,ArrowUp:j}[nt];ot&&(rt.preventDefault(),rt.stopPropagation(),ot(rt))},[$,j]);return{...i,ref:mergeRefs(a.buttonRef,s,_.referenceRef),id:a.buttonId,"data-active":dataAttr(a.isOpen),"aria-expanded":a.isOpen,"aria-haspopup":"menu","aria-controls":a.menuId,onClick:callAllHandlers(i.onClick,o),onKeyDown:callAllHandlers(i.onKeyDown,et)}}function isTargetMenuItem(i){var s;return isHTMLElement(i)&&!!((s=i==null?void 0:i.getAttribute("role"))!=null&&s.startsWith("menuitem"))}function useMenuList(i={},s=null){const a=useMenuContext();if(!a)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:o,setFocusedIndex:_,menuRef:$,isOpen:j,onClose:et,menuId:rt,isLazy:nt,lazyBehavior:it,unstable__animationState:ot}=a,at=useMenuDescendantsContext(),lt=useShortcut({preventDefault:pt=>pt.key!==" "&&isTargetMenuItem(pt.target)}),gt=reactExports.useCallback(pt=>{if(!pt.currentTarget.contains(pt.target))return;const ut=pt.key,mt={Tab:vt=>vt.preventDefault(),Escape:et,ArrowDown:()=>{const vt=at.nextEnabled(o);vt&&_(vt.index)},ArrowUp:()=>{const vt=at.prevEnabled(o);vt&&_(vt.index)}}[ut];if(mt){pt.preventDefault(),mt(pt);return}const dt=lt(vt=>{const St=getNextItemFromSearch(at.values(),vt,_t=>{var Et,Pt;return(Pt=(Et=_t==null?void 0:_t.node)==null?void 0:Et.textContent)!=null?Pt:""},at.item(o));if(St){const _t=at.indexOf(St.node);_(_t)}});isTargetMenuItem(pt.target)&&dt(pt)},[at,o,lt,et,_]),ct=reactExports.useRef(!1);j&&(ct.current=!0);const yt=lazyDisclosure({wasSelected:ct.current,enabled:nt,mode:it,isSelected:ot.present});return{...i,ref:mergeRefs($,s),children:yt?i.children:null,tabIndex:-1,role:"menu",id:rt,style:{...i.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers(i.onKeyDown,gt)}}function useMenuPositioner(i={}){const{popper:s,isOpen:a}=useMenuContext();return s.getPopperProps({...i,style:{visibility:a?"visible":"hidden",...i.style}})}function useMenuItem(i={},s=null){const{onMouseEnter:a,onMouseMove:o,onMouseLeave:_,onClick:$,onFocus:j,isDisabled:et,isFocusable:rt,closeOnSelect:nt,type:it,...ot}=i,at=useMenuContext(),{setFocusedIndex:lt,focusedIndex:gt,closeOnSelect:ct,onClose:yt,menuRef:pt,isOpen:ut,menuId:ht,rafId:mt}=at,dt=reactExports.useRef(null),vt=`${ht}-menuitem-${reactExports.useId()}`,{index:St,register:_t}=useMenuDescendant({disabled:et&&!rt}),Et=reactExports.useCallback(It=>{a==null||a(It),!et&&lt(St)},[lt,St,et,a]),Pt=reactExports.useCallback(It=>{o==null||o(It),dt.current&&!isActiveElement(dt.current)&&Et(It)},[Et,o]),Mt=reactExports.useCallback(It=>{_==null||_(It),!et&&lt(-1)},[lt,et,_]),Rt=reactExports.useCallback(It=>{$==null||$(It),isTargetMenuItem(It.currentTarget)&&(nt??ct)&&yt()},[yt,$,ct,nt]),Ut=reactExports.useCallback(It=>{j==null||j(It),lt(St)},[lt,j,St]),Ct=St===gt,Kt=et&&!rt;useUpdateEffect(()=>{if(ut)return Ct&&!Kt&&dt.current?(mt.current&&cancelAnimationFrame(mt.current),mt.current=requestAnimationFrame(()=>{var It;(It=dt.current)==null||It.focus({preventScroll:!0}),mt.current=null})):pt.current&&!isActiveElement(pt.current)&&pt.current.focus({preventScroll:!0}),()=>{mt.current&&cancelAnimationFrame(mt.current)}},[Ct,Kt,pt,ut]);const Gt=useClickable({onClick:Rt,onFocus:Ut,onMouseEnter:Et,onMouseMove:Pt,onMouseLeave:Mt,ref:mergeRefs(_t,dt,s),isDisabled:et,isFocusable:rt});return{...ot,...Gt,type:it??Gt.type,id:vt,role:"menuitem",tabIndex:Ct?0:-1}}function isHTMLElement(i){var s;if(!isElement(i))return!1;const a=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof a.HTMLElement}function isElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}var[MenuStylesProvider,useMenuStyles]=createContext$1({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=i=>{const{children:s}=i,a=useMultiStyleConfig("Menu",i),o=omitThemingProps(i),{direction:_}=useTheme(),{descendants:$,...j}=useMenu({...o,direction:_}),et=reactExports.useMemo(()=>j,[j]),{isOpen:rt,onClose:nt,forceUpdate:it}=et;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:$,children:jsxRuntimeExports.jsx(MenuProvider,{value:et,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:a,children:runIfFn$2(s,{isOpen:rt,onClose:nt,forceUpdate:it})})})})};Menu.displayName="Menu";var MenuCommand=forwardRef((i,s)=>{const a=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:s,...i,__css:a.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";var StyledMenuItem=forwardRef((i,s)=>{const{type:a,...o}=i,_=useMenuStyles(),$=o.as||a?a??void 0:"button",j=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,..._.item}),[_.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:s,type:$,...o,__css:j})}),MenuIcon=i=>{const{className:s,children:a,...o}=i,_=useMenuStyles(),$=reactExports.Children.only(a),j=reactExports.isValidElement($)?reactExports.cloneElement($,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",$.props.className)}):null,et=cx("chakra-menu__icon-wrapper",s);return jsxRuntimeExports.jsx(chakra.span,{className:et,...o,__css:_.icon,children:j})};MenuIcon.displayName="MenuIcon";var MenuItem=forwardRef((i,s)=>{const{icon:a,iconSpacing:o="0.75rem",command:_,commandSpacing:$="0.75rem",children:j,...et}=i,rt=useMenuItem(et,s),it=a||_?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:j}):j;return jsxRuntimeExports.jsxs(StyledMenuItem,{...rt,className:cx("chakra-menu__menuitem",rt.className),children:[a&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:o,children:a}),it,_&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:$,children:_})]})});MenuItem.displayName="MenuItem";var motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function i(s,a){var o,_;const{rootProps:$,motionProps:j,...et}=s,{isOpen:rt,onTransitionEnd:nt,unstable__animationState:it}=useMenuContext(),ot=useMenuList(et,a),at=useMenuPositioner($),lt=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...at,__css:{zIndex:(_=s.zIndex)!=null?_:(o=lt.list)==null?void 0:o.zIndex},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:rt?"enter":"exit",__css:{outline:0,...lt.list},...j,className:cx("chakra-menu__menu-list",ot.className),...ot,onUpdate:nt,onAnimationComplete:callAll(it.onComplete,ot.onAnimationComplete)})})});MenuList.displayName="MenuList";var StyledMenuButton=forwardRef((i,s)=>{const a=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:s,...i,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...a.button}})}),MenuButton=forwardRef((i,s)=>{const{children:a,as:o,..._}=i,$=useMenuButton(_,s),j=o||StyledMenuButton;return jsxRuntimeExports.jsx(j,{...$,className:cx("chakra-menu__menu-button",i.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:i.children})})});MenuButton.displayName="MenuButton";var MenuDivider=i=>{const{className:s,...a}=i,o=useMenuStyles();return jsxRuntimeExports.jsx(chakra.hr,{"aria-orientation":"horizontal",className:cx("chakra-menu__divider",s),...a,__css:o.divider})};MenuDivider.displayName="MenuDivider";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=reactExports.forwardRef((i,s)=>{const{preset:a,motionProps:o=getMotionProps(a),..._}=i;return jsxRuntimeExports.jsx(MotionSection,{ref:s,...o,..._})});ModalTransition.displayName="ModalTransition";var __defProp=Object.defineProperty,__defNormalProp=(i,s,a)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,__publicField=(i,s,a)=>(__defNormalProp(i,s+"",a),a),ModalManager=class{constructor(){__publicField(this,"modals"),this.modals=new Map}add(i){return this.modals.set(i,this.modals.size+1),this.modals.size}remove(i){this.modals.delete(i)}isTopModal(i){return i?this.modals.get(i)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(i,s){const[a,o]=reactExports.useState(0);return reactExports.useEffect(()=>{const _=i.current;if(_){if(s){const $=modalManager.add(_);o($)}return()=>{modalManager.remove(_),o(0)}}},[s,i]),a}var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(a){if(i.contains(a))return a;var o=unwrapHost(a);return o&&i.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",i,". Doing nothing"),null)}).filter(function(a){return!!a})},applyAttributeToOthers=function(i,s,a,o){var _=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[a]||(markerMap[a]=new WeakMap);var $=markerMap[a],j=[],et=new Set,rt=new Set(_),nt=function(ot){!ot||et.has(ot)||(et.add(ot),nt(ot.parentNode))};_.forEach(nt);var it=function(ot){!ot||rt.has(ot)||Array.prototype.forEach.call(ot.children,function(at){if(et.has(at))it(at);else try{var lt=at.getAttribute(o),gt=lt!==null&&lt!=="false",ct=(counterMap.get(at)||0)+1,yt=($.get(at)||0)+1;counterMap.set(at,ct),$.set(at,yt),j.push(at),ct===1&&gt&&uncontrolledNodes.set(at,!0),yt===1&&at.setAttribute(a,"true"),gt||at.setAttribute(o,"true")}catch(pt){console.error("aria-hidden: cannot operate on ",at,pt)}})};return it(s),et.clear(),lockCount++,function(){j.forEach(function(ot){var at=counterMap.get(ot)-1,lt=$.get(ot)-1;counterMap.set(ot,at),$.set(ot,lt),at||(uncontrolledNodes.has(ot)||ot.removeAttribute(o),uncontrolledNodes.delete(ot)),lt||ot.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(i)?i:[i]),_=getDefaultParent(i);return _?(o.push.apply(o,Array.from(_.querySelectorAll("[aria-live]"))),applyAttributeToOthers(o,_,a,"aria-hidden")):function(){return null}};function useModal(i){const{isOpen:s,onClose:a,id:o,closeOnOverlayClick:_=!0,closeOnEsc:$=!0,useInert:j=!0,onOverlayClick:et,onEsc:rt}=i,nt=reactExports.useRef(null),it=reactExports.useRef(null),[ot,at,lt]=useIds(o,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(nt,s&&j);const gt=useModalManager(nt,s),ct=reactExports.useRef(null),yt=reactExports.useCallback(Et=>{ct.current=Et.target},[]),pt=reactExports.useCallback(Et=>{Et.key==="Escape"&&(Et.stopPropagation(),$&&(a==null||a()),rt==null||rt())},[$,a,rt]),[ut,ht]=reactExports.useState(!1),[mt,dt]=reactExports.useState(!1),vt=reactExports.useCallback((Et={},Pt=null)=>({role:"dialog",...Et,ref:mergeRefs(Pt,nt),id:ot,tabIndex:-1,"aria-modal":!0,"aria-labelledby":ut?at:void 0,"aria-describedby":mt?lt:void 0,onClick:callAllHandlers(Et.onClick,Mt=>Mt.stopPropagation())}),[lt,mt,ot,at,ut]),St=reactExports.useCallback(Et=>{Et.stopPropagation(),ct.current===Et.target&&modalManager.isTopModal(nt.current)&&(_&&(a==null||a()),et==null||et())},[a,_,et]),_t=reactExports.useCallback((Et={},Pt=null)=>({...Et,ref:mergeRefs(Pt,it),onClick:callAllHandlers(Et.onClick,St),onKeyDown:callAllHandlers(Et.onKeyDown,pt),onMouseDown:callAllHandlers(Et.onMouseDown,yt)}),[pt,yt,St]);return{isOpen:s,onClose:a,headerId:at,bodyId:lt,setBodyMounted:dt,setHeaderMounted:ht,dialogRef:nt,overlayRef:it,getDialogProps:vt,getDialogContainerProps:_t,index:gt}}function useAriaHidden(i,s){const a=i.current;reactExports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,a])}function useIds(i,...s){const a=reactExports.useId(),o=i||a;return reactExports.useMemo(()=>s.map(_=>`${_}-${o}`),[o,s])}var[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...i},{portalProps:a,children:o,autoFocus:_,trapFocus:$,initialFocusRef:j,finalFocusRef:et,returnFocusOnClose:rt,blockScrollOnMount:nt,allowPinchZoom:it,preserveScrollBarGap:ot,motionPreset:at,lockFocusAcrossFrames:lt,onCloseComplete:gt}=s,ct=useMultiStyleConfig("Modal",s),pt={...useModal(s),autoFocus:_,trapFocus:$,initialFocusRef:j,finalFocusRef:et,returnFocusOnClose:rt,blockScrollOnMount:nt,allowPinchZoom:it,preserveScrollBarGap:ot,motionPreset:at,lockFocusAcrossFrames:lt};return jsxRuntimeExports.jsx(ModalContextProvider,{value:pt,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:ct,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:gt,children:pt.isOpen&&jsxRuntimeExports.jsx(Portal,{...a,children:o})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,s){var a=reactExports.useRef(null),o=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),_=o[0],$=o[1],j=i.forwardProps,et=i.children,rt=i.className,nt=i.removeScrollBar,it=i.enabled,ot=i.shards,at=i.sideCar,lt=i.noIsolation,gt=i.inert,ct=i.allowPinchZoom,yt=i.as,pt=yt===void 0?"div":yt,ut=i.gapMode,ht=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),mt=at,dt=useMergeRefs([a,s]),vt=__assign(__assign({},ht),_);return reactExports.createElement(reactExports.Fragment,null,it&&reactExports.createElement(mt,{sideCar:effectCar,removeScrollBar:nt,shards:ot,noIsolation:lt,inert:gt,setCallbacks:$,allowPinchZoom:!!ct,lockRef:a,gapMode:ut}),j?reactExports.cloneElement(reactExports.Children.only(et),__assign(__assign({},vt),{ref:dt})):reactExports.createElement(pt,__assign({},vt,{className:rt,ref:dt}),et))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(a){i==0&&(s=makeStyleTag())&&(injectStyles(s,a),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,a){reactExports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&a])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(a){var o=a.styles,_=a.dynamic;return i(o,_),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),a=s[i==="padding"?"paddingLeft":"marginLeft"],o=s[i==="padding"?"paddingTop":"marginTop"],_=s[i==="padding"?"paddingRight":"marginRight"];return[parse(a),parse(o),parse(_)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-a+s[2]-s[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(i,s,a,o){var _=i.left,$=i.top,j=i.right,et=i.gap;return a===void 0&&(a="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(et,"px ").concat(o,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(_,`px;
    padding-top: `).concat($,`px;
    padding-right: `).concat(j,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(et,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(et,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(et,"px ").concat(o,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(et,"px ").concat(o,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(et,`px;
  }
`)},getCurrentUseCounter=function(){var i=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(i)?i:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var i=getCurrentUseCounter()-1;i<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,i.toString())}},[])},RemoveScrollBar=function(i){var s=i.noRelative,a=i.noImportant,o=i.gapMode,_=o===void 0?"margin":o;useLockAttribute();var $=reactExports.useMemo(function(){return getGapWidth(_)},[_]);return reactExports.createElement(Style,{styles:getStyles($,!s,_,a?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){if(!(i instanceof Element))return!1;var a=window.getComputedStyle(i);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!alwaysContainsScroll(i)&&a[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var a=s.ownerDocument,o=s;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var _=elementCouldBeScrolled(i,o);if(_){var $=getScrollVariables(i,o),j=$[1],et=$[2];if(j>et)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,a=i.scrollHeight,o=i.clientHeight;return[s,a,o]},getHScrollVariables=function(i){var s=i.scrollLeft,a=i.scrollWidth,o=i.clientWidth;return[s,a,o]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,a,o,_){var $=getDirectionFactor(i,window.getComputedStyle(s).direction),j=$*o,et=a.target,rt=s.contains(et),nt=!1,it=j>0,ot=0,at=0;do{var lt=getScrollVariables(i,et),gt=lt[0],ct=lt[1],yt=lt[2],pt=ct-yt-$*gt;(gt||pt)&&elementCouldBeScrolled(i,et)&&(ot+=pt,at+=gt),et instanceof ShadowRoot?et=et.host:et=et.parentNode}while(!rt&&et!==document.body||rt&&(s.contains(et)||s===et));return(it&&Math.abs(ot)<1||!it&&Math.abs(at)<1)&&(nt=!0),nt},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=reactExports.useRef([]),a=reactExports.useRef([0,0]),o=reactExports.useRef(),_=reactExports.useState(idCounter++)[0],$=reactExports.useState(styleSingleton)[0],j=reactExports.useRef(i);reactExports.useEffect(function(){j.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(_));var ct=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return ct.forEach(function(yt){return yt.classList.add("allow-interactivity-".concat(_))}),function(){document.body.classList.remove("block-interactivity-".concat(_)),ct.forEach(function(yt){return yt.classList.remove("allow-interactivity-".concat(_))})}}},[i.inert,i.lockRef.current,i.shards]);var et=reactExports.useCallback(function(ct,yt){if("touches"in ct&&ct.touches.length===2||ct.type==="wheel"&&ct.ctrlKey)return!j.current.allowPinchZoom;var pt=getTouchXY(ct),ut=a.current,ht="deltaX"in ct?ct.deltaX:ut[0]-pt[0],mt="deltaY"in ct?ct.deltaY:ut[1]-pt[1],dt,vt=ct.target,St=Math.abs(ht)>Math.abs(mt)?"h":"v";if("touches"in ct&&St==="h"&&vt.type==="range")return!1;var _t=locationCouldBeScrolled(St,vt);if(!_t)return!0;if(_t?dt=St:(dt=St==="v"?"h":"v",_t=locationCouldBeScrolled(St,vt)),!_t)return!1;if(!o.current&&"changedTouches"in ct&&(ht||mt)&&(o.current=dt),!dt)return!0;var Et=o.current||dt;return handleScroll(Et,yt,ct,Et==="h"?ht:mt)},[]),rt=reactExports.useCallback(function(ct){var yt=ct;if(!(!lockStack.length||lockStack[lockStack.length-1]!==$)){var pt="deltaY"in yt?getDeltaXY(yt):getTouchXY(yt),ut=s.current.filter(function(dt){return dt.name===yt.type&&(dt.target===yt.target||yt.target===dt.shadowParent)&&deltaCompare(dt.delta,pt)})[0];if(ut&&ut.should){yt.cancelable&&yt.preventDefault();return}if(!ut){var ht=(j.current.shards||[]).map(extractRef).filter(Boolean).filter(function(dt){return dt.contains(yt.target)}),mt=ht.length>0?et(yt,ht[0]):!j.current.noIsolation;mt&&yt.cancelable&&yt.preventDefault()}}},[]),nt=reactExports.useCallback(function(ct,yt,pt,ut){var ht={name:ct,delta:yt,target:pt,should:ut,shadowParent:getOutermostShadowParent(pt)};s.current.push(ht),setTimeout(function(){s.current=s.current.filter(function(mt){return mt!==ht})},1)},[]),it=reactExports.useCallback(function(ct){a.current=getTouchXY(ct),o.current=void 0},[]),ot=reactExports.useCallback(function(ct){nt(ct.type,getDeltaXY(ct),ct.target,et(ct,i.lockRef.current))},[]),at=reactExports.useCallback(function(ct){nt(ct.type,getTouchXY(ct),ct.target,et(ct,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push($),i.setCallbacks({onScrollCapture:ot,onWheelCapture:ot,onTouchMoveCapture:at}),document.addEventListener("wheel",rt,nonPassive),document.addEventListener("touchmove",rt,nonPassive),document.addEventListener("touchstart",it,nonPassive),function(){lockStack=lockStack.filter(function(ct){return ct!==$}),document.removeEventListener("wheel",rt,nonPassive),document.removeEventListener("touchmove",rt,nonPassive),document.removeEventListener("touchstart",it,nonPassive)}},[]);var lt=i.removeScrollBar,gt=i.inert;return reactExports.createElement(reactExports.Fragment,null,gt?reactExports.createElement($,{styles:generateStyle(_)}):null,lt?reactExports.createElement(RemoveScrollBar,{gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var s=null;i!==null;)i instanceof ShadowRoot&&(s=i.host,i=i.host),i=i.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,s){return reactExports.createElement(RemoveScroll,__assign({},i,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(i){const{autoFocus:s,trapFocus:a,dialogRef:o,initialFocusRef:_,blockScrollOnMount:$,allowPinchZoom:j,finalFocusRef:et,returnFocusOnClose:rt,preserveScrollBarGap:nt,lockFocusAcrossFrames:it,isOpen:ot}=useModalContext(),[at,lt]=usePresence();reactExports.useEffect(()=>{!at&&lt&&setTimeout(lt)},[at,lt]);const gt=useModalManager(o,ot);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!a,initialFocusRef:_,finalFocusRef:et,restoreFocus:rt,contentRef:o,lockFocusAcrossFrames:it,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!nt,allowPinchZoom:j,enabled:gt===1&&$,forwardProps:!0,children:i.children})})}var ModalContent=forwardRef((i,s)=>{const{className:a,children:o,containerProps:_,motionProps:$,...j}=i,{getDialogProps:et,getDialogContainerProps:rt}=useModalContext(),nt=et(j,s),it=rt(_),ot=cx("chakra-modal__content",a),at=useModalStyles(),lt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...at.dialog},gt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...at.dialogContainer},{motionPreset:ct}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...it,className:"chakra-modal__content-container",tabIndex:-1,__css:gt,children:jsxRuntimeExports.jsx(ModalTransition,{preset:ct,motionProps:$,className:ot,...nt,__css:lt,children:o})})})});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((i,s)=>{const{className:a,...o}=i,_=cx("chakra-modal__footer",a),j={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...o,__css:j,className:_})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((i,s)=>{const{className:a,...o}=i,{headerId:_,setHeaderMounted:$}=useModalContext();reactExports.useEffect(()=>($(!0),()=>$(!1)),[$]);const j=cx("chakra-modal__header",a),rt={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:j,id:_,...o,__css:rt})});ModalHeader.displayName="ModalHeader";var MotionDiv$1=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:a,transition:o,motionProps:_,...$}=i,j=cx("chakra-modal__overlay",a),rt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:nt}=useModalContext(),ot=_||(nt==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$1,{...ot,__css:rt,ref:s,className:j,...$})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((i,s)=>{const{className:a,...o}=i,{bodyId:_,setBodyMounted:$}=useModalContext();reactExports.useEffect(()=>($(!0),()=>$(!1)),[$]);const j=cx("chakra-modal__body",a),et=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:j,id:_,...o,__css:et.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((i,s)=>{const{onClick:a,className:o,..._}=i,{onClose:$}=useModalContext(),j=cx("chakra-modal__close-btn",o),et=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:et.closeButton,className:j,onClick:callAllHandlers(a,rt=>{rt.stopPropagation(),$()}),..._})});ModalCloseButton.displayName="ModalCloseButton";var CircularProgressLabel=chakra("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});CircularProgressLabel.displayName="CircularProgressLabel";var Circle=i=>jsxRuntimeExports.jsx(chakra.circle,{cx:50,cy:50,r:42,fill:"transparent",...i});Circle.displayName="Circle";function valueToPercent(i,s,a){return(i-s)*100/(a-s)}var spin=keyframes$1({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),rotate=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),progress=keyframes$1({"0%":{left:"-40%"},"100%":{left:"100%"}}),stripe=keyframes$1({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function getProgressProps(i){const{value:s=0,min:a,max:o,valueText:_,getValueText:$,isIndeterminate:j,role:et="progressbar"}=i,rt=valueToPercent(s,a,o);return{bind:{"data-indeterminate":j?"":void 0,"aria-valuemax":o,"aria-valuemin":a,"aria-valuenow":j?void 0:s,"aria-valuetext":(()=>{if(s!=null)return typeof $=="function"?$(s,rt):_})(),role:et},percent:rt,value:s}}var Shape=i=>{const{size:s,isIndeterminate:a,...o}=i;return jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 100 100",__css:{width:s,height:s,animation:a?`${rotate} 2s linear infinite`:void 0},...o})};Shape.displayName="Shape";var CircularProgress=forwardRef((i,s)=>{var a;const{size:o="48px",max:_=100,min:$=0,valueText:j,getValueText:et,value:rt,capIsRound:nt,children:it,thickness:ot="10px",color:at="#0078d4",trackColor:lt="#edebe9",isIndeterminate:gt,...ct}=i,yt=getProgressProps({min:$,max:_,value:rt,valueText:j,getValueText:et,isIndeterminate:gt}),pt=gt?void 0:((a=yt.percent)!=null?a:0)*2.64,ut=pt==null?void 0:`${pt} ${264-pt}`,ht=gt?{css:{animation:`${spin} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:ut,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},mt={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:o};return jsxRuntimeExports.jsxs(chakra.div,{ref:s,className:"chakra-progress",...yt.bind,...ct,__css:mt,children:[jsxRuntimeExports.jsxs(Shape,{size:o,isIndeterminate:gt,children:[jsxRuntimeExports.jsx(Circle,{stroke:lt,strokeWidth:ot,className:"chakra-progress__track"}),jsxRuntimeExports.jsx(Circle,{stroke:at,strokeWidth:ot,className:"chakra-progress__indicator",strokeLinecap:nt?"round":void 0,opacity:yt.value===0&&!gt?0:void 0,...ht})]}),it]})});CircularProgress.displayName="CircularProgress";var[ProgressStylesProvider,useProgressStyles]=createContext$1({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),ProgressFilledTrack=forwardRef((i,s)=>{const{min:a,max:o,value:_,isIndeterminate:$,role:j,...et}=i,rt=getProgressProps({value:_,min:a,max:o,isIndeterminate:$,role:j}),it={height:"100%",...useProgressStyles().filledTrack};return jsxRuntimeExports.jsx(chakra.div,{ref:s,style:{width:`${rt.percent}%`,...et.style},...rt.bind,...et,__css:it})}),Progress=forwardRef((i,s)=>{var a;const{value:o,min:_=0,max:$=100,hasStripe:j,isAnimated:et,children:rt,borderRadius:nt,isIndeterminate:it,"aria-label":ot,"aria-labelledby":at,"aria-valuetext":lt,title:gt,role:ct,...yt}=omitThemingProps(i),pt=useMultiStyleConfig("Progress",i),ut=nt??((a=pt.track)==null?void 0:a.borderRadius),ht={animation:`${stripe} 1s linear infinite`},vt={...!it&&j&&et&&ht,...it&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${progress} 1s ease infinite normal none running`}},St={overflow:"hidden",position:"relative",...pt.track};return jsxRuntimeExports.jsx(chakra.div,{ref:s,borderRadius:ut,__css:St,...yt,children:jsxRuntimeExports.jsxs(ProgressStylesProvider,{value:pt,children:[jsxRuntimeExports.jsx(ProgressFilledTrack,{"aria-label":ot,"aria-labelledby":at,"aria-valuetext":lt,min:_,max:$,value:o,isIndeterminate:it,css:vt,borderRadius:ut,title:gt,role:ct}),rt]})})});Progress.displayName="Progress";function isInputEvent(i){return i&&isObject(i)&&isObject(i.target)}function useRadioGroup(i={}){const{onChange:s,value:a,defaultValue:o,name:_,isDisabled:$,isFocusable:j,isNative:et,...rt}=i,[nt,it]=reactExports.useState(o||""),ot=typeof a<"u",at=ot?a:nt,lt=reactExports.useRef(null),gt=reactExports.useCallback(()=>{const dt=lt.current;if(!dt)return;let vt="input:not(:disabled):checked";const St=dt.querySelector(vt);if(St){St.focus();return}vt="input:not(:disabled)";const _t=dt.querySelector(vt);_t==null||_t.focus()},[]),yt=`radio-${reactExports.useId()}`,pt=_||yt,ut=reactExports.useCallback(dt=>{const vt=isInputEvent(dt)?dt.target.value:dt;ot||it(vt),s==null||s(String(vt))},[s,ot]),ht=reactExports.useCallback((dt={},vt=null)=>({...dt,ref:mergeRefs(vt,lt),role:"radiogroup"}),[]),mt=reactExports.useCallback((dt={},vt=null)=>({...dt,ref:vt,name:pt,[et?"checked":"isChecked"]:at!=null?dt.value===at:void 0,onChange(_t){ut(_t)},"data-radiogroup":!0}),[et,pt,ut,at]);return{getRootProps:ht,getRadioProps:mt,name:pt,ref:lt,focus:gt,setValue:it,value:at,onChange:ut,isDisabled:$,isFocusable:j,htmlProps:rt}}var[RadioGroupProvider,useRadioGroupContext]=createContext$1({name:"RadioGroupContext",strict:!1}),RadioGroup=forwardRef((i,s)=>{const{colorScheme:a,size:o,variant:_,children:$,className:j,isDisabled:et,isFocusable:rt,...nt}=i,{value:it,onChange:ot,getRootProps:at,name:lt,htmlProps:gt}=useRadioGroup(nt),ct=reactExports.useMemo(()=>({name:lt,size:o,onChange:ot,colorScheme:a,value:it,variant:_,isDisabled:et,isFocusable:rt}),[lt,o,ot,a,it,_,et,rt]);return jsxRuntimeExports.jsx(RadioGroupProvider,{value:ct,children:jsxRuntimeExports.jsx(chakra.div,{...at(gt,s),className:cx("chakra-radio-group",j),children:$})})});RadioGroup.displayName="RadioGroup";var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useRadio(i={}){const{defaultChecked:s,isChecked:a,isFocusable:o,isDisabled:_,isReadOnly:$,isRequired:j,onChange:et,isInvalid:rt,name:nt,value:it,id:ot,"data-radiogroup":at,"aria-describedby":lt,...gt}=i,ct=`radio-${reactExports.useId()}`,yt=useFormControlContext(),ut=!!useRadioGroupContext()||!!at;let mt=!!yt&&!ut?yt.id:ct;mt=ot??mt;const dt=_??(yt==null?void 0:yt.isDisabled),vt=$??(yt==null?void 0:yt.isReadOnly),St=j??(yt==null?void 0:yt.isRequired),_t=rt??(yt==null?void 0:yt.isInvalid),[Et,Pt]=reactExports.useState(!1),[Mt,Rt]=reactExports.useState(!1),[Ut,Ct]=reactExports.useState(!1),[Kt,Gt]=reactExports.useState(!1),[It,jt]=reactExports.useState(!!s),$t=typeof a<"u",Jt=$t?a:It;reactExports.useEffect(()=>trackFocusVisible(Pt),[]);const Wt=reactExports.useCallback(Dt=>{if(vt||dt){Dt.preventDefault();return}$t||jt(Dt.target.checked),et==null||et(Dt)},[$t,dt,vt,et]),tr=reactExports.useCallback(Dt=>{Dt.key===" "&&Gt(!0)},[Gt]),mr=reactExports.useCallback(Dt=>{Dt.key===" "&&Gt(!1)},[Gt]),Yt=reactExports.useCallback((Dt={},zt=null)=>({...Dt,ref:zt,"data-active":dataAttr(Kt),"data-hover":dataAttr(Ut),"data-disabled":dataAttr(dt),"data-invalid":dataAttr(_t),"data-checked":dataAttr(Jt),"data-focus":dataAttr(Mt),"data-focus-visible":dataAttr(Mt&&Et),"data-readonly":dataAttr(vt),"aria-hidden":!0,onMouseDown:callAllHandlers(Dt.onMouseDown,()=>Gt(!0)),onMouseUp:callAllHandlers(Dt.onMouseUp,()=>Gt(!1)),onMouseEnter:callAllHandlers(Dt.onMouseEnter,()=>Ct(!0)),onMouseLeave:callAllHandlers(Dt.onMouseLeave,()=>Ct(!1))}),[Kt,Ut,dt,_t,Jt,Mt,vt,Et]),{onFocus:kt,onBlur:Ft}=yt??{},er=reactExports.useCallback((Dt={},zt=null)=>{const Xt=dt&&!o;return{...Dt,id:mt,ref:zt,type:"radio",name:nt,value:it,onChange:callAllHandlers(Dt.onChange,Wt),onBlur:callAllHandlers(Ft,Dt.onBlur,()=>Rt(!1)),onFocus:callAllHandlers(kt,Dt.onFocus,()=>Rt(!0)),onKeyDown:callAllHandlers(Dt.onKeyDown,tr),onKeyUp:callAllHandlers(Dt.onKeyUp,mr),checked:Jt,disabled:Xt,readOnly:vt,required:St,"aria-invalid":ariaAttr(_t),"aria-disabled":ariaAttr(Xt),"aria-required":ariaAttr(St),"data-readonly":dataAttr(vt),"aria-describedby":lt,style:visuallyHiddenStyle}},[dt,o,mt,nt,it,Wt,Ft,kt,tr,mr,Jt,vt,St,_t,lt]);return{state:{isInvalid:_t,isFocused:Mt,isChecked:Jt,isActive:Kt,isHovered:Ut,isDisabled:dt,isReadOnly:vt,isRequired:St},getCheckboxProps:Yt,getRadioProps:Yt,getInputProps:er,getLabelProps:(Dt={},zt=null)=>({...Dt,ref:zt,onMouseDown:callAllHandlers(Dt.onMouseDown,stopEvent),"data-disabled":dataAttr(dt),"data-checked":dataAttr(Jt),"data-invalid":dataAttr(_t)}),getRootProps:(Dt,zt=null)=>({...Dt,ref:zt,"data-disabled":dataAttr(dt),"data-checked":dataAttr(Jt),"data-invalid":dataAttr(_t)}),htmlProps:gt}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}function split(i,s){const a={},o={};for(const[_,$]of Object.entries(i))s.includes(_)?a[_]=$:o[_]=$;return[a,o]}var Radio=forwardRef((i,s)=>{var a;const o=useRadioGroupContext(),{onChange:_,value:$}=i,j=useMultiStyleConfig("Radio",{...o,...i}),et=omitThemingProps(i),{spacing:rt="0.5rem",children:nt,isDisabled:it=o==null?void 0:o.isDisabled,isFocusable:ot=o==null?void 0:o.isFocusable,inputProps:at,...lt}=et;let gt=i.isChecked;(o==null?void 0:o.value)!=null&&$!=null&&(gt=o.value===$);let ct=_;o!=null&&o.onChange&&$!=null&&(ct=callAll(o.onChange,_));const yt=(a=i==null?void 0:i.name)!=null?a:o==null?void 0:o.name,{getInputProps:pt,getCheckboxProps:ut,getLabelProps:ht,getRootProps:mt,htmlProps:dt}=useRadio({...lt,isChecked:gt,isFocusable:ot,isDisabled:it,onChange:ct,name:yt}),[vt,St]=split(dt,layoutPropNames),_t=ut(St),Et=pt(at,s),Pt=ht(),Mt=Object.assign({},vt,mt()),Rt={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...j.container},Ut={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...j.control},Ct={userSelect:"none",marginStart:rt,...j.label};return jsxRuntimeExports.jsxs(chakra.label,{className:"chakra-radio",...Mt,__css:Rt,children:[jsxRuntimeExports.jsx("input",{className:"chakra-radio__input",...Et}),jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__control",..._t,__css:Ut}),nt&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__label",...Pt,__css:Ct,children:nt})]})});Radio.displayName="Radio";var[StatStylesProvider,useStatStyles]=createContext$1({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),Stat=forwardRef(function i(s,a){const o=useMultiStyleConfig("Stat",s),_={position:"relative",flex:"1 1 0%",...o.container},{className:$,children:j,...et}=omitThemingProps(s);return jsxRuntimeExports.jsx(StatStylesProvider,{value:o,children:jsxRuntimeExports.jsx(chakra.div,{ref:a,...et,className:cx("chakra-stat",$),__css:_,children:jsxRuntimeExports.jsx("dl",{children:j})})})});Stat.displayName="Stat";var StatGroup=forwardRef(function i(s,a){return jsxRuntimeExports.jsx(chakra.div,{...s,ref:a,role:"group",className:cx("chakra-stat__group",s.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});StatGroup.displayName="StatGroup";var StatHelpText=forwardRef(function i(s,a){const o=useStatStyles();return jsxRuntimeExports.jsx(chakra.dd,{ref:a,...s,className:cx("chakra-stat__help-text",s.className),__css:o.helpText})});StatHelpText.displayName="StatHelpText";var StatLabel=forwardRef(function i(s,a){const o=useStatStyles();return jsxRuntimeExports.jsx(chakra.dt,{ref:a,...s,className:cx("chakra-stat__label",s.className),__css:o.label})});StatLabel.displayName="StatLabel";var StatNumber=forwardRef(function i(s,a){const o=useStatStyles();return jsxRuntimeExports.jsx(chakra.dd,{ref:a,...s,className:cx("chakra-stat__number",s.className),__css:{...o.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});StatNumber.displayName="StatNumber";var scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=i=>{var s;return((s=i.current)==null?void 0:s.ownerDocument)||document},getWin=i=>{var s,a;return((a=(s=i.current)==null?void 0:s.ownerDocument)==null?void 0:a.defaultView)||window};function useTooltip(i={}){const{openDelay:s=0,closeDelay:a=0,closeOnClick:o=!0,closeOnMouseDown:_,closeOnScroll:$,closeOnPointerDown:j=_,closeOnEsc:et=!0,onOpen:rt,onClose:nt,placement:it,id:ot,isOpen:at,defaultIsOpen:lt,arrowSize:gt=10,arrowShadowColor:ct,arrowPadding:yt,modifiers:pt,isDisabled:ut,gutter:ht,offset:mt,direction:dt,...vt}=i,{isOpen:St,onOpen:_t,onClose:Et}=useDisclosure({isOpen:at,defaultIsOpen:lt,onOpen:rt,onClose:nt}),{referenceRef:Pt,getPopperProps:Mt,getArrowInnerProps:Rt,getArrowProps:Ut}=usePopper({enabled:St,placement:it,arrowPadding:yt,modifiers:pt,gutter:ht,offset:mt,direction:dt}),Ct=reactExports.useId(),Gt=`tooltip-${ot??Ct}`,It=reactExports.useRef(null),jt=reactExports.useRef(),$t=reactExports.useCallback(()=>{jt.current&&(clearTimeout(jt.current),jt.current=void 0)},[]),Jt=reactExports.useRef(),Wt=reactExports.useCallback(()=>{Jt.current&&(clearTimeout(Jt.current),Jt.current=void 0)},[]),tr=reactExports.useCallback(()=>{Wt(),Et()},[Et,Wt]),mr=useCloseEvent(It,tr),Yt=reactExports.useCallback(()=>{if(!ut&&!jt.current){St&&mr();const zt=getWin(It);jt.current=zt.setTimeout(_t,s)}},[mr,ut,St,_t,s]),kt=reactExports.useCallback(()=>{$t();const zt=getWin(It);Jt.current=zt.setTimeout(tr,a)},[a,tr,$t]),Ft=reactExports.useCallback(()=>{St&&o&&kt()},[o,kt,St]),er=reactExports.useCallback(()=>{St&&j&&kt()},[j,kt,St]),Zt=reactExports.useCallback(zt=>{St&&zt.key==="Escape"&&kt()},[St,kt]);useEventListener(()=>getDoc(It),"keydown",et?Zt:void 0),useEventListener(()=>{if(!$)return null;const zt=It.current;if(!zt)return null;const Xt=getScrollParent$1(zt);return Xt.localName==="body"?getWin(It):Xt},"scroll",()=>{St&&$&&tr()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{ut&&($t(),St&&Et())},[ut,St,Et,$t]),reactExports.useEffect(()=>()=>{$t(),Wt()},[$t,Wt]),useEventListener(()=>It.current,"pointerleave",kt);const At=reactExports.useCallback((zt={},Xt=null)=>({...zt,ref:mergeRefs(It,Xt,Pt),onPointerEnter:callAllHandlers(zt.onPointerEnter,Vt=>{Vt.pointerType!=="touch"&&Yt()}),onClick:callAllHandlers(zt.onClick,Ft),onPointerDown:callAllHandlers(zt.onPointerDown,er),onFocus:callAllHandlers(zt.onFocus,Yt),onBlur:callAllHandlers(zt.onBlur,kt),"aria-describedby":St?Gt:void 0}),[Yt,kt,er,St,Gt,Ft,Pt]),Ot=reactExports.useCallback((zt={},Xt=null)=>Mt({...zt,style:{...zt.style,[cssVars.arrowSize.var]:gt?`${gt}px`:void 0,[cssVars.arrowShadowColor.var]:ct}},Xt),[Mt,gt,ct]),Dt=reactExports.useCallback((zt={},Xt=null)=>{const wt={...zt.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:Xt,...vt,...zt,id:Gt,role:"tooltip",style:wt}},[vt,Gt]);return{isOpen:St,show:Yt,hide:kt,getTriggerProps:At,getTooltipProps:Dt,getTooltipPositionerProps:Ot,getArrowProps:Ut,getArrowInnerProps:Rt}}var closeEventName="chakra-ui:close-tooltip";function useCloseEvent(i,s){return reactExports.useEffect(()=>{const a=getDoc(i);return a.addEventListener(closeEventName,s),()=>a.removeEventListener(closeEventName,s)},[s,i]),()=>{const a=getDoc(i),o=getWin(i);a.dispatchEvent(new o.CustomEvent(closeEventName))}}function omit(i,s=[]){const a=Object.assign({},i);for(const o of s)o in a&&delete a[o];return a}function pick(i,s){const a={};for(const o of s)o in i&&(a[o]=i[o]);return a}var MotionDiv=chakra(motion.div),Tooltip=forwardRef((i,s)=>{var a,o;const _=useStyleConfig("Tooltip",i),$=omitThemingProps(i),j=useTheme(),{children:et,label:rt,shouldWrapChildren:nt,"aria-label":it,hasArrow:ot,bg:at,portalProps:lt,background:gt,backgroundColor:ct,bgColor:yt,motionProps:pt,...ut}=$,ht=(o=(a=gt??ct)!=null?a:at)!=null?o:yt;if(ht){_.bg=ht;const Mt=getCSSVar(j,"colors",ht);_[cssVars.arrowBg.var]=Mt}const mt=useTooltip({...ut,direction:j.direction}),dt=typeof et=="string"||nt;let vt;if(dt)vt=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...mt.getTriggerProps(),children:et});else{const Mt=reactExports.Children.only(et);vt=reactExports.cloneElement(Mt,mt.getTriggerProps(Mt.props,Mt.ref))}const St=!!it,_t=mt.getTooltipProps({},s),Et=St?omit(_t,["role","id"]):_t,Pt=pick(_t,["role","id"]);return rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[vt,jsxRuntimeExports.jsx(AnimatePresence,{children:mt.isOpen&&jsxRuntimeExports.jsx(Portal,{...lt,children:jsxRuntimeExports.jsx(chakra.div,{...mt.getTooltipPositionerProps(),__css:{zIndex:_.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...pt,...Et,__css:_,children:[rt,St&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Pt,children:it}),ot&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:_.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et})});Tooltip.displayName="Tooltip";const ViewIcon=createIcon({displayName:"ViewIcon",path:jsxRuntimeExports.jsxs("g",{fill:"currentColor",children:[jsxRuntimeExports.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),DeleteIcon=createIcon({displayName:"DeleteIcon",path:jsxRuntimeExports.jsx("g",{fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),EditIcon=createIcon({displayName:"EditIcon",path:jsxRuntimeExports.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[jsxRuntimeExports.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),jsxRuntimeExports.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),ChevronDownIcon=createIcon({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),ChatIcon=createIcon({d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z",displayName:"ChatIcon",viewBox:"0 0 14 14"}),StarIcon=createIcon({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),QuestionIcon=createIcon({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z",displayName:"QuestionIcon"}),SummariesList=({userId:i,isDarkMode:s,isOpen:a,onClose:o,readingId:_})=>{const[$,j]=reactExports.useState([]),[et,rt]=reactExports.useState(!0),[nt,it]=reactExports.useState(null),[ot,at]=reactExports.useState(!1),[lt,gt]=reactExports.useState(!1),ct=useToast();reactExports.useEffect(()=>{i&&(async()=>{try{const{data:ht,error:mt}=await supabase.from("summaries").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(mt)throw mt;j(ht||[])}catch(ht){console.error("Error loading summaries:",ht),ct({title:"Error loading summaries",description:ht instanceof Error?ht.message:"Failed to load summaries",status:"error",duration:3e3,isClosable:!0})}finally{rt(!1)}})()},[i]);const yt=async(ut,ht)=>{ht.stopPropagation();try{const{error:mt}=await supabase.from("summaries").delete().eq("id",ut).eq("user_id",i);if(mt)throw mt;j($.filter(dt=>dt.id!==ut)),ct({title:"Summary deleted",status:"success",duration:2e3})}catch(mt){console.error("Error deleting summary:",mt),ct({title:"Error deleting summary",description:"Please try again",status:"error",duration:3e3,isClosable:!0})}},pt=(ut,ht)=>{ht.stopPropagation(),it(ut),at(!0)};return $.reduce((ut,ht)=>{const mt=ht.reading_session_id;return ut[mt]||(ut[mt]=[]),ut[mt].push(ht),ut},{}),i?jsxRuntimeExports.jsx(Box,{w:"100%",maxW:"100%",children:jsxRuntimeExports.jsxs(VStack,{align:"stretch",spacing:4,w:"100%",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Button,{rightIcon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),colorScheme:"teal",variant:"outline",isLoading:et,w:"100%",mb:4,size:"sm",onClick:()=>gt(!lt),children:"📝 Summaries"}),lt&&jsxRuntimeExports.jsx(Box,{bg:s?"gray.800":"white",borderColor:s?"gray.600":"gray.200",borderWidth:"1px",borderRadius:"md",boxShadow:"md",mt:2,maxW:"100%",maxH:"300px",overflowY:"auto",zIndex:10,position:"absolute",sx:{"&::-webkit-scrollbar":{width:"8px",borderRadius:"8px",backgroundColor:s?"gray.700":"gray.100"},"&::-webkit-scrollbar-thumb":{backgroundColor:s?"gray.600":"gray.300",borderRadius:"8px"}},children:$.length===0?jsxRuntimeExports.jsx(Box,{p:2,children:jsxRuntimeExports.jsx(Text,{color:s?"gray.400":"gray.500",children:"No summaries yet"})}):$.map((ut,ht)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[ht>0&&jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Box,{p:2,_hover:{bg:s?"gray.700":"gray.100"},cursor:"pointer",children:jsxRuntimeExports.jsxs(VStack,{align:"stretch",width:"100%",spacing:2,children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:s?"gray.400":"gray.500",children:new Date(ut.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",fontWeight:"medium",color:s?"white":"black",children:ut.title||"Untitled Summary"})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",spacing:2,children:[jsxRuntimeExports.jsxs(Text,{fontSize:"xs",color:s?"gray.400":"gray.500",children:[new Date(ut.created_at).toLocaleTimeString()," • ",ut.length||"medium"]}),jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:s?"blue.900":"blue.100"},color:s?"blue.200":"blue.500",cursor:"pointer",onClick:mt=>{mt.stopPropagation(),pt(ut,mt)},children:jsxRuntimeExports.jsx(ViewIcon,{boxSize:"3"})}),jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:s?"red.900":"red.100"},color:s?"red.200":"red.500",cursor:"pointer",onClick:mt=>{mt.stopPropagation(),yt(ut.id,mt)},children:jsxRuntimeExports.jsx(DeleteIcon,{boxSize:"3"})})]})]})]})})]},ut.id))})]}),jsxRuntimeExports.jsxs(Modal,{isOpen:ot,onClose:()=>at(!1),size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:s?"gray.800":"white",children:[jsxRuntimeExports.jsxs(ModalHeader,{color:s?"white":"gray.800",children:["Summary - ",nt&&new Date(nt.created_at).toLocaleString()]}),jsxRuntimeExports.jsx(ModalCloseButton,{color:s?"white":"gray.800"}),jsxRuntimeExports.jsx(ModalBody,{pb:6,children:nt&&jsxRuntimeExports.jsxs(VStack,{align:"stretch",spacing:4,children:[jsxRuntimeExports.jsx(Text,{color:s?"white":"black",children:nt.content}),jsxRuntimeExports.jsx(Box,{p:4,bg:s?"gray.700":"gray.50",borderRadius:"md",children:jsxRuntimeExports.jsxs(Text,{color:s?"gray.300":"gray.600",fontSize:"sm",fontStyle:"italic",children:["Context: ",nt.text_context]})})]})})]})]})]})}):null};function logDebug(...i){console.log("[AI Service Debug]",...i)}class AIService{constructor(s){ps(this,"context");ps(this,"chatSessionId");this.context={currentText:s.currentText||"",currentWord:s.currentWord||"",currentSpeed:s.currentSpeed||0,documentId:s.documentId,readingSessionId:s.readingSessionId,chatSessionId:s.chatSessionId}}async sendMessage(s){var a;try{logDebug("Sending chat request with context:",this.context),logDebug("Invoking edge function gemini-chat");const o=Date.now(),_=await supabase.functions.invoke("gemini-chat",{body:{prompt:s,systemPrompt:"You are a helpful assistant.",documentContext:this.context.currentText||""}}),$=Date.now()-o;if(logDebug(`Edge function completed in ${$}ms`),_.error)throw console.error("Edge function error:",_.error),logDebug("Full response with error:",_),new Error(_.error.message||"Failed to get AI response");logDebug("Edge function response:",_.data);const j=((a=_.data)==null?void 0:a.text)||"No response from AI";return this.chatSessionId&&(logDebug("Saving message to chat session:",this.chatSessionId),await supabase.from("chat_messages").insert({session_id:this.chatSessionId,content:s,role:"user"}),await supabase.from("chat_messages").insert({session_id:this.chatSessionId,content:j,role:"assistant"})),j}catch(o){console.error("Error in AI response:",o);let _="Failed to get AI response. Please try again.";throw o instanceof Error&&(o.message.includes("Failed to fetch")||o.message.includes("NetworkError")||o.message.includes("network")?_="Network error while connecting to AI service. Please check your connection and try again.":o.message.includes("timeout")?_="The AI service is taking too long to respond. Please try again later.":o.message.includes("CORS")&&(_="CORS error: The AI service is not properly configured for cross-origin requests.")),new Error(_)}}async generateSummary(s,a="medium",o){var _,$,j,et;try{console.log("Generating summary for reading session",s);const{data:rt,error:nt}=await supabase.from("reading_sessions").select("text_content, document_id, id").eq("id",s).single();if(nt)throw console.error("Error fetching reading content:",nt),new Error("Failed to fetch reading content");if(!(rt!=null&&rt.text_content))throw console.error("No text content found for reading session"),new Error("No content available to summarize");let it="Reading Summary",ot="default";if(rt.document_id){logDebug("Attempting to fetch document title for ID:",rt.document_id);try{const{data:lt,error:gt}=await supabase.from("documents").select("title").eq("id",rt.document_id).single();gt?(console.error("Error fetching document title:",gt),logDebug("Document fetch error details:",gt)):lt!=null&&lt.title&&(it=lt.title+" - Summary",ot="document table",logDebug("Found document title from document table:",it))}catch(lt){console.error("Exception fetching document title:",lt)}if(ot==="default")try{const{data:lt,error:gt}=await supabase.from("reading_sessions").select("documents:document_id(title)").eq("id",s).single();!gt&&(lt!=null&&lt.documents)&&((_=lt.documents[0])!=null&&_.title)&&(it=lt.documents[0].title+" - Summary",ot="join query",logDebug("Found document title from join query:",it))}catch(lt){console.error("Error in title join query:",lt)}}else{logDebug("No document_id available for this reading session");try{const lt=rt.text_content.split(" ").slice(0,5).join(" ").trim();lt&&lt.length>10?(it=lt+"... - Summary",ot="content excerpt",logDebug("Generated title from content:",it)):(it=`Reading #${s.substring(0,8)} - Summary`,ot="session ID",logDebug("Generated title from session ID:",it))}catch(lt){console.error("Error generating title from content:",lt)}}logDebug("Final title to use:",it,"(source:",ot,")"),logDebug("Calling gemini-summary edge function");const at=await supabase.functions.invoke("gemini-summary",{body:{content:rt.text_content,length:a}});if(at.error)throw console.error("Edge function error:",at.error),new Error(at.error.message||"Failed to generate summary");if(logDebug("Summary generated successfully",at.data),($=at.data)!=null&&$.summary)try{logDebug("Saving summary to database with title:",it);const lt={content:at.data.summary,reading_session_id:s,title:it};logDebug("Summary data to save:",lt);const{data:{user:gt}}=await supabase.auth.getUser();if(!(gt!=null&&gt.id))throw console.error("No authenticated user found for summary"),new Error("Authentication required to save summary");const ct={...lt,user_id:gt.id};logDebug("Complete summary data to save:",ct);const{data:yt,error:pt}=await supabase.from("summaries").insert(ct).select();pt?(console.error("Error saving summary:",pt),logDebug("Detailed save error:",pt)):(logDebug("Summary saved successfully:",yt),o&&yt&&((j=yt[0])!=null&&j.id)&&o(yt[0].id))}catch(lt){console.error("Exception during summary save:",lt),logDebug("Database exception details:",lt)}return((et=at.data)==null?void 0:et.summary)||"No summary was generated."}catch(rt){throw console.error("Error in summary generation:",rt),new Error("Failed to generate summary. Please try again.")}}async generateQuiz(s,a=5,o="medium",_){var $,j,et,rt;try{console.log("Generating quiz for reading session",s),logDebug("Starting quiz generation process",{readingSessionId:s,numQuestions:a,difficulty:o});const{data:nt,error:it}=await supabase.from("reading_sessions").select("text_content").eq("id",s).single();if(it)throw console.error("Error fetching reading content:",it),new Error("Failed to fetch reading content");if(!(nt!=null&&nt.text_content))throw console.error("No text content found for reading session"),new Error("No content available for quiz generation");logDebug("Reading content fetched, length:",nt.text_content.length);let ot=_;if(ot)logDebug("Using existing quiz session:",ot);else{logDebug("Creating new quiz session");const{data:yt,error:pt}=await supabase.rpc("create_quiz_session",{p_reading_session_id:s});if(pt)throw console.error("Error creating quiz session:",pt),logDebug("Quiz session creation error details:",pt),pt;ot=yt,logDebug("Quiz session created:",ot)}const at=nt.text_content.length>8e3?nt.text_content.substring(0,8e3)+"...":nt.text_content;logDebug("Calling quiz generator with content length:",at.length);const gt=await(async()=>{const yt=new Promise((pt,ut)=>{setTimeout(()=>ut(new Error("Quiz generation timed out after 60 seconds")),6e4)});return Promise.race([supabase.functions.invoke("gemini-quiz-generator",{body:{content:at,numQuestions:a,difficulty:o}}),yt])})();if(logDebug("Quiz generator response received"),gt.error)throw console.error("Edge function error:",gt.error),logDebug("Quiz generation error details:",gt.error),new Error(gt.error.message||"Failed to generate quiz questions");logDebug("Quiz generator succeeded, questions:",((j=($=gt.data)==null?void 0:$.questions)==null?void 0:j.length)||0);const ct=[];if((et=gt.data)!=null&&et.questions&&gt.data.questions.length>0){logDebug("Saving questions to database");for(const yt of gt.data.questions)try{const{data:pt,error:ut}=await supabase.rpc("add_quiz_question",{p_quiz_session_id:ot,p_question_text:yt.question,p_options:yt.options,p_correct_option:yt.correct_option});ut?(console.error("Error saving quiz question:",ut),logDebug("Error saving question:",yt,ut)):(ct.push(pt),logDebug("Question saved with ID:",pt))}catch(pt){console.error("Error processing question:",pt),logDebug("Question processing error:",yt,pt)}logDebug("All questions processed. Total saved:",ct.length),ct.length===0&&gt.data.questions.length>0&&(console.error("Failed to save any questions to the database"),logDebug("Questions generated but none saved successfully"))}else logDebug("No questions received from generator");return{quizSessionId:ot,questions:((rt=gt.data)==null?void 0:rt.questions)||[]}}catch(nt){throw console.error("Error in quiz generation:",nt),logDebug("Quiz generation error:",nt),new Error(`Failed to generate quiz: ${nt.message||"Unknown error"}`)}}updateContext(s){this.context={...this.context,...s},s.chatSessionId&&(this.chatSessionId=s.chatSessionId)}async updateReadingMetrics(s,a,o,_){try{logDebug("Updating reading metrics:",{readingSessionId:s,wordsRead:a,totalWords:o,averageSpeed:_});const $=isNaN(a)?0:Math.max(0,a),j=isNaN(o)?100:Math.max(1,o),et=isNaN(_)?250:Math.max(50,_),{data:rt,error:nt}=await supabase.rpc("update_reading_metrics",{p_reading_session_id:s,p_words_read:$,p_total_words:j,p_average_speed:et});if(nt)throw console.error("Error updating reading metrics:",nt),new Error("Failed to update reading metrics");return logDebug("Reading metrics updated successfully"),!0}catch($){return console.error("Error updating reading metrics:",$),!1}}async submitQuizAnswer(s,a,o,_){try{console.log("Submitting quiz answer:",{quizSessionId:s,questionId:a,selectedOption:o,isCorrect:_});const{data:$,error:j}=await supabase.rpc("submit_quiz_answer_v2",{p_question_id:a,p_selected_option:o});if(j)throw console.error("Error submitting quiz answer:",j),new Error(j.message||"Failed to submit quiz answer");console.log("Quiz answer submitted successfully")}catch($){throw console.error("Error submitting quiz answer:",$),new Error("Failed to submit quiz answer")}}async getQuizAnalytics(s){var a,o;try{console.log("Getting quiz analytics for:",s);try{logDebug("Using direct RPC for quiz analytics");const{data:j,error:et}=await supabase.rpc("get_quiz_analytics",{p_quiz_session_id:s});if(!et&&j)return logDebug("Quiz analytics retrieved via RPC:",j),{readingSessionId:j.readingSessionId||"",documentId:j.documentId||void 0,wordsRead:isNaN(j.wordsRead)?0:j.wordsRead,totalWords:isNaN(j.totalWords)?100:j.totalWords,readingPositionPercent:isNaN(j.readingPositionPercent)?0:j.readingPositionPercent,averageSpeed:isNaN(j.averageSpeed)?250:j.averageSpeed,quizSessionId:j.quizSessionId||s,quizScore:isNaN(j.quizScore)?0:j.quizScore,totalQuestions:isNaN(j.totalQuestions)?5:j.totalQuestions,scorePercentage:isNaN(j.scorePercentage)?0:j.scorePercentage,quizCreatedAt:j.quizCreatedAt||new Date().toISOString(),quizCompletedAt:j.quizCompletedAt||new Date().toISOString()}}catch(j){console.warn("RPC method failed, falling back to edge function:",j)}logDebug("Falling back to edge function for quiz analytics");const _=await supabase.functions.invoke("gemini-quiz-analytics",{body:{p_quiz_session_id:s}});if(_.error)throw console.error("Edge function error:",_.error),new Error(_.error.message||"Failed to get quiz analytics");console.log("Quiz analytics retrieved successfully:",(a=_.data)==null?void 0:a.analytics);const $=((o=_.data)==null?void 0:o.analytics)||{};return{readingSessionId:$.readingSessionId||"",documentId:$.documentId||void 0,wordsRead:isNaN($.wordsRead)?0:$.wordsRead,totalWords:isNaN($.totalWords)?100:$.totalWords,readingPositionPercent:isNaN($.readingPositionPercent)?0:$.readingPositionPercent,averageSpeed:isNaN($.averageSpeed)?250:$.averageSpeed,quizSessionId:$.quizSessionId||s,quizScore:isNaN($.quizScore)?0:$.quizScore,totalQuestions:isNaN($.totalQuestions)?5:$.totalQuestions,scorePercentage:isNaN($.scorePercentage)?0:$.scorePercentage,quizCreatedAt:$.quizCreatedAt||new Date().toISOString(),quizCompletedAt:$.quizCompletedAt||new Date().toISOString()}}catch(_){return console.error("Error getting quiz analytics:",_),{readingSessionId:"",documentId:void 0,wordsRead:0,totalWords:100,readingPositionPercent:0,averageSpeed:250,quizSessionId:s,quizScore:0,totalQuestions:5,scorePercentage:0,quizCreatedAt:new Date().toISOString(),quizCompletedAt:new Date().toISOString()}}}async completeQuiz(s,a){try{logDebug("Completing quiz session and saving score:",{quizSessionId:s,correctAnswers:a});const{data:o,error:_}=await supabase.rpc("save_quiz_results",{p_quiz_session_id:s,p_correct_answers:a});if(_)throw console.error("Error saving quiz results:",_),logDebug("Error details:",_),new Error(_.message||"Failed to complete quiz");return logDebug("Quiz completed successfully, score saved"),!0}catch(o){throw console.error("Error completing quiz:",o),new Error("Failed to complete quiz and save score")}}async getQuizResults(s){var a;try{logDebug("Fetching quiz results and analytics:",s);const{data:o,error:_}=await supabase.from("quiz_sessions").select("score, reading_session_id, created_at, updated_at").eq("id",s).single();if(_)throw console.error("Error fetching quiz session:",_),new Error("Failed to fetch quiz session details");const{data:$,error:j}=await supabase.from("reading_sessions").select("words_read, total_words, average_speed").eq("id",o.reading_session_id).single();if(j)throw console.error("Error fetching reading session:",j),new Error("Failed to fetch reading metrics");const{data:et,error:rt}=await supabase.from("quiz_questions").select("id, correct_option").eq("quiz_session_id",s);if(rt)throw console.error("Error fetching quiz questions:",rt),new Error("Failed to fetch quiz questions");const{data:nt,error:it}=await supabase.from("quiz_answers").select("question_id, selected_option, is_correct").eq("user_id",(a=(await supabase.auth.getUser()).data.user)==null?void 0:a.id);if(it)throw console.error("Error fetching quiz answers:",it),new Error("Failed to fetch quiz answers");const ot=$.words_read||0,at=$.total_words||100,lt=at>0?ot/at*100:0,gt=nt.filter(ht=>et.some(mt=>mt.id===ht.question_id)).map(ht=>({questionId:ht.question_id,selectedOption:ht.selected_option,isCorrect:ht.is_correct})),ct=et.length||5,yt=o.score||0,pt=ct>0?yt/ct*100:0;let ut="Unknown";try{if(o.created_at&&o.updated_at){const ht=new Date(o.created_at),mt=new Date(o.updated_at);if(!isNaN(ht.getTime())&&!isNaN(mt.getTime())){const dt=mt.getTime()-ht.getTime(),vt=Math.floor(dt/6e4),St=Math.floor(dt%6e4/1e3);ut=`${vt}m ${St}s`,vt===0&&(ut=`${St}s`);const _t=ct>0?Math.round(dt/1e3/ct):0;ut+=` (${_t}s per question)`}}}catch(ht){console.error("Error calculating time taken:",ht),ut="Unknown"}return{score:yt,totalQuestions:ct,scorePercentage:pt,answers:gt,readingPosition:lt,readingSpeed:$.average_speed||250,timeTaken:ut}}catch(o){return console.error("Error getting quiz results:",o),{score:0,totalQuestions:5,scorePercentage:0,answers:[],readingPosition:0,readingSpeed:250,timeTaken:"Unknown"}}}}const QuizAnalytics$1=({quizSessionId:i,readingId:s,isDarkMode:a})=>{const[o,_]=reactExports.useState(null),[$,j]=reactExports.useState(!0),[et,rt]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{j(!0);const ot=await new AIService({readingSessionId:s}).getQuizResults(i);_(ot),rt(null)}catch(it){console.error("Error fetching quiz analytics:",it),rt(it instanceof Error?it.message:"Failed to load analytics")}finally{j(!1)}})()},[i,s]),$?jsxRuntimeExports.jsxs(Box,{textAlign:"center",py:4,children:[jsxRuntimeExports.jsx(Text,{mb:4,children:"Loading analytics..."}),jsxRuntimeExports.jsx(Progress,{isIndeterminate:!0,colorScheme:"blue",size:"sm"})]}):et?jsxRuntimeExports.jsx(Box,{bg:a?"red.900":"red.50",p:4,borderRadius:"md",children:jsxRuntimeExports.jsxs(Text,{color:a?"red.200":"red.500",children:["Error: ",et]})}):o?jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Heading,{size:"md",mb:4,children:"Performance Analysis"}),jsxRuntimeExports.jsxs(StatGroup,{mb:6,children:[jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Quiz Score"}),jsxRuntimeExports.jsxs(StatNumber,{children:[o.score,"/",o.totalQuestions]}),jsxRuntimeExports.jsxs(StatHelpText,{children:[o.scorePercentage.toFixed(0),"%"]})]}),jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Reading Position"}),jsxRuntimeExports.jsxs(StatNumber,{children:[o.readingPosition.toFixed(0),"%"]}),jsxRuntimeExports.jsx(StatHelpText,{children:"of document read"})]}),jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Reading Speed"}),jsxRuntimeExports.jsx(StatNumber,{children:o.readingSpeed.toFixed(0)}),jsxRuntimeExports.jsx(StatHelpText,{children:"words per minute"})]})]}),jsxRuntimeExports.jsx(Divider,{mb:4}),jsxRuntimeExports.jsx(Heading,{size:"sm",mb:3,children:"Quiz Time"}),jsxRuntimeExports.jsxs(Box,{textAlign:"center",mb:6,children:[jsxRuntimeExports.jsx(Text,{fontSize:"xl",fontWeight:"bold",children:o.timeTaken}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:a?"gray.400":"gray.600",children:"Time to complete quiz"})]}),jsxRuntimeExports.jsx(Divider,{mb:4}),jsxRuntimeExports.jsx(Heading,{size:"sm",mb:3,children:"Retention Analysis"}),jsxRuntimeExports.jsxs(HStack,{spacing:8,justify:"center",mb:6,children:[jsxRuntimeExports.jsx(Tooltip,{label:"Quiz score percentage",children:jsxRuntimeExports.jsxs(Box,{textAlign:"center",children:[jsxRuntimeExports.jsx(CircularProgress,{value:o.scorePercentage,color:"green.400",size:"100px",children:jsxRuntimeExports.jsxs(CircularProgressLabel,{children:[o.scorePercentage.toFixed(0),"%"]})}),jsxRuntimeExports.jsx(Text,{mt:2,children:"Retention Score"})]})}),jsxRuntimeExports.jsxs(Box,{textAlign:"center",px:6,children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:[o.readingSpeed>400?"⚠️ ":"✅ ",getRetentionAnalysis(o.readingSpeed,o.scorePercentage)]}),jsxRuntimeExports.jsx(Text,{mt:2,fontSize:"sm",maxW:"250px",children:getRetentionTips(o.readingSpeed,o.scorePercentage)})]})]})]}):jsxRuntimeExports.jsx(Box,{bg:a?"gray.700":"gray.100",p:4,borderRadius:"md",children:jsxRuntimeExports.jsx(Text,{children:"No analytics available for this quiz."})})};function getRetentionAnalysis(i,s){return i>500&&s<60?"Reading too fast":i>400&&s<80?"Speed may affect retention":i<150&&s<60?"Slow reading, low retention":s>80?"Excellent retention":s>60?"Good retention":"Needs improvement"}function getRetentionTips(i,s){return i>500&&s<60?"Try slowing down your reading pace to improve comprehension and retention.":i>400&&s<80?"Consider adjusting your reading speed for better comprehension of complex material.":i<150&&s<60?"Try active reading techniques like highlighting or summarizing to improve engagement.":s>80?"Great job! Your reading technique is working well for this material.":"Try reviewing key concepts or taking notes while reading to improve retention."}const QuizModal=({isOpen:i,onClose:s,readingId:a,userId:o,textContent:_,isDarkMode:$})=>{const[j,et]=reactExports.useState(null),[rt,nt]=reactExports.useState(1),[it,ot]=reactExports.useState(""),[at,lt]=reactExports.useState(!1),[gt,ct]=reactExports.useState(0),[yt,pt]=reactExports.useState(!0),[ut,ht]=reactExports.useState(!1),[mt,dt]=reactExports.useState(""),[vt,St]=reactExports.useState(null),_t=useToast();reactExports.useEffect(()=>{i&&Et()},[i]),reactExports.useEffect(()=>{if(!mt||ut){console.log("Not polling: quizSessionId is empty or showing results");return}if((vt==null?void 0:vt.status)==="completed"&&!yt){console.log("Not polling: quiz generation already completed");return}console.log("Starting to poll for quiz questions with session ID:",mt);const It=async()=>{try{if(console.log("Polling for quiz questions, session ID:",mt),!mt){console.warn("No session ID available for polling, attempting to retrieve one");const{data:Wt,error:tr}=await supabase.rpc("get_latest_quiz_session",{p_reading_session_id:a});if(tr||!Wt)throw console.error("Failed to retrieve latest quiz session"),new Error("No valid quiz session found");console.log("Retrieved latest quiz session ID:",Wt),dt(Wt),setTimeout(It,500);return}const{data:jt,error:$t}=await supabase.rpc("get_quiz_questions",{p_quiz_session_id:mt});if($t){if(console.error("Error polling for questions:",$t),$t.message&&$t.message.includes("GROUP BY")){console.error("PostgreSQL GROUP BY error detected"),St({...vt,status:"error",error_message:"Database query error. Please run the required migrations."});return}throw $t}const Jt=Array.isArray(jt)?jt:[];if(console.log("Poll returned:",Jt.length,"questions"),Jt&&Jt.length>0){console.log("Questions found:",Jt.length);const Wt=Jt[0],tr={id:Wt.id,question:Wt.question,options:Array.isArray(Wt.options)?Wt.options:JSON.parse(typeof Wt.options=="string"?Wt.options:JSON.stringify(Wt.options)),correct_option:Wt.correct_option,explanation:""};et(tr),pt(!1),St({...vt,status:"ready",total_questions:Jt.length,generated_questions:Jt.length});return}else if((vt==null?void 0:vt.status)==="error"){console.log("Not continuing to poll due to error state");return}else console.log("No questions found yet, will poll again"),setTimeout(It,2e3)}catch(jt){console.error("Error polling quiz status:",jt),St({...vt,status:"error",error_message:"Failed to load quiz questions."}),_t({title:"Error Loading Quiz",description:"Unable to load quiz questions. Please try again.",status:"error",duration:5e3,isClosable:!0})}};It()},[mt,ut,vt==null?void 0:vt.status]);const Et=async()=>{var It,jt;pt(!0),et(null),nt(1),ot(""),lt(!1),ct(0),ht(!1),St({status:"initializing",total_questions:5,generated_questions:0,error_message:null});try{const $t=new AIService({currentText:_,readingSessionId:a});try{const tr=_.trim().split(/\s+/).filter(Boolean).length;let mr=0;try{const er=localStorage.getItem(`reading_progress_${a}`);er&&(mr=parseFloat(er))}catch(er){console.warn("Could not get reading progress:",er)}const Yt=mr>0?mr:.5,kt=Math.round(tr*Yt);let Ft=0;try{const er=localStorage.getItem(`reading_start_time_${a}`);if(er){const Zt=new Date(er).getTime(),Ot=(new Date().getTime()-Zt)/6e4;Ot>0&&kt>0&&(Ft=Math.round(kt/Ot))}}catch(er){console.warn("Could not calculate reading speed:",er)}Ft=Ft>0?Ft:200,console.log("Updating reading metrics with:",{wordsRead:kt,totalWords:tr,averageReadingSpeedWPM:Ft,readingPercentage:Yt}),await $t.updateReadingMetrics(a,kt,tr,Ft),console.log("Updated reading metrics for quiz analytics")}catch(tr){console.error("Error updating reading metrics:",tr)}const{data:Jt,error:Wt}=await supabase.rpc("create_quiz_session",{p_reading_session_id:a});if(Wt)throw Wt;console.log("Created quiz session with ID:",Jt),dt(Jt),St({status:"generating",total_questions:5,generated_questions:0,error_message:null});try{const tr=await $t.generateQuiz(a,5,"medium",Jt);if(console.log("Quiz generation completed:",tr),!Jt)throw console.error("Quiz session ID is null after generation"),new Error("Failed to create quiz session");St({status:"completed",total_questions:((It=tr.questions)==null?void 0:It.length)||0,generated_questions:((jt=tr.questions)==null?void 0:jt.length)||0,error_message:null}),await new Promise(mr=>setTimeout(mr,1e3)),console.log("Ready to fetch question using session ID:",Jt),Pt(1)}catch(tr){console.error("Error generating quiz questions:",tr),St({status:"error",total_questions:5,generated_questions:0,error_message:tr instanceof Error?tr.message:"Failed to generate quiz questions"}),_t({title:"Quiz Generation Error",description:tr instanceof Error?tr.message:"Failed to generate quiz questions",status:"error",duration:5e3,isClosable:!0}),pt(!1)}}catch($t){console.error("Error starting quiz:",$t),St({status:"error",total_questions:0,generated_questions:0,error_message:$t instanceof Error?$t.message:"Failed to start quiz"}),_t({title:"Quiz Error",description:"Failed to start quiz. Please try again.",status:"error",duration:3e3,isClosable:!0}),pt(!1)}},Pt=async It=>{try{if(!mt){console.error("Quiz session ID is missing when fetching questions");const{data:Wt,error:tr}=await supabase.rpc("get_latest_quiz_session",{p_reading_session_id:a});if(tr||!Wt){_t({title:"Error Loading Quiz",description:"Could not find your quiz session. Please try again.",status:"error",duration:5e3,isClosable:!0});return}console.log("Retrieved latest quiz session ID:",Wt),dt(Wt),await new Promise(Ft=>setTimeout(Ft,100)),console.log(`Fetching question ${It} with recovered session ID: ${Wt}`);const{data:mr,error:Yt}=await supabase.rpc("get_quiz_questions",{p_quiz_session_id:Wt});if(Yt)throw console.error("Error fetching questions with recovered session ID:",Yt),Yt;const kt=Array.isArray(mr)?mr:[];if(console.log(`Fetched ${kt.length} questions with recovered ID`),kt&&kt.length>=It){const Ft=kt[It-1],er={id:Ft.id,question:Ft.question,options:Array.isArray(Ft.options)?Ft.options:JSON.parse(typeof Ft.options=="string"?Ft.options:JSON.stringify(Ft.options)),correct_option:Ft.correct_option,explanation:""};et(er),pt(!1)}else throw new Error("Question not found with recovered session ID");return}console.log(`Fetching question ${It} for quiz session ${mt}`);const{data:jt,error:$t}=await supabase.rpc("get_quiz_questions",{p_quiz_session_id:mt});if($t)throw console.error("Error fetching questions:",$t),$t;const Jt=Array.isArray(jt)?jt:[];if(console.log(`Fetched ${Jt.length} questions for quiz`),Jt&&Jt.length>=It){console.log(`Setting current question to #${It}`);const Wt=Jt[It-1],tr={id:Wt.id,question:Wt.question,options:Array.isArray(Wt.options)?Wt.options:JSON.parse(typeof Wt.options=="string"?Wt.options:JSON.stringify(Wt.options)),correct_option:Wt.correct_option,explanation:""};et(tr)}else throw console.error(`Question #${It} not found in fetched questions`),new Error("Question not found");pt(!1)}catch(jt){console.error("Error fetching question:",jt),_t({title:"Error Fetching Question",description:jt instanceof Error?jt.message:"Failed to fetch the question. Please try again.",status:"error",duration:5e3,isClosable:!0}),pt(!1)}},Mt=async()=>{if(!j)return;const It=j.options[j.correct_option];it===It&&ct(gt+1);const $t=j.options.findIndex(Jt=>Jt===it);try{const Jt=new AIService({readingSessionId:a});await supabase.rpc("submit_quiz_answer_v2",{p_question_id:j.id,p_selected_option:$t})}catch(Jt){console.error("Error saving quiz response:",Jt)}lt(!0)},Rt=()=>{const It=rt+1;It<=5?(nt(It),ot(""),lt(!1),pt(!0),Pt(It)):Ut()},Ut=async()=>{try{const It=new AIService({readingSessionId:a});await It.completeQuiz(mt,gt),ht(!0);try{const jt=await It.getQuizResults(mt);console.log("Quiz Analytics:",jt)}catch(jt){console.error("Error fetching quiz analytics:",jt)}}catch(It){console.error("Error saving quiz results:",It),_t({title:"Error Saving Results",description:"Failed to save quiz results. Your progress may not be recorded.",status:"error",duration:5e3,isClosable:!0})}},Ct=()=>{et(null),nt(1),ot(""),lt(!1),ct(0),ht(!1),St(null),s()};if(yt||(vt==null?void 0:vt.status)!=="ready"&&(vt==null?void 0:vt.status)!=="completed")return jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:Ct,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:$?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:(vt==null?void 0:vt.status)==="error"?"Error Creating Quiz":"Preparing Quiz"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(VStack,{spacing:4,align:"center",py:8,children:(vt==null?void 0:vt.status)==="error"?jsxRuntimeExports.jsxs(Box,{textAlign:"center",py:4,children:[jsxRuntimeExports.jsx(Text,{color:"red.500",fontSize:"lg",mb:4,children:vt.error_message||"An error occurred while generating the quiz."}),jsxRuntimeExports.jsx(Text,{children:"This may happen with very long or complex text. Try again with a shorter selection or try a different reading."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Text,{children:[(vt==null?void 0:vt.status)==="initializing"&&"Initializing quiz...",(vt==null?void 0:vt.status)==="generating"&&"Generating questions based on your text...",(vt==null?void 0:vt.status)==="completed"&&"Loading quiz questions..."]}),jsxRuntimeExports.jsx(Progress,{size:"xs",w:"100%",isIndeterminate:(vt==null?void 0:vt.status)!=="generating",value:70,colorScheme:"blue"}),jsxRuntimeExports.jsx(Text,{color:"gray.500",fontSize:"sm",mt:4,children:(vt==null?void 0:vt.status)==="generating"&&"This may take up to 30 seconds for longer texts."})]})})}),jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Button,{onClick:Ct,colorScheme:(vt==null?void 0:vt.status)==="error"?"red":"blue",children:(vt==null?void 0:vt.status)==="error"?"Close":"Cancel"}),(vt==null?void 0:vt.status)==="error"&&jsxRuntimeExports.jsx(Button,{ml:3,colorScheme:"blue",onClick:Et,children:"Try Again"})]})]})]});if(ut)return jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:Ct,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:$?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Quiz Results"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(VStack,{spacing:6,align:"stretch",py:4,children:[jsxRuntimeExports.jsx(Heading,{size:"md",textAlign:"center",children:"Quiz Complete!"}),jsxRuntimeExports.jsx(Box,{p:5,bg:$?"gray.700":"white",borderRadius:"md",shadow:"md",children:jsxRuntimeExports.jsxs(VStack,{spacing:4,align:"center",children:[jsxRuntimeExports.jsx(Heading,{size:"md",children:"Quiz Results"}),jsxRuntimeExports.jsx(StatGroup,{w:"100%",children:jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Score"}),jsxRuntimeExports.jsxs(StatNumber,{children:[gt," / 5"]}),jsxRuntimeExports.jsxs(StatHelpText,{children:[(gt/5*100).toFixed(0),"%"]})]})}),jsxRuntimeExports.jsx(Divider,{my:4}),jsxRuntimeExports.jsx(QuizAnalytics$1,{quizSessionId:mt,readingId:a,isDarkMode:$})]})})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{onClick:Ct,children:"Close"})})]})]});if(!j)return null;const Kt=[...j.options],Gt=Kt[j.correct_option];return jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:Ct,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:$?"gray.800":"white",children:[jsxRuntimeExports.jsxs(ModalHeader,{children:["Question ",rt," of 5"]}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(VStack,{spacing:6,align:"stretch",children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Text,{fontSize:"lg",fontWeight:"medium",children:j.question})}),jsxRuntimeExports.jsx(RadioGroup,{value:it,onChange:ot,isDisabled:at,children:jsxRuntimeExports.jsx(VStack,{align:"stretch",spacing:3,children:Kt.map((It,jt)=>jsxRuntimeExports.jsx(Radio,{value:It,colorScheme:at?jt===j.correct_option?"green":It===it&&jt!==j.correct_option?"red":"gray":"blue",children:jsxRuntimeExports.jsx(Text,{color:at&&jt===j.correct_option?"green.500":void 0,children:It})},jt))})}),at&&jsxRuntimeExports.jsxs(Box,{p:4,bg:$?"gray.700":"gray.50",borderRadius:"md",children:[jsxRuntimeExports.jsx(Text,{fontWeight:"medium",mb:2,children:it===Gt?"Correct!":`Incorrect. The correct answer is: ${Gt}`}),j.explanation&&jsxRuntimeExports.jsx(Text,{children:j.explanation})]})]})}),jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Progress,{value:rt/5*100,size:"xs",w:"100%",mb:4}),at?jsxRuntimeExports.jsx(Button,{colorScheme:"green",onClick:Rt,children:rt<5?"Next Question":"Finish Quiz"}):jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Mt,isDisabled:!it,children:"Submit Answer"})]})]})]})},QuizAnalytics=({isOpen:i,onClose:s,readingId:a,userId:o,isDarkMode:_})=>{const[$,j]=reactExports.useState(null),[et,rt]=reactExports.useState(!0),nt=useToast();reactExports.useEffect(()=>{i&&it()},[i]);const it=async()=>{try{const{data:ot,error:at}=await supabase.rpc("get_quiz_analytics_for_reading",{p_reading_session_id:a});if(at)throw at;if(ot&&Object.keys(ot).length>0){const lt={quiz_session_id:ot.quizSessionId,reading_session_id:ot.readingSessionId,document_id:ot.documentId,words_read:ot.wordsRead,total_words:ot.totalWords,reading_position_percent:ot.readingPositionPercent,average_speed:ot.averageSpeed,quiz_score:ot.quizScore,total_questions:ot.totalQuestions,score_percentage:ot.scorePercentage,quiz_created_at:ot.quizCreatedAt,quiz_completed_at:ot.quizCompletedAt,correct_answers:ot.quizScore||0,accuracy_percentage:ot.scorePercentage||0,duration_seconds:0,overall_accuracy:ot.scorePercentage||0,total_correct_answers:ot.quizScore||0,total_questions_answered:ot.totalQuestions||0};j(lt)}else j(null)}catch(ot){console.error("Error fetching quiz analytics:",ot),nt({title:"Error loading analytics",description:"Failed to load quiz performance data",status:"error",duration:5e3,isClosable:!0})}finally{rt(!1)}};return et?jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:s,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:_?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Quiz Analytics"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(VStack,{spacing:4,align:"center",py:8,children:[jsxRuntimeExports.jsx(Text,{children:"Loading analytics..."}),jsxRuntimeExports.jsx(Progress,{size:"xs",isIndeterminate:!0,w:"100%"})]})})]})]}):$?jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:s,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:_?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Quiz Performance Analytics"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(VStack,{spacing:6,align:"stretch",py:4,children:[jsxRuntimeExports.jsx(Box,{p:6,borderRadius:"lg",bg:_?"gray.700":"gray.50",children:jsxRuntimeExports.jsxs(StatGroup,{children:[jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Latest Quiz Score"}),jsxRuntimeExports.jsxs(StatNumber,{children:[$.correct_answers,"/",$.total_questions]}),jsxRuntimeExports.jsxs(StatHelpText,{children:[$.accuracy_percentage,"% accuracy"]})]}),jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Time Taken"}),jsxRuntimeExports.jsxs(StatNumber,{children:[Math.round($.duration_seconds/60),"m ",Math.round($.duration_seconds%60),"s"]}),jsxRuntimeExports.jsxs(StatHelpText,{children:[Math.round($.duration_seconds/$.total_questions),"s per question"]})]})]})}),jsxRuntimeExports.jsx(Box,{p:6,borderRadius:"lg",bg:_?"gray.700":"gray.50",children:jsxRuntimeExports.jsx(StatGroup,{children:jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:"Overall Performance"}),jsxRuntimeExports.jsxs(StatNumber,{children:[$.total_correct_answers,"/",$.total_questions_answered]}),jsxRuntimeExports.jsxs(StatHelpText,{children:[$.overall_accuracy,"% lifetime accuracy"]})]})})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:_?"gray.400":"gray.600",children:"Progress"}),jsxRuntimeExports.jsx(Progress,{value:$.accuracy_percentage,size:"lg",colorScheme:$.accuracy_percentage>=80?"green":$.accuracy_percentage>=60?"yellow":"red",mt:2})]})]})})]})]}):jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:s,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:_?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Quiz Analytics"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Text,{children:"No quiz data available for this reading."})})]})]})},ChatModal=({isDarkMode:i,currentText:s,currentWord:a,currentSpeed:o,documentId:_,readingSessionId:$,isEmbedded:j=!1,isOpen:et,onClose:rt})=>{const[nt,it]=reactExports.useState([]),[ot,at]=reactExports.useState(""),[lt,gt]=reactExports.useState(!1),[ct,yt]=reactExports.useState(!1),pt=reactExports.useRef(null),ut=useToast(),[ht,mt]=reactExports.useState(void 0),[dt,vt]=reactExports.useState(null),St=reactExports.useMemo(()=>new AIService({currentText:s,currentWord:a,currentSpeed:o||0,documentId:_,readingSessionId:$,chatSessionId:ht}),[s,a,o,_,$,ht]),_t=reactExports.useCallback(async()=>{if($)try{vt(null);const{data:Rt,error:Ut}=await supabase.from("chat_sessions").select("id").eq("reading_session_id",$);if(Ut){console.error("Error finding chat sessions:",Ut),vt("Failed to load chat history.");return}let Ct;if(!Rt||Rt.length===0){const{data:It,error:jt}=await supabase.rpc("create_chat_session",{p_reading_session_id:$,p_title:"Chat about reading"});if(jt){console.error("Error creating chat session:",jt),vt("Failed to create chat session.");return}Ct=It}else Ct=Rt[0].id;mt(Ct);const{data:Kt,error:Gt}=await supabase.from("chat_messages").select("*").eq("session_id",Ct).order("created_at",{ascending:!0});if(Gt){console.error("Error loading messages:",Gt),vt("Failed to load chat messages.");return}it(Kt||[])}catch(Rt){console.error("Error loading messages:",Rt),vt("Failed to load chat history.")}},[$]);reactExports.useEffect(()=>{et&&$&&_t()},[et,$,_t]),reactExports.useEffect(()=>{if(!ht)return;const Rt=supabase.channel(`chat_updates_${ht}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`session_id=eq.${ht}`},Ut=>{const Ct=Ut.new;it(Kt=>[...Kt,Ct])}).subscribe();return()=>{supabase.removeChannel(Rt)}},[ht]),reactExports.useEffect(()=>{Et()},[nt]);const Et=()=>{var Rt;(Rt=pt.current)==null||Rt.scrollIntoView({behavior:"smooth"})},Pt=async()=>{if(!(!ot.trim()||lt)){gt(!0),vt(null);try{const Rt={id:`temp-${Date.now()}`,role:"user",content:ot,created_at:new Date().toISOString(),session_id:ht||""};it(Ct=>[...Ct,Rt]);const Ut=ot;at(""),St.updateContext({chatSessionId:ht,currentText:s,currentWord:a,currentSpeed:o,readingSessionId:$}),await St.sendMessage(Ut)}catch(Rt){console.error("Error in AI chat:",Rt),vt("Failed to get AI response. Please try again."),it(Ut=>[...Ut,{id:`error-${Date.now()}`,role:"system",content:"Sorry, there was an error getting a response. Please try again.",created_at:new Date().toISOString(),session_id:ht||""}])}finally{gt(!1)}}},Mt=async()=>{if($){yt(!0);try{const Rt=await St.generateSummary($);ht?await supabase.rpc("add_chat_message",{p_session_id:ht,p_role:"system",p_content:`📝 Summary: ${Rt}`}):ut({title:"Summary",description:Rt,status:"info",duration:1e4,isClosable:!0})}catch(Rt){console.error("Error generating summary:",Rt),ut({title:"Error",description:"Failed to generate summary",status:"error",duration:3e3,isClosable:!0})}finally{yt(!1)}}};return jsxRuntimeExports.jsxs(Modal,{isOpen:et,onClose:rt,size:"xl",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:i?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Chat with AI"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(VStack,{spacing:4,align:"stretch",h:j?"60vh":"100%",bg:i?"gray.800":"white",children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",p:2,children:[jsxRuntimeExports.jsx(Text,{color:i?"white":"black",children:"Chat"}),jsxRuntimeExports.jsx(Tooltip,{label:"Generate summary of current context",children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Generate summary",icon:jsxRuntimeExports.jsx(EditIcon,{}),onClick:Mt,isLoading:ct,colorScheme:"blue",variant:"ghost",size:"sm"})})]}),dt&&jsxRuntimeExports.jsx(Box,{bg:"red.100",p:2,borderRadius:"md",children:jsxRuntimeExports.jsx(Text,{color:"red.800",children:dt})}),jsxRuntimeExports.jsxs(Box,{flex:"1",overflowY:"auto",p:4,bg:i?"gray.700":"gray.50",borderRadius:"md",maxH:"60vh",children:[nt.length===0?jsxRuntimeExports.jsx(Text,{color:i?"gray.400":"gray.500",textAlign:"center",children:"No messages yet. Start a conversation!"}):nt.map(Rt=>jsxRuntimeExports.jsxs(Box,{mb:4,p:3,borderRadius:"md",bg:Rt.role==="assistant"?i?"gray.600":"blue.50":Rt.role==="system"?i?"green.800":"green.50":"transparent",color:i?"white":"black",children:[jsxRuntimeExports.jsxs(Text,{fontWeight:Rt.role==="assistant"?"normal":"bold",children:[Rt.role==="assistant"?"AI":Rt.role==="system"?"System":"You",":"]}),jsxRuntimeExports.jsx(Text,{mt:1,children:Rt.content})]},Rt.id)),jsxRuntimeExports.jsx("div",{ref:pt})]}),jsxRuntimeExports.jsxs(HStack,{spacing:2,p:2,children:[jsxRuntimeExports.jsx(Input,{value:ot,onChange:Rt=>at(Rt.target.value),placeholder:"Type your message...",onKeyPress:Rt=>Rt.key==="Enter"&&Pt(),bg:i?"gray.700":"white",color:i?"white":"black",disabled:lt}),jsxRuntimeExports.jsx(Button,{onClick:Pt,isLoading:lt,loadingText:"Sending",colorScheme:"blue",disabled:!ot.trim()||lt,children:"Send"})]})]})})]})]})},SavedReadings=({userId:i,onSelect:s,isDarkMode:a})=>{const[o,_]=reactExports.useState([]),[$,j]=reactExports.useState(!0),[et,rt]=reactExports.useState(null),[nt,it]=reactExports.useState(!1),[ot,at]=reactExports.useState(!1),[lt,gt]=reactExports.useState(!1),[ct,yt]=reactExports.useState(""),[pt,ut]=reactExports.useState(!1),[ht,mt]=reactExports.useState(!1),dt=useToast();reactExports.useEffect(()=>{if(!i)return;(async()=>{try{const{data:Ut,error:Ct}=await getSavedReadings(i);if(Ct)throw Ct;_(Ut||[])}catch(Ut){console.error("Error fetching readings:",Ut),dt({title:"Error loading readings",description:Ut instanceof Error?Ut.message:"Failed to load saved readings",status:"error",duration:5e3,isClosable:!0})}finally{j(!1)}})()},[i,dt]);const vt=async(Rt,Ut)=>{if(Ut.stopPropagation(),!!i)try{const{error:Ct}=await deleteSavedReading(i,Rt);if(Ct)throw Ct;_(o.filter(Kt=>Kt.id!==Rt)),dt({title:"Reading deleted",status:"success",duration:2e3})}catch(Ct){console.error("Error deleting reading:",Ct),dt({title:"Error deleting reading",description:"Please try again",status:"error",duration:5e3,isClosable:!0})}},St=async Rt=>{rt(Rt),gt(!0),it(!0);try{const Ct=await new AIService({currentText:Rt.text_content||"",readingSessionId:Rt.id}).generateSummary(Rt.id,"medium",Kt=>{it(!1),setTimeout(()=>{it(!0)},100),dt({title:"Summary Saved",description:"Your summary has been saved and is now available.",status:"success",duration:2e3,isClosable:!0})});yt(Ct),dt({title:"Summary Generated",description:"Summary has been successfully generated.",status:"success",duration:3e3,isClosable:!0})}catch(Ut){console.error("Error generating summary:",Ut),dt({title:"Error",description:Ut instanceof Error?Ut.message:"Failed to generate summary",status:"error",duration:3e3,isClosable:!0})}finally{gt(!1)}},_t=Rt=>{rt(Rt),at(!0)},Et=Rt=>{rt(Rt),ut(!0)},Pt=Rt=>{rt(Rt),mt(!0)},Mt=async Rt=>{try{if(Rt.text_content){s(Rt.text_content,Rt.current_word_index,Rt.wpm,Rt.font_size);return}const{content:Ut,error:Ct}=await getReadingContent(Rt.id);if(Ct){dt({title:"Error loading reading content",description:"Could not load the reading content",status:"error",duration:5e3,isClosable:!0});return}if(!Ut){dt({title:"No content found",description:"This reading has no content",status:"warning",duration:5e3,isClosable:!0});return}s(Ut,Rt.current_word_index,Rt.wpm,Rt.font_size)}catch(Ut){console.error("Error loading reading content:",Ut),dt({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3,isClosable:!0})}};return i?jsxRuntimeExports.jsxs(Box,{w:"100%",maxW:"100%",children:[jsxRuntimeExports.jsxs(VStack,{align:"stretch",spacing:4,w:"100%",children:[jsxRuntimeExports.jsxs(Menu,{children:[jsxRuntimeExports.jsx(MenuButton,{as:Button,rightIcon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),colorScheme:"blue",variant:"outline",isLoading:$,w:"100%",mb:4,size:"sm",children:"📚 Saved Readings"}),jsxRuntimeExports.jsx(MenuList,{bg:a?"gray.800":"white",borderColor:a?"gray.600":"gray.200",maxW:"100%",maxH:"300px",overflowY:"auto",sx:{"&::-webkit-scrollbar":{width:"8px",borderRadius:"8px",backgroundColor:a?"gray.700":"gray.100"},"&::-webkit-scrollbar-thumb":{backgroundColor:a?"gray.600":"gray.300",borderRadius:"8px"}},children:o.length===0?jsxRuntimeExports.jsx(MenuItem,{isDisabled:!0,children:jsxRuntimeExports.jsx(Text,{color:a?"gray.400":"gray.500",children:"No saved readings yet"})}):o.map((Rt,Ut)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[Ut>0&&jsxRuntimeExports.jsx(MenuDivider,{}),jsxRuntimeExports.jsx(Box,{p:2,_hover:{bg:a?"gray.700":"gray.100"},role:"menuitem",cursor:"pointer",children:jsxRuntimeExports.jsxs(VStack,{align:"stretch",width:"100%",spacing:2,children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:a?"gray.400":"gray.500",children:new Date(Rt.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",fontWeight:"medium",color:a?"white":"black",children:Rt.title||"Untitled"})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",spacing:2,children:[jsxRuntimeExports.jsxs(Text,{fontSize:"xs",color:a?"gray.400":"gray.500",children:[new Date(Rt.created_at).toLocaleTimeString()," • ",Rt.wpm," WPM"]}),jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:a?"yellow.900":"yellow.100"},color:a?"yellow.200":"yellow.500",cursor:"pointer",onClick:Ct=>{Ct.stopPropagation(),Et(Rt)},children:jsxRuntimeExports.jsx(StarIcon,{boxSize:"3"})}),jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:a?"purple.900":"purple.100"},color:a?"purple.200":"purple.500",cursor:"pointer",onClick:Ct=>{Ct.stopPropagation(),_t(Rt)},children:jsxRuntimeExports.jsx(QuestionIcon,{boxSize:"3"})}),jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:a?"blue.900":"blue.100"},color:a?"blue.200":"blue.500",cursor:"pointer",onClick:Ct=>{Ct.stopPropagation(),Pt(Rt)},children:jsxRuntimeExports.jsx(ChatIcon,{boxSize:"3"})}),jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:a?"green.900":"green.100"},color:a?"green.200":"green.500",cursor:"pointer",onClick:Ct=>{Ct.stopPropagation(),St(Rt)},children:jsxRuntimeExports.jsx(EditIcon,{boxSize:"3"})}),jsxRuntimeExports.jsx(Box,{as:"span",p:1,borderRadius:"sm",_hover:{bg:a?"red.900":"red.100"},color:a?"red.200":"red.500",cursor:"pointer",onClick:Ct=>vt(Rt.id,Ct),children:jsxRuntimeExports.jsx(DeleteIcon,{boxSize:"3"})})]})]}),jsxRuntimeExports.jsx(Box,{as:"div",fontSize:"xs",py:1,px:2,bg:"blue.500",color:"white",borderRadius:"md",textAlign:"center",fontWeight:"medium",cursor:"pointer",_hover:{bg:"blue.600"},onClick:Ct=>{Ct.stopPropagation(),Mt(Rt)},children:"Load Reading"})]})})]},Rt.id))})]}),!et&&jsxRuntimeExports.jsx(SummariesList,{userId:i,isDarkMode:a,isOpen:!0,onClose:()=>{},readingId:""})]}),et&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(QuizModal,{isOpen:ot,onClose:()=>at(!1),readingId:et.id,userId:i,textContent:et.text_content||"",isDarkMode:a}),jsxRuntimeExports.jsx(QuizAnalytics,{isOpen:pt,onClose:()=>ut(!1),readingId:et.id,userId:i,isDarkMode:a}),jsxRuntimeExports.jsx(SummariesList,{isOpen:nt,onClose:()=>{it(!1),rt(null)},readingId:et.id,userId:i,isDarkMode:a}),jsxRuntimeExports.jsx(ChatModal,{isOpen:ht,onClose:()=>mt(!1),isDarkMode:a,currentText:et.text_content||"",currentWord:et.text_content&&et.text_content.split(" ")[et.current_word_index]||"",currentSpeed:et.wpm,documentId:et.document_id,readingSessionId:et.id})]})]}):null};var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,s){(function(){var a,o="4.17.21",_=200,$="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",j="Expected a function",et="Invalid `variable` option passed into `_.template`",rt="__lodash_hash_undefined__",nt=500,it="__lodash_placeholder__",ot=1,at=2,lt=4,gt=1,ct=2,yt=1,pt=2,ut=4,ht=8,mt=16,dt=32,vt=64,St=128,_t=256,Et=512,Pt=30,Mt="...",Rt=800,Ut=16,Ct=1,Kt=2,Gt=3,It=1/0,jt=9007199254740991,$t=17976931348623157e292,Jt=NaN,Wt=4294967295,tr=Wt-1,mr=Wt>>>1,Yt=[["ary",St],["bind",yt],["bindKey",pt],["curry",ht],["curryRight",mt],["flip",Et],["partial",dt],["partialRight",vt],["rearg",_t]],kt="[object Arguments]",Ft="[object Array]",er="[object AsyncFunction]",Zt="[object Boolean]",At="[object Date]",Ot="[object DOMException]",Dt="[object Error]",zt="[object Function]",Xt="[object GeneratorFunction]",wt="[object Map]",Vt="[object Number]",qt="[object Null]",Nt="[object Object]",Bt="[object Promise]",Qt="[object Proxy]",sr="[object RegExp]",lr="[object Set]",ar="[object String]",vr="[object Symbol]",_r="[object Undefined]",Cr="[object WeakMap]",Er="[object WeakSet]",qr="[object ArrayBuffer]",Ur="[object DataView]",Vr="[object Float32Array]",Dr="[object Float64Array]",hr="[object Int8Array]",Or="[object Int16Array]",Wr="[object Int32Array]",gn="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Nr="[object Uint16Array]",Jr="[object Uint32Array]",wr=/\b__p \+= '';/g,dr=/\b(__p \+=) '' \+/g,fr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,Qr=RegExp(Rr.source),Pr=RegExp(Yr.source),br=/<%-([\s\S]+?)%>/g,Lr=/<%([\s\S]+?)%>/g,Hr=/<%=([\s\S]+?)%>/g,nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/,sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/[\\^$.*+?()[\]{}|]/g,en=RegExp(hn.source),xn=/^\s+/,Bn=/\s/,vn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rn=/\{\n\/\* \[wrapped with (.+)\] \*/,Vn=/,? & /,Fn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yn=/[()=,{}\[\]\/\s]/,jn=/\\(\\)?/g,rs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ms=/\w*$/,us=/^[-+]0x[0-9a-f]+$/i,xa=/^0b[01]+$/i,lo=/^\[object .+?Constructor\]$/,$a=/^0o[0-7]+$/i,cs=/^(?:0|[1-9]\d*)$/,bs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ks=/($^)/,uo=/['\n\r\u2028\u2029\\]/g,ms="\\ud800-\\udfff",du="\\u0300-\\u036f",co="\\ufe20-\\ufe2f",Ll="\\u20d0-\\u20ff",Po=du+co+Ll,Nl="\\u2700-\\u27bf",Bl="a-z\\xdf-\\xf6\\xf8-\\xff",zl="\\xac\\xb1\\xd7\\xf7",fu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hu="\\u2000-\\u206f",Wl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xo="A-Z\\xc0-\\xd6\\xd8-\\xde",pu="\\ufe0e\\ufe0f",mu=zl+fu+hu+Wl,Ul="['’]",Gu="["+ms+"]",Vl="["+mu+"]",Ds="["+Po+"]",Ro="\\d+",fo="["+Nl+"]",ho="["+Bl+"]",Io="[^"+ms+mu+Ro+Nl+Bl+Xo+"]",ns="\\ud83c[\\udffb-\\udfff]",gu="(?:"+Ds+"|"+ns+")",Qo="[^"+ms+"]",Zo="(?:\\ud83c[\\udde6-\\uddff]){2}",eo="[\\ud800-\\udbff][\\udc00-\\udfff]",Ls="["+Xo+"]",Hl="\\u200d",vu="(?:"+ho+"|"+Io+")",Gl="(?:"+Ls+"|"+Io+")",Jo="(?:"+Ul+"(?:d|ll|m|re|s|t|ve))?",po="(?:"+Ul+"(?:D|LL|M|RE|S|T|VE))?",yu=gu+"?",$o="["+pu+"]?",Kl="(?:"+Hl+"(?:"+[Qo,Zo,eo].join("|")+")"+$o+yu+")*",yl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bu=$o+yu+Kl,Yl="(?:"+[fo,Zo,eo].join("|")+")"+bu,Oo="(?:"+[Qo+Ds+"?",Ds,Zo,eo,Gu].join("|")+")",js=RegExp(Ul,"g"),ds=RegExp(Ds,"g"),Ks=RegExp(ns+"(?="+ns+")|"+Oo+bu,"g"),qu=RegExp([Ls+"?"+ho+"+"+Jo+"(?="+[Vl,Ls,"$"].join("|")+")",Gl+"+"+po+"(?="+[Vl,Ls+vu,"$"].join("|")+")",Ls+"?"+vu+"+"+Jo,Ls+"+"+po,Sl,yl,Ro,Yl].join("|"),"g"),Xl=RegExp("["+Hl+ms+Po+pu+"]"),xl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_l=-1,In={};In[Vr]=In[Dr]=In[hr]=In[Or]=In[Wr]=In[gn]=In[Ar]=In[Nr]=In[Jr]=!0,In[kt]=In[Ft]=In[qr]=In[Zt]=In[Ur]=In[At]=In[Dt]=In[zt]=In[wt]=In[Vt]=In[Nt]=In[sr]=In[lr]=In[ar]=In[Cr]=!1;var Mn={};Mn[kt]=Mn[Ft]=Mn[qr]=Mn[Ur]=Mn[Zt]=Mn[At]=Mn[Vr]=Mn[Dr]=Mn[hr]=Mn[Or]=Mn[Wr]=Mn[wt]=Mn[Vt]=Mn[Nt]=Mn[sr]=Mn[lr]=Mn[ar]=Mn[vr]=Mn[gn]=Mn[Ar]=Mn[Nr]=Mn[Jr]=!0,Mn[Dt]=Mn[zt]=Mn[Cr]=!1;var Ku={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ir={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xr=parseFloat,_n=parseInt,$n=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Nn=typeof self=="object"&&self&&self.Object===Object&&self,an=$n||Nn||Function("return this")(),Cn=s&&!s.nodeType&&s,Xn=Cn&&!0&&i&&!i.nodeType&&i,os=Xn&&Xn.exports===Cn,Ys=os&&$n.process,qn=function(){try{var Sr=Xn&&Xn.require&&Xn.require("util").types;return Sr||Ys&&Ys.binding&&Ys.binding("util")}catch{}}(),Ns=qn&&qn.isArrayBuffer,go=qn&&qn.isDate,Yu=qn&&qn.isMap,kp=qn&&qn.isRegExp,Su=qn&&qn.isSet,xu=qn&&qn.isTypedArray;function fs(Sr,$r,Tr){switch(Tr.length){case 0:return Sr.call($r);case 1:return Sr.call($r,Tr[0]);case 2:return Sr.call($r,Tr[0],Tr[1]);case 3:return Sr.call($r,Tr[0],Tr[1],Tr[2])}return Sr.apply($r,Tr)}function mm(Sr,$r,Tr,Kr){for(var cn=-1,Pn=Sr==null?0:Sr.length;++cn<Pn;){var Hn=Sr[cn];$r(Kr,Hn,Tr(Hn),Sr)}return Kr}function Ts(Sr,$r){for(var Tr=-1,Kr=Sr==null?0:Sr.length;++Tr<Kr&&$r(Sr[Tr],Tr,Sr)!==!1;);return Sr}function gm(Sr,$r){for(var Tr=Sr==null?0:Sr.length;Tr--&&$r(Sr[Tr],Tr,Sr)!==!1;);return Sr}function Tp(Sr,$r){for(var Tr=-1,Kr=Sr==null?0:Sr.length;++Tr<Kr;)if(!$r(Sr[Tr],Tr,Sr))return!1;return!0}function is(Sr,$r){for(var Tr=-1,Kr=Sr==null?0:Sr.length,cn=0,Pn=[];++Tr<Kr;){var Hn=Sr[Tr];$r(Hn,Tr,Sr)&&(Pn[cn++]=Hn)}return Pn}function _u(Sr,$r){var Tr=Sr==null?0:Sr.length;return!!Tr&&El(Sr,$r,0)>-1}function Xu(Sr,$r,Tr){for(var Kr=-1,cn=Sr==null?0:Sr.length;++Kr<cn;)if(Tr($r,Sr[Kr]))return!0;return!1}function zn(Sr,$r){for(var Tr=-1,Kr=Sr==null?0:Sr.length,cn=Array(Kr);++Tr<Kr;)cn[Tr]=$r(Sr[Tr],Tr,Sr);return cn}function Bs(Sr,$r){for(var Tr=-1,Kr=$r.length,cn=Sr.length;++Tr<Kr;)Sr[cn+Tr]=$r[Tr];return Sr}function Ql(Sr,$r,Tr,Kr){var cn=-1,Pn=Sr==null?0:Sr.length;for(Kr&&Pn&&(Tr=Sr[++cn]);++cn<Pn;)Tr=$r(Tr,Sr[cn],cn,Sr);return Tr}function to(Sr,$r,Tr,Kr){var cn=Sr==null?0:Sr.length;for(Kr&&cn&&(Tr=Sr[--cn]);cn--;)Tr=$r(Tr,Sr[cn],cn,Sr);return Tr}function ro(Sr,$r){for(var Tr=-1,Kr=Sr==null?0:Sr.length;++Tr<Kr;)if($r(Sr[Tr],Tr,Sr))return!0;return!1}var vm=vo("length");function Pp(Sr){return Sr.split("")}function ym(Sr){return Sr.match(Fn)||[]}function Rp(Sr,$r,Tr){var Kr;return Tr(Sr,function(cn,Pn,Hn){if($r(cn,Pn,Hn))return Kr=Pn,!1}),Kr}function Zl(Sr,$r,Tr,Kr){for(var cn=Sr.length,Pn=Tr+(Kr?1:-1);Kr?Pn--:++Pn<cn;)if($r(Sr[Pn],Pn,Sr))return Pn;return-1}function El(Sr,$r,Tr){return $r===$r?sp(Sr,$r,Tr):Zl(Sr,Qu,Tr)}function Ip(Sr,$r,Tr,Kr){for(var cn=Tr-1,Pn=Sr.length;++cn<Pn;)if(Kr(Sr[cn],$r))return cn;return-1}function Qu(Sr){return Sr!==Sr}function Zu(Sr,$r){var Tr=Sr==null?0:Sr.length;return Tr?Cl(Sr,$r)/Tr:Jt}function vo(Sr){return function($r){return $r==null?a:$r[Sr]}}function Jl(Sr){return function($r){return Sr==null?a:Sr[$r]}}function Ju(Sr,$r,Tr,Kr,cn){return cn(Sr,function(Pn,Hn,kn){Tr=Kr?(Kr=!1,Pn):$r(Tr,Pn,Hn,kn)}),Tr}function bm(Sr,$r){var Tr=Sr.length;for(Sr.sort($r);Tr--;)Sr[Tr]=Sr[Tr].value;return Sr}function Cl(Sr,$r){for(var Tr,Kr=-1,cn=Sr.length;++Kr<cn;){var Pn=$r(Sr[Kr]);Pn!==a&&(Tr=Tr===a?Pn:Tr+Pn)}return Tr}function ep(Sr,$r){for(var Tr=-1,Kr=Array(Sr);++Tr<Sr;)Kr[Tr]=$r(Tr);return Kr}function Sm(Sr,$r){return zn($r,function(Tr){return[Tr,Sr[Tr]]})}function tp(Sr){return Sr&&Sr.slice(0,Lp(Sr)+1).replace(xn,"")}function Ss(Sr){return function($r){return Sr($r)}}function Al(Sr,$r){return zn($r,function(Tr){return Sr[Tr]})}function no(Sr,$r){return Sr.has($r)}function $p(Sr,$r){for(var Tr=-1,Kr=Sr.length;++Tr<Kr&&El($r,Sr[Tr],0)>-1;);return Tr}function Op(Sr,$r){for(var Tr=Sr.length;Tr--&&El($r,Sr[Tr],0)>-1;);return Tr}function rp(Sr,$r){for(var Tr=Sr.length,Kr=0;Tr--;)Sr[Tr]===$r&&++Kr;return Kr}var Fp=Jl(Ku),wu=Jl(or);function np(Sr){return"\\"+Ir[Sr]}function Fo(Sr,$r){return Sr==null?a:Sr[$r]}function Xs(Sr){return Xl.test(Sr)}function Eu(Sr){return xl.test(Sr)}function Mp(Sr){for(var $r,Tr=[];!($r=Sr.next()).done;)Tr.push($r.value);return Tr}function ip(Sr){var $r=-1,Tr=Array(Sr.size);return Sr.forEach(function(Kr,cn){Tr[++$r]=[cn,Kr]}),Tr}function Cu(Sr,$r){return function(Tr){return Sr($r(Tr))}}function yo(Sr,$r){for(var Tr=-1,Kr=Sr.length,cn=0,Pn=[];++Tr<Kr;){var Hn=Sr[Tr];(Hn===$r||Hn===it)&&(Sr[Tr]=it,Pn[cn++]=Tr)}return Pn}function eu(Sr){var $r=-1,Tr=Array(Sr.size);return Sr.forEach(function(Kr){Tr[++$r]=Kr}),Tr}function Au(Sr){var $r=-1,Tr=Array(Sr.size);return Sr.forEach(function(Kr){Tr[++$r]=[Kr,Kr]}),Tr}function sp(Sr,$r,Tr){for(var Kr=Tr-1,cn=Sr.length;++Kr<cn;)if(Sr[Kr]===$r)return Kr;return-1}function Dp(Sr,$r,Tr){for(var Kr=Tr+1;Kr--;)if(Sr[Kr]===$r)return Kr;return Kr}function Mo(Sr){return Xs(Sr)?xm(Sr):vm(Sr)}function zs(Sr){return Xs(Sr)?op(Sr):Pp(Sr)}function Lp(Sr){for(var $r=Sr.length;$r--&&Bn.test(Sr.charAt($r)););return $r}var ap=Jl(yr);function xm(Sr){for(var $r=Ks.lastIndex=0;Ks.test(Sr);)++$r;return $r}function op(Sr){return Sr.match(Ks)||[]}function _m(Sr){return Sr.match(qu)||[]}var wm=function Sr($r){$r=$r==null?an:Tl.defaults(an.Object(),$r,Tl.pick(an,mo));var Tr=$r.Array,Kr=$r.Date,cn=$r.Error,Pn=$r.Function,Hn=$r.Math,kn=$r.Object,bo=$r.RegExp,Ws=$r.String,gs=$r.TypeError,ku=Tr.prototype,Pl=Pn.prototype,Do=kn.prototype,Tu=$r["__core-js_shared__"],Lo=Pl.toString,Dn=Do.hasOwnProperty,Em=0,jp=function(){var tt=/[^.]+$/.exec(Tu&&Tu.keys&&Tu.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}(),Pu=Do.toString,Cm=Lo.call(kn),Am=an._,km=bo("^"+Lo.call(Dn).replace(hn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ru=os?$r.Buffer:a,So=$r.Symbol,Iu=$r.Uint8Array,Np=Ru?Ru.allocUnsafe:a,$u=Cu(kn.getPrototypeOf,kn),Bp=kn.create,lp=Do.propertyIsEnumerable,Ou=ku.splice,zp=So?So.isConcatSpreadable:a,Qn=So?So.iterator:a,Us=So?So.toStringTag:a,tu=function(){try{var tt=lu(kn,"defineProperty");return tt({},"",{}),tt}catch{}}(),up=$r.clearTimeout!==an.clearTimeout&&$r.clearTimeout,xo=Kr&&Kr.now!==an.Date.now&&Kr.now,_o=$r.setTimeout!==an.setTimeout&&$r.setTimeout,vs=Hn.ceil,wo=Hn.floor,Fu=kn.getOwnPropertySymbols,jo=Ru?Ru.isBuffer:a,cp=$r.isFinite,Wp=ku.join,Mu=Cu(kn.keys,kn),Zn=Hn.max,ss=Hn.min,Up=Kr.now,Du=$r.parseInt,dp=Hn.random,Vp=ku.reverse,fp=lu($r,"DataView"),ru=lu($r,"Map"),hp=lu($r,"Promise"),Rl=lu($r,"Set"),nu=lu($r,"WeakMap"),Eo=lu(kn,"create"),Lu=nu&&new nu,No={},Hp=uu(fp),pp=uu(ru),mp=uu(hp),ju=uu(Rl),Co=uu(nu),Bo=So?So.prototype:a,iu=Bo?Bo.valueOf:a,Gp=Bo?Bo.toString:a;function rr(tt){if(_i(tt)&&!yn(tt)&&!(tt instanceof En)){if(tt instanceof xs)return tt;if(Dn.call(tt,"__wrapped__"))return yy(tt)}return new xs(tt)}var zo=function(){function tt(){}return function(st){if(!Kn(st))return{};if(Bp)return Bp(st);tt.prototype=st;var bt=new tt;return tt.prototype=a,bt}}();function Nu(){}function xs(tt,st){this.__wrapped__=tt,this.__actions__=[],this.__chain__=!!st,this.__index__=0,this.__values__=a}rr.templateSettings={escape:br,evaluate:Lr,interpolate:Hr,variable:"",imports:{_:rr}},rr.prototype=Nu.prototype,rr.prototype.constructor=rr,xs.prototype=zo(Nu.prototype),xs.prototype.constructor=xs;function En(tt){this.__wrapped__=tt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wt,this.__views__=[]}function Tm(){var tt=new En(this.__wrapped__);return tt.__actions__=Is(this.__actions__),tt.__dir__=this.__dir__,tt.__filtered__=this.__filtered__,tt.__iteratees__=Is(this.__iteratees__),tt.__takeCount__=this.__takeCount__,tt.__views__=Is(this.__views__),tt}function Pm(){if(this.__filtered__){var tt=new En(this);tt.__dir__=-1,tt.__filtered__=!0}else tt=this.clone(),tt.__dir__*=-1;return tt}function Rm(){var tt=this.__wrapped__.value(),st=this.__dir__,bt=yn(tt),Tt=st<0,Ht=bt?tt.length:0,nr=N0(0,Ht,this.__views__),ur=nr.start,gr=nr.end,xr=gr-ur,Fr=Tt?gr:ur-1,Mr=this.__iteratees__,jr=Mr.length,Gr=0,tn=ss(xr,this.__takeCount__);if(!bt||!Tt&&Ht==xr&&tn==xr)return zv(tt,this.__actions__);var dn=[];e:for(;xr--&&Gr<tn;){Fr+=st;for(var Sn=-1,fn=tt[Fr];++Sn<jr;){var An=Mr[Sn],Tn=An.iteratee,Gs=An.type,As=Tn(fn);if(Gs==Kt)fn=As;else if(!As){if(Gs==Ct)continue e;break e}}dn[Gr++]=fn}return dn}En.prototype=zo(Nu.prototype),En.prototype.constructor=En;function Wo(tt){var st=-1,bt=tt==null?0:tt.length;for(this.clear();++st<bt;){var Tt=tt[st];this.set(Tt[0],Tt[1])}}function Im(){this.__data__=Eo?Eo(null):{},this.size=0}function Bu(tt){var st=this.has(tt)&&delete this.__data__[tt];return this.size-=st?1:0,st}function gp(tt){var st=this.__data__;if(Eo){var bt=st[tt];return bt===rt?a:bt}return Dn.call(st,tt)?st[tt]:a}function Il(tt){var st=this.__data__;return Eo?st[tt]!==a:Dn.call(st,tt)}function qp(tt,st){var bt=this.__data__;return this.size+=this.has(tt)?0:1,bt[tt]=Eo&&st===a?rt:st,this}Wo.prototype.clear=Im,Wo.prototype.delete=Bu,Wo.prototype.get=gp,Wo.prototype.has=Il,Wo.prototype.set=qp;function ft(tt){var st=-1,bt=tt==null?0:tt.length;for(this.clear();++st<bt;){var Tt=tt[st];this.set(Tt[0],Tt[1])}}function xt(){this.__data__=[],this.size=0}function Lt(tt){var st=this.__data__,bt=so(st,tt);if(bt<0)return!1;var Tt=st.length-1;return bt==Tt?st.pop():Ou.call(st,bt,1),--this.size,!0}function ir(tt){var st=this.__data__,bt=so(st,tt);return bt<0?a:st[bt][1]}function cr(tt){return so(this.__data__,tt)>-1}function pr(tt,st){var bt=this.__data__,Tt=so(bt,tt);return Tt<0?(++this.size,bt.push([tt,st])):bt[Tt][1]=st,this}ft.prototype.clear=xt,ft.prototype.delete=Lt,ft.prototype.get=ir,ft.prototype.has=cr,ft.prototype.set=pr;function kr(tt){var st=-1,bt=tt==null?0:tt.length;for(this.clear();++st<bt;){var Tt=tt[st];this.set(Tt[0],Tt[1])}}function zr(){this.size=0,this.__data__={hash:new Wo,map:new(ru||ft),string:new Wo}}function Zr(tt){var st=sm(this,tt).delete(tt);return this.size-=st?1:0,st}function Br(tt){return sm(this,tt).get(tt)}function on(tt){return sm(this,tt).has(tt)}function mn(tt,st){var bt=sm(this,tt),Tt=bt.size;return bt.set(tt,st),this.size+=bt.size==Tt?0:1,this}kr.prototype.clear=zr,kr.prototype.delete=Zr,kr.prototype.get=Br,kr.prototype.has=on,kr.prototype.set=mn;function pn(tt){var st=-1,bt=tt==null?0:tt.length;for(this.__data__=new kr;++st<bt;)this.add(tt[st])}function Jn(tt){return this.__data__.set(tt,rt),this}function _s(tt){return this.__data__.has(tt)}pn.prototype.add=pn.prototype.push=Jn,pn.prototype.has=_s;function Gn(tt){var st=this.__data__=new ft(tt);this.size=st.size}function Qs(){this.__data__=new ft,this.size=0}function as(tt){var st=this.__data__,bt=st.delete(tt);return this.size=st.size,bt}function Zs(tt){return this.__data__.get(tt)}function ws(tt){return this.__data__.has(tt)}function io(tt,st){var bt=this.__data__;if(bt instanceof ft){var Tt=bt.__data__;if(!ru||Tt.length<_-1)return Tt.push([tt,st]),this.size=++bt.size,this;bt=this.__data__=new kr(Tt)}return bt.set(tt,st),this.size=bt.size,this}Gn.prototype.clear=Qs,Gn.prototype.delete=as,Gn.prototype.get=Zs,Gn.prototype.has=ws,Gn.prototype.set=io;function Wn(tt,st){var bt=yn(tt),Tt=!bt&&cu(tt),Ht=!bt&&!Tt&&Dl(tt),nr=!bt&&!Tt&&!Ht&&Vu(tt),ur=bt||Tt||Ht||nr,gr=ur?ep(tt.length,Ws):[],xr=gr.length;for(var Fr in tt)(st||Dn.call(tt,Fr))&&!(ur&&(Fr=="length"||Ht&&(Fr=="offset"||Fr=="parent")||nr&&(Fr=="buffer"||Fr=="byteLength"||Fr=="byteOffset")||Go(Fr,xr)))&&gr.push(Fr);return gr}function ln(tt){var st=tt.length;return st?tt[zm(0,st-1)]:a}function On(tt,st){return am(Is(tt),au(st,0,tt.length))}function Un(tt){return am(Is(tt))}function Ps(tt,st,bt){(bt!==a&&!ao(tt[st],bt)||bt===a&&!(st in tt))&&Uo(tt,st,bt)}function Rs(tt,st,bt){var Tt=tt[st];(!(Dn.call(tt,st)&&ao(Tt,bt))||bt===a&&!(st in tt))&&Uo(tt,st,bt)}function so(tt,st){for(var bt=tt.length;bt--;)if(ao(tt[bt][0],st))return bt;return-1}function su(tt,st,bt,Tt){return $l(tt,function(Ht,nr,ur){st(Tt,Ht,bt(Ht),ur)}),Tt}function vp(tt,st){return tt&&ko(st,ls(st),tt)}function yp(tt,st){return tt&&ko(st,Os(st),tt)}function Uo(tt,st,bt){st=="__proto__"&&tu?tu(tt,st,{configurable:!0,enumerable:!0,value:bt,writable:!0}):tt[st]=bt}function $m(tt,st){for(var bt=-1,Tt=st.length,Ht=Tr(Tt),nr=tt==null;++bt<Tt;)Ht[bt]=nr?a:fv(tt,st[bt]);return Ht}function au(tt,st,bt){return tt===tt&&(bt!==a&&(tt=tt<=bt?tt:bt),st!==a&&(tt=tt>=st?tt:st)),tt}function Js(tt,st,bt,Tt,Ht,nr){var ur,gr=st&ot,xr=st&at,Fr=st&lt;if(bt&&(ur=Ht?bt(tt,Tt,Ht,nr):bt(tt)),ur!==a)return ur;if(!Kn(tt))return tt;var Mr=yn(tt);if(Mr){if(ur=z0(tt),!gr)return Is(tt,ur)}else{var jr=ys(tt),Gr=jr==zt||jr==Xt;if(Dl(tt))return Vv(tt,gr);if(jr==Nt||jr==kt||Gr&&!Ht){if(ur=xr||Gr?{}:uy(tt),!gr)return xr?R0(tt,yp(ur,tt)):P0(tt,vp(ur,tt))}else{if(!Mn[jr])return Ht?tt:{};ur=W0(tt,jr,gr)}}nr||(nr=new Gn);var tn=nr.get(tt);if(tn)return tn;nr.set(tt,ur),jy(tt)?tt.forEach(function(fn){ur.add(Js(fn,st,bt,fn,tt,nr))}):Dy(tt)&&tt.forEach(function(fn,An){ur.set(An,Js(fn,st,bt,An,tt,nr))});var dn=Fr?xr?Zm:Qm:xr?Os:ls,Sn=Mr?a:dn(tt);return Ts(Sn||tt,function(fn,An){Sn&&(An=fn,fn=tt[An]),Rs(ur,An,Js(fn,st,bt,An,tt,nr))}),ur}function e0(tt){var st=ls(tt);return function(bt){return xv(bt,tt,st)}}function xv(tt,st,bt){var Tt=bt.length;if(tt==null)return!Tt;for(tt=kn(tt);Tt--;){var Ht=bt[Tt],nr=st[Ht],ur=tt[Ht];if(ur===a&&!(Ht in tt)||!nr(ur))return!1}return!0}function _v(tt,st,bt){if(typeof tt!="function")throw new gs(j);return Cp(function(){tt.apply(a,bt)},st)}function bp(tt,st,bt,Tt){var Ht=-1,nr=_u,ur=!0,gr=tt.length,xr=[],Fr=st.length;if(!gr)return xr;bt&&(st=zn(st,Ss(bt))),Tt?(nr=Xu,ur=!1):st.length>=_&&(nr=no,ur=!1,st=new pn(st));e:for(;++Ht<gr;){var Mr=tt[Ht],jr=bt==null?Mr:bt(Mr);if(Mr=Tt||Mr!==0?Mr:0,ur&&jr===jr){for(var Gr=Fr;Gr--;)if(st[Gr]===jr)continue e;xr.push(Mr)}else nr(st,jr,Tt)||xr.push(Mr)}return xr}var $l=Yv(Ao),wv=Yv(Fm,!0);function t0(tt,st){var bt=!0;return $l(tt,function(Tt,Ht,nr){return bt=!!st(Tt,Ht,nr),bt}),bt}function Kp(tt,st,bt){for(var Tt=-1,Ht=tt.length;++Tt<Ht;){var nr=tt[Tt],ur=st(nr);if(ur!=null&&(gr===a?ur===ur&&!Hs(ur):bt(ur,gr)))var gr=ur,xr=nr}return xr}function r0(tt,st,bt,Tt){var Ht=tt.length;for(bt=bn(bt),bt<0&&(bt=-bt>Ht?0:Ht+bt),Tt=Tt===a||Tt>Ht?Ht:bn(Tt),Tt<0&&(Tt+=Ht),Tt=bt>Tt?0:By(Tt);bt<Tt;)tt[bt++]=st;return tt}function Ev(tt,st){var bt=[];return $l(tt,function(Tt,Ht,nr){st(Tt,Ht,nr)&&bt.push(Tt)}),bt}function hs(tt,st,bt,Tt,Ht){var nr=-1,ur=tt.length;for(bt||(bt=V0),Ht||(Ht=[]);++nr<ur;){var gr=tt[nr];st>0&&bt(gr)?st>1?hs(gr,st-1,bt,Tt,Ht):Bs(Ht,gr):Tt||(Ht[Ht.length]=gr)}return Ht}var Om=Xv(),Cv=Xv(!0);function Ao(tt,st){return tt&&Om(tt,st,ls)}function Fm(tt,st){return tt&&Cv(tt,st,ls)}function Yp(tt,st){return is(st,function(bt){return qo(tt[bt])})}function ou(tt,st){st=Fl(st,tt);for(var bt=0,Tt=st.length;tt!=null&&bt<Tt;)tt=tt[To(st[bt++])];return bt&&bt==Tt?tt:a}function Av(tt,st,bt){var Tt=st(tt);return yn(tt)?Tt:Bs(Tt,bt(tt))}function Es(tt){return tt==null?tt===a?_r:qt:Us&&Us in kn(tt)?j0(tt):Q0(tt)}function Mm(tt,st){return tt>st}function n0(tt,st){return tt!=null&&Dn.call(tt,st)}function i0(tt,st){return tt!=null&&st in kn(tt)}function s0(tt,st,bt){return tt>=ss(st,bt)&&tt<Zn(st,bt)}function Dm(tt,st,bt){for(var Tt=bt?Xu:_u,Ht=tt[0].length,nr=tt.length,ur=nr,gr=Tr(nr),xr=1/0,Fr=[];ur--;){var Mr=tt[ur];ur&&st&&(Mr=zn(Mr,Ss(st))),xr=ss(Mr.length,xr),gr[ur]=!bt&&(st||Ht>=120&&Mr.length>=120)?new pn(ur&&Mr):a}Mr=tt[0];var jr=-1,Gr=gr[0];e:for(;++jr<Ht&&Fr.length<xr;){var tn=Mr[jr],dn=st?st(tn):tn;if(tn=bt||tn!==0?tn:0,!(Gr?no(Gr,dn):Tt(Fr,dn,bt))){for(ur=nr;--ur;){var Sn=gr[ur];if(!(Sn?no(Sn,dn):Tt(tt[ur],dn,bt)))continue e}Gr&&Gr.push(dn),Fr.push(tn)}}return Fr}function a0(tt,st,bt,Tt){return Ao(tt,function(Ht,nr,ur){st(Tt,bt(Ht),nr,ur)}),Tt}function Sp(tt,st,bt){st=Fl(st,tt),tt=hy(tt,st);var Tt=tt==null?tt:tt[To(ga(st))];return Tt==null?a:fs(Tt,tt,bt)}function kv(tt){return _i(tt)&&Es(tt)==kt}function o0(tt){return _i(tt)&&Es(tt)==qr}function l0(tt){return _i(tt)&&Es(tt)==At}function xp(tt,st,bt,Tt,Ht){return tt===st?!0:tt==null||st==null||!_i(tt)&&!_i(st)?tt!==tt&&st!==st:u0(tt,st,bt,Tt,xp,Ht)}function u0(tt,st,bt,Tt,Ht,nr){var ur=yn(tt),gr=yn(st),xr=ur?Ft:ys(tt),Fr=gr?Ft:ys(st);xr=xr==kt?Nt:xr,Fr=Fr==kt?Nt:Fr;var Mr=xr==Nt,jr=Fr==Nt,Gr=xr==Fr;if(Gr&&Dl(tt)){if(!Dl(st))return!1;ur=!0,Mr=!1}if(Gr&&!Mr)return nr||(nr=new Gn),ur||Vu(tt)?ay(tt,st,bt,Tt,Ht,nr):D0(tt,st,xr,bt,Tt,Ht,nr);if(!(bt&gt)){var tn=Mr&&Dn.call(tt,"__wrapped__"),dn=jr&&Dn.call(st,"__wrapped__");if(tn||dn){var Sn=tn?tt.value():tt,fn=dn?st.value():st;return nr||(nr=new Gn),Ht(Sn,fn,bt,Tt,nr)}}return Gr?(nr||(nr=new Gn),L0(tt,st,bt,Tt,Ht,nr)):!1}function c0(tt){return _i(tt)&&ys(tt)==wt}function Lm(tt,st,bt,Tt){var Ht=bt.length,nr=Ht,ur=!Tt;if(tt==null)return!nr;for(tt=kn(tt);Ht--;){var gr=bt[Ht];if(ur&&gr[2]?gr[1]!==tt[gr[0]]:!(gr[0]in tt))return!1}for(;++Ht<nr;){gr=bt[Ht];var xr=gr[0],Fr=tt[xr],Mr=gr[1];if(ur&&gr[2]){if(Fr===a&&!(xr in tt))return!1}else{var jr=new Gn;if(Tt)var Gr=Tt(Fr,Mr,xr,tt,st,jr);if(!(Gr===a?xp(Mr,Fr,gt|ct,Tt,jr):Gr))return!1}}return!0}function Tv(tt){if(!Kn(tt)||G0(tt))return!1;var st=qo(tt)?km:lo;return st.test(uu(tt))}function d0(tt){return _i(tt)&&Es(tt)==sr}function f0(tt){return _i(tt)&&ys(tt)==lr}function h0(tt){return _i(tt)&&fm(tt.length)&&!!In[Es(tt)]}function Pv(tt){return typeof tt=="function"?tt:tt==null?Fs:typeof tt=="object"?yn(tt)?$v(tt[0],tt[1]):Iv(tt):Qy(tt)}function jm(tt){if(!Ep(tt))return Mu(tt);var st=[];for(var bt in kn(tt))Dn.call(tt,bt)&&bt!="constructor"&&st.push(bt);return st}function p0(tt){if(!Kn(tt))return X0(tt);var st=Ep(tt),bt=[];for(var Tt in tt)Tt=="constructor"&&(st||!Dn.call(tt,Tt))||bt.push(Tt);return bt}function Nm(tt,st){return tt<st}function Rv(tt,st){var bt=-1,Tt=$s(tt)?Tr(tt.length):[];return $l(tt,function(Ht,nr,ur){Tt[++bt]=st(Ht,nr,ur)}),Tt}function Iv(tt){var st=ev(tt);return st.length==1&&st[0][2]?dy(st[0][0],st[0][1]):function(bt){return bt===tt||Lm(bt,tt,st)}}function $v(tt,st){return rv(tt)&&cy(st)?dy(To(tt),st):function(bt){var Tt=fv(bt,tt);return Tt===a&&Tt===st?hv(bt,tt):xp(st,Tt,gt|ct)}}function Xp(tt,st,bt,Tt,Ht){tt!==st&&Om(st,function(nr,ur){if(Ht||(Ht=new Gn),Kn(nr))m0(tt,st,ur,bt,Xp,Tt,Ht);else{var gr=Tt?Tt(iv(tt,ur),nr,ur+"",tt,st,Ht):a;gr===a&&(gr=nr),Ps(tt,ur,gr)}},Os)}function m0(tt,st,bt,Tt,Ht,nr,ur){var gr=iv(tt,bt),xr=iv(st,bt),Fr=ur.get(xr);if(Fr){Ps(tt,bt,Fr);return}var Mr=nr?nr(gr,xr,bt+"",tt,st,ur):a,jr=Mr===a;if(jr){var Gr=yn(xr),tn=!Gr&&Dl(xr),dn=!Gr&&!tn&&Vu(xr);Mr=xr,Gr||tn||dn?yn(gr)?Mr=gr:es(gr)?Mr=Is(gr):tn?(jr=!1,Mr=Vv(xr,!0)):dn?(jr=!1,Mr=Hv(xr,!0)):Mr=[]:Ap(xr)||cu(xr)?(Mr=gr,cu(gr)?Mr=zy(gr):(!Kn(gr)||qo(gr))&&(Mr=uy(xr))):jr=!1}jr&&(ur.set(xr,Mr),Ht(Mr,xr,Tt,nr,ur),ur.delete(xr)),Ps(tt,bt,Mr)}function Ov(tt,st){var bt=tt.length;if(bt)return st+=st<0?bt:0,Go(st,bt)?tt[st]:a}function Fv(tt,st,bt){st.length?st=zn(st,function(nr){return yn(nr)?function(ur){return ou(ur,nr.length===1?nr[0]:nr)}:nr}):st=[Fs];var Tt=-1;st=zn(st,Ss(un()));var Ht=Rv(tt,function(nr,ur,gr){var xr=zn(st,function(Fr){return Fr(nr)});return{criteria:xr,index:++Tt,value:nr}});return bm(Ht,function(nr,ur){return T0(nr,ur,bt)})}function g0(tt,st){return Mv(tt,st,function(bt,Tt){return hv(tt,Tt)})}function Mv(tt,st,bt){for(var Tt=-1,Ht=st.length,nr={};++Tt<Ht;){var ur=st[Tt],gr=ou(tt,ur);bt(gr,ur)&&_p(nr,Fl(ur,tt),gr)}return nr}function v0(tt){return function(st){return ou(st,tt)}}function Bm(tt,st,bt,Tt){var Ht=Tt?Ip:El,nr=-1,ur=st.length,gr=tt;for(tt===st&&(st=Is(st)),bt&&(gr=zn(tt,Ss(bt)));++nr<ur;)for(var xr=0,Fr=st[nr],Mr=bt?bt(Fr):Fr;(xr=Ht(gr,Mr,xr,Tt))>-1;)gr!==tt&&Ou.call(gr,xr,1),Ou.call(tt,xr,1);return tt}function Dv(tt,st){for(var bt=tt?st.length:0,Tt=bt-1;bt--;){var Ht=st[bt];if(bt==Tt||Ht!==nr){var nr=Ht;Go(Ht)?Ou.call(tt,Ht,1):Vm(tt,Ht)}}return tt}function zm(tt,st){return tt+wo(dp()*(st-tt+1))}function y0(tt,st,bt,Tt){for(var Ht=-1,nr=Zn(vs((st-tt)/(bt||1)),0),ur=Tr(nr);nr--;)ur[Tt?nr:++Ht]=tt,tt+=bt;return ur}function Wm(tt,st){var bt="";if(!tt||st<1||st>jt)return bt;do st%2&&(bt+=tt),st=wo(st/2),st&&(tt+=tt);while(st);return bt}function wn(tt,st){return sv(fy(tt,st,Fs),tt+"")}function b0(tt){return ln(Hu(tt))}function S0(tt,st){var bt=Hu(tt);return am(bt,au(st,0,bt.length))}function _p(tt,st,bt,Tt){if(!Kn(tt))return tt;st=Fl(st,tt);for(var Ht=-1,nr=st.length,ur=nr-1,gr=tt;gr!=null&&++Ht<nr;){var xr=To(st[Ht]),Fr=bt;if(xr==="__proto__"||xr==="constructor"||xr==="prototype")return tt;if(Ht!=ur){var Mr=gr[xr];Fr=Tt?Tt(Mr,xr,gr):a,Fr===a&&(Fr=Kn(Mr)?Mr:Go(st[Ht+1])?[]:{})}Rs(gr,xr,Fr),gr=gr[xr]}return tt}var Lv=Lu?function(tt,st){return Lu.set(tt,st),tt}:Fs,x0=tu?function(tt,st){return tu(tt,"toString",{configurable:!0,enumerable:!1,value:mv(st),writable:!0})}:Fs;function _0(tt){return am(Hu(tt))}function na(tt,st,bt){var Tt=-1,Ht=tt.length;st<0&&(st=-st>Ht?0:Ht+st),bt=bt>Ht?Ht:bt,bt<0&&(bt+=Ht),Ht=st>bt?0:bt-st>>>0,st>>>=0;for(var nr=Tr(Ht);++Tt<Ht;)nr[Tt]=tt[Tt+st];return nr}function w0(tt,st){var bt;return $l(tt,function(Tt,Ht,nr){return bt=st(Tt,Ht,nr),!bt}),!!bt}function Qp(tt,st,bt){var Tt=0,Ht=tt==null?Tt:tt.length;if(typeof st=="number"&&st===st&&Ht<=mr){for(;Tt<Ht;){var nr=Tt+Ht>>>1,ur=tt[nr];ur!==null&&!Hs(ur)&&(bt?ur<=st:ur<st)?Tt=nr+1:Ht=nr}return Ht}return Um(tt,st,Fs,bt)}function Um(tt,st,bt,Tt){var Ht=0,nr=tt==null?0:tt.length;if(nr===0)return 0;st=bt(st);for(var ur=st!==st,gr=st===null,xr=Hs(st),Fr=st===a;Ht<nr;){var Mr=wo((Ht+nr)/2),jr=bt(tt[Mr]),Gr=jr!==a,tn=jr===null,dn=jr===jr,Sn=Hs(jr);if(ur)var fn=Tt||dn;else Fr?fn=dn&&(Tt||Gr):gr?fn=dn&&Gr&&(Tt||!tn):xr?fn=dn&&Gr&&!tn&&(Tt||!Sn):tn||Sn?fn=!1:fn=Tt?jr<=st:jr<st;fn?Ht=Mr+1:nr=Mr}return ss(nr,tr)}function jv(tt,st){for(var bt=-1,Tt=tt.length,Ht=0,nr=[];++bt<Tt;){var ur=tt[bt],gr=st?st(ur):ur;if(!bt||!ao(gr,xr)){var xr=gr;nr[Ht++]=ur===0?0:ur}}return nr}function Nv(tt){return typeof tt=="number"?tt:Hs(tt)?Jt:+tt}function Vs(tt){if(typeof tt=="string")return tt;if(yn(tt))return zn(tt,Vs)+"";if(Hs(tt))return Gp?Gp.call(tt):"";var st=tt+"";return st=="0"&&1/tt==-1/0?"-0":st}function Ol(tt,st,bt){var Tt=-1,Ht=_u,nr=tt.length,ur=!0,gr=[],xr=gr;if(bt)ur=!1,Ht=Xu;else if(nr>=_){var Fr=st?null:F0(tt);if(Fr)return eu(Fr);ur=!1,Ht=no,xr=new pn}else xr=st?[]:gr;e:for(;++Tt<nr;){var Mr=tt[Tt],jr=st?st(Mr):Mr;if(Mr=bt||Mr!==0?Mr:0,ur&&jr===jr){for(var Gr=xr.length;Gr--;)if(xr[Gr]===jr)continue e;st&&xr.push(jr),gr.push(Mr)}else Ht(xr,jr,bt)||(xr!==gr&&xr.push(jr),gr.push(Mr))}return gr}function Vm(tt,st){return st=Fl(st,tt),tt=hy(tt,st),tt==null||delete tt[To(ga(st))]}function Bv(tt,st,bt,Tt){return _p(tt,st,bt(ou(tt,st)),Tt)}function Zp(tt,st,bt,Tt){for(var Ht=tt.length,nr=Tt?Ht:-1;(Tt?nr--:++nr<Ht)&&st(tt[nr],nr,tt););return bt?na(tt,Tt?0:nr,Tt?nr+1:Ht):na(tt,Tt?nr+1:0,Tt?Ht:nr)}function zv(tt,st){var bt=tt;return bt instanceof En&&(bt=bt.value()),Ql(st,function(Tt,Ht){return Ht.func.apply(Ht.thisArg,Bs([Tt],Ht.args))},bt)}function Hm(tt,st,bt){var Tt=tt.length;if(Tt<2)return Tt?Ol(tt[0]):[];for(var Ht=-1,nr=Tr(Tt);++Ht<Tt;)for(var ur=tt[Ht],gr=-1;++gr<Tt;)gr!=Ht&&(nr[Ht]=bp(nr[Ht]||ur,tt[gr],st,bt));return Ol(hs(nr,1),st,bt)}function Wv(tt,st,bt){for(var Tt=-1,Ht=tt.length,nr=st.length,ur={};++Tt<Ht;){var gr=Tt<nr?st[Tt]:a;bt(ur,tt[Tt],gr)}return ur}function Gm(tt){return es(tt)?tt:[]}function qm(tt){return typeof tt=="function"?tt:Fs}function Fl(tt,st){return yn(tt)?tt:rv(tt,st)?[tt]:vy(Ln(tt))}var E0=wn;function Ml(tt,st,bt){var Tt=tt.length;return bt=bt===a?Tt:bt,!st&&bt>=Tt?tt:na(tt,st,bt)}var Uv=up||function(tt){return an.clearTimeout(tt)};function Vv(tt,st){if(st)return tt.slice();var bt=tt.length,Tt=Np?Np(bt):new tt.constructor(bt);return tt.copy(Tt),Tt}function Km(tt){var st=new tt.constructor(tt.byteLength);return new Iu(st).set(new Iu(tt)),st}function C0(tt,st){var bt=st?Km(tt.buffer):tt.buffer;return new tt.constructor(bt,tt.byteOffset,tt.byteLength)}function A0(tt){var st=new tt.constructor(tt.source,Ms.exec(tt));return st.lastIndex=tt.lastIndex,st}function k0(tt){return iu?kn(iu.call(tt)):{}}function Hv(tt,st){var bt=st?Km(tt.buffer):tt.buffer;return new tt.constructor(bt,tt.byteOffset,tt.length)}function Gv(tt,st){if(tt!==st){var bt=tt!==a,Tt=tt===null,Ht=tt===tt,nr=Hs(tt),ur=st!==a,gr=st===null,xr=st===st,Fr=Hs(st);if(!gr&&!Fr&&!nr&&tt>st||nr&&ur&&xr&&!gr&&!Fr||Tt&&ur&&xr||!bt&&xr||!Ht)return 1;if(!Tt&&!nr&&!Fr&&tt<st||Fr&&bt&&Ht&&!Tt&&!nr||gr&&bt&&Ht||!ur&&Ht||!xr)return-1}return 0}function T0(tt,st,bt){for(var Tt=-1,Ht=tt.criteria,nr=st.criteria,ur=Ht.length,gr=bt.length;++Tt<ur;){var xr=Gv(Ht[Tt],nr[Tt]);if(xr){if(Tt>=gr)return xr;var Fr=bt[Tt];return xr*(Fr=="desc"?-1:1)}}return tt.index-st.index}function qv(tt,st,bt,Tt){for(var Ht=-1,nr=tt.length,ur=bt.length,gr=-1,xr=st.length,Fr=Zn(nr-ur,0),Mr=Tr(xr+Fr),jr=!Tt;++gr<xr;)Mr[gr]=st[gr];for(;++Ht<ur;)(jr||Ht<nr)&&(Mr[bt[Ht]]=tt[Ht]);for(;Fr--;)Mr[gr++]=tt[Ht++];return Mr}function Kv(tt,st,bt,Tt){for(var Ht=-1,nr=tt.length,ur=-1,gr=bt.length,xr=-1,Fr=st.length,Mr=Zn(nr-gr,0),jr=Tr(Mr+Fr),Gr=!Tt;++Ht<Mr;)jr[Ht]=tt[Ht];for(var tn=Ht;++xr<Fr;)jr[tn+xr]=st[xr];for(;++ur<gr;)(Gr||Ht<nr)&&(jr[tn+bt[ur]]=tt[Ht++]);return jr}function Is(tt,st){var bt=-1,Tt=tt.length;for(st||(st=Tr(Tt));++bt<Tt;)st[bt]=tt[bt];return st}function ko(tt,st,bt,Tt){var Ht=!bt;bt||(bt={});for(var nr=-1,ur=st.length;++nr<ur;){var gr=st[nr],xr=Tt?Tt(bt[gr],tt[gr],gr,bt,tt):a;xr===a&&(xr=tt[gr]),Ht?Uo(bt,gr,xr):Rs(bt,gr,xr)}return bt}function P0(tt,st){return ko(tt,tv(tt),st)}function R0(tt,st){return ko(tt,oy(tt),st)}function Jp(tt,st){return function(bt,Tt){var Ht=yn(bt)?mm:su,nr=st?st():{};return Ht(bt,tt,un(Tt,2),nr)}}function zu(tt){return wn(function(st,bt){var Tt=-1,Ht=bt.length,nr=Ht>1?bt[Ht-1]:a,ur=Ht>2?bt[2]:a;for(nr=tt.length>3&&typeof nr=="function"?(Ht--,nr):a,ur&&Cs(bt[0],bt[1],ur)&&(nr=Ht<3?a:nr,Ht=1),st=kn(st);++Tt<Ht;){var gr=bt[Tt];gr&&tt(st,gr,Tt,nr)}return st})}function Yv(tt,st){return function(bt,Tt){if(bt==null)return bt;if(!$s(bt))return tt(bt,Tt);for(var Ht=bt.length,nr=st?Ht:-1,ur=kn(bt);(st?nr--:++nr<Ht)&&Tt(ur[nr],nr,ur)!==!1;);return bt}}function Xv(tt){return function(st,bt,Tt){for(var Ht=-1,nr=kn(st),ur=Tt(st),gr=ur.length;gr--;){var xr=ur[tt?gr:++Ht];if(bt(nr[xr],xr,nr)===!1)break}return st}}function I0(tt,st,bt){var Tt=st&yt,Ht=wp(tt);function nr(){var ur=this&&this!==an&&this instanceof nr?Ht:tt;return ur.apply(Tt?bt:this,arguments)}return nr}function Qv(tt){return function(st){st=Ln(st);var bt=Xs(st)?zs(st):a,Tt=bt?bt[0]:st.charAt(0),Ht=bt?Ml(bt,1).join(""):st.slice(1);return Tt[tt]()+Ht}}function Wu(tt){return function(st){return Ql(Yy(Ky(st).replace(js,"")),tt,"")}}function wp(tt){return function(){var st=arguments;switch(st.length){case 0:return new tt;case 1:return new tt(st[0]);case 2:return new tt(st[0],st[1]);case 3:return new tt(st[0],st[1],st[2]);case 4:return new tt(st[0],st[1],st[2],st[3]);case 5:return new tt(st[0],st[1],st[2],st[3],st[4]);case 6:return new tt(st[0],st[1],st[2],st[3],st[4],st[5]);case 7:return new tt(st[0],st[1],st[2],st[3],st[4],st[5],st[6])}var bt=zo(tt.prototype),Tt=tt.apply(bt,st);return Kn(Tt)?Tt:bt}}function $0(tt,st,bt){var Tt=wp(tt);function Ht(){for(var nr=arguments.length,ur=Tr(nr),gr=nr,xr=Uu(Ht);gr--;)ur[gr]=arguments[gr];var Fr=nr<3&&ur[0]!==xr&&ur[nr-1]!==xr?[]:yo(ur,xr);if(nr-=Fr.length,nr<bt)return ry(tt,st,em,Ht.placeholder,a,ur,Fr,a,a,bt-nr);var Mr=this&&this!==an&&this instanceof Ht?Tt:tt;return fs(Mr,this,ur)}return Ht}function Zv(tt){return function(st,bt,Tt){var Ht=kn(st);if(!$s(st)){var nr=un(bt,3);st=ls(st),bt=function(gr){return nr(Ht[gr],gr,Ht)}}var ur=tt(st,bt,Tt);return ur>-1?Ht[nr?st[ur]:ur]:a}}function Jv(tt){return Ho(function(st){var bt=st.length,Tt=bt,Ht=xs.prototype.thru;for(tt&&st.reverse();Tt--;){var nr=st[Tt];if(typeof nr!="function")throw new gs(j);if(Ht&&!ur&&im(nr)=="wrapper")var ur=new xs([],!0)}for(Tt=ur?Tt:bt;++Tt<bt;){nr=st[Tt];var gr=im(nr),xr=gr=="wrapper"?Jm(nr):a;xr&&nv(xr[0])&&xr[1]==(St|ht|dt|_t)&&!xr[4].length&&xr[9]==1?ur=ur[im(xr[0])].apply(ur,xr[3]):ur=nr.length==1&&nv(nr)?ur[gr]():ur.thru(nr)}return function(){var Fr=arguments,Mr=Fr[0];if(ur&&Fr.length==1&&yn(Mr))return ur.plant(Mr).value();for(var jr=0,Gr=bt?st[jr].apply(this,Fr):Mr;++jr<bt;)Gr=st[jr].call(this,Gr);return Gr}})}function em(tt,st,bt,Tt,Ht,nr,ur,gr,xr,Fr){var Mr=st&St,jr=st&yt,Gr=st&pt,tn=st&(ht|mt),dn=st&Et,Sn=Gr?a:wp(tt);function fn(){for(var An=arguments.length,Tn=Tr(An),Gs=An;Gs--;)Tn[Gs]=arguments[Gs];if(tn)var As=Uu(fn),qs=rp(Tn,As);if(Tt&&(Tn=qv(Tn,Tt,Ht,tn)),nr&&(Tn=Kv(Tn,nr,ur,tn)),An-=qs,tn&&An<Fr){var ts=yo(Tn,As);return ry(tt,st,em,fn.placeholder,bt,Tn,ts,gr,xr,Fr-An)}var oo=jr?bt:this,Yo=Gr?oo[tt]:tt;return An=Tn.length,gr?Tn=Z0(Tn,gr):dn&&An>1&&Tn.reverse(),Mr&&xr<An&&(Tn.length=xr),this&&this!==an&&this instanceof fn&&(Yo=Sn||wp(Yo)),Yo.apply(oo,Tn)}return fn}function ey(tt,st){return function(bt,Tt){return a0(bt,tt,st(Tt),{})}}function tm(tt,st){return function(bt,Tt){var Ht;if(bt===a&&Tt===a)return st;if(bt!==a&&(Ht=bt),Tt!==a){if(Ht===a)return Tt;typeof bt=="string"||typeof Tt=="string"?(bt=Vs(bt),Tt=Vs(Tt)):(bt=Nv(bt),Tt=Nv(Tt)),Ht=tt(bt,Tt)}return Ht}}function Ym(tt){return Ho(function(st){return st=zn(st,Ss(un())),wn(function(bt){var Tt=this;return tt(st,function(Ht){return fs(Ht,Tt,bt)})})})}function rm(tt,st){st=st===a?" ":Vs(st);var bt=st.length;if(bt<2)return bt?Wm(st,tt):st;var Tt=Wm(st,vs(tt/Mo(st)));return Xs(st)?Ml(zs(Tt),0,tt).join(""):Tt.slice(0,tt)}function O0(tt,st,bt,Tt){var Ht=st&yt,nr=wp(tt);function ur(){for(var gr=-1,xr=arguments.length,Fr=-1,Mr=Tt.length,jr=Tr(Mr+xr),Gr=this&&this!==an&&this instanceof ur?nr:tt;++Fr<Mr;)jr[Fr]=Tt[Fr];for(;xr--;)jr[Fr++]=arguments[++gr];return fs(Gr,Ht?bt:this,jr)}return ur}function ty(tt){return function(st,bt,Tt){return Tt&&typeof Tt!="number"&&Cs(st,bt,Tt)&&(bt=Tt=a),st=Ko(st),bt===a?(bt=st,st=0):bt=Ko(bt),Tt=Tt===a?st<bt?1:-1:Ko(Tt),y0(st,bt,Tt,tt)}}function nm(tt){return function(st,bt){return typeof st=="string"&&typeof bt=="string"||(st=ba(st),bt=ba(bt)),tt(st,bt)}}function ry(tt,st,bt,Tt,Ht,nr,ur,gr,xr,Fr){var Mr=st&ht,jr=Mr?ur:a,Gr=Mr?a:ur,tn=Mr?nr:a,dn=Mr?a:nr;st|=Mr?dt:vt,st&=~(Mr?vt:dt),st&ut||(st&=-4);var Sn=[tt,st,Ht,tn,jr,dn,Gr,gr,xr,Fr],fn=bt.apply(a,Sn);return nv(tt)&&py(fn,Sn),fn.placeholder=Tt,my(fn,tt,st)}function Xm(tt){var st=Hn[tt];return function(bt,Tt){if(bt=ba(bt),Tt=Tt==null?0:ss(bn(Tt),292),Tt&&cp(bt)){var Ht=(Ln(bt)+"e").split("e"),nr=st(Ht[0]+"e"+(+Ht[1]+Tt));return Ht=(Ln(nr)+"e").split("e"),+(Ht[0]+"e"+(+Ht[1]-Tt))}return st(bt)}}var F0=Rl&&1/eu(new Rl([,-0]))[1]==It?function(tt){return new Rl(tt)}:yv;function ny(tt){return function(st){var bt=ys(st);return bt==wt?ip(st):bt==lr?Au(st):Sm(st,tt(st))}}function Vo(tt,st,bt,Tt,Ht,nr,ur,gr){var xr=st&pt;if(!xr&&typeof tt!="function")throw new gs(j);var Fr=Tt?Tt.length:0;if(Fr||(st&=-97,Tt=Ht=a),ur=ur===a?ur:Zn(bn(ur),0),gr=gr===a?gr:bn(gr),Fr-=Ht?Ht.length:0,st&vt){var Mr=Tt,jr=Ht;Tt=Ht=a}var Gr=xr?a:Jm(tt),tn=[tt,st,bt,Tt,Ht,Mr,jr,nr,ur,gr];if(Gr&&Y0(tn,Gr),tt=tn[0],st=tn[1],bt=tn[2],Tt=tn[3],Ht=tn[4],gr=tn[9]=tn[9]===a?xr?0:tt.length:Zn(tn[9]-Fr,0),!gr&&st&(ht|mt)&&(st&=-25),!st||st==yt)var dn=I0(tt,st,bt);else st==ht||st==mt?dn=$0(tt,st,gr):(st==dt||st==(yt|dt))&&!Ht.length?dn=O0(tt,st,bt,Tt):dn=em.apply(a,tn);var Sn=Gr?Lv:py;return my(Sn(dn,tn),tt,st)}function iy(tt,st,bt,Tt){return tt===a||ao(tt,Do[bt])&&!Dn.call(Tt,bt)?st:tt}function sy(tt,st,bt,Tt,Ht,nr){return Kn(tt)&&Kn(st)&&(nr.set(st,tt),Xp(tt,st,a,sy,nr),nr.delete(st)),tt}function M0(tt){return Ap(tt)?a:tt}function ay(tt,st,bt,Tt,Ht,nr){var ur=bt&gt,gr=tt.length,xr=st.length;if(gr!=xr&&!(ur&&xr>gr))return!1;var Fr=nr.get(tt),Mr=nr.get(st);if(Fr&&Mr)return Fr==st&&Mr==tt;var jr=-1,Gr=!0,tn=bt&ct?new pn:a;for(nr.set(tt,st),nr.set(st,tt);++jr<gr;){var dn=tt[jr],Sn=st[jr];if(Tt)var fn=ur?Tt(Sn,dn,jr,st,tt,nr):Tt(dn,Sn,jr,tt,st,nr);if(fn!==a){if(fn)continue;Gr=!1;break}if(tn){if(!ro(st,function(An,Tn){if(!no(tn,Tn)&&(dn===An||Ht(dn,An,bt,Tt,nr)))return tn.push(Tn)})){Gr=!1;break}}else if(!(dn===Sn||Ht(dn,Sn,bt,Tt,nr))){Gr=!1;break}}return nr.delete(tt),nr.delete(st),Gr}function D0(tt,st,bt,Tt,Ht,nr,ur){switch(bt){case Ur:if(tt.byteLength!=st.byteLength||tt.byteOffset!=st.byteOffset)return!1;tt=tt.buffer,st=st.buffer;case qr:return!(tt.byteLength!=st.byteLength||!nr(new Iu(tt),new Iu(st)));case Zt:case At:case Vt:return ao(+tt,+st);case Dt:return tt.name==st.name&&tt.message==st.message;case sr:case ar:return tt==st+"";case wt:var gr=ip;case lr:var xr=Tt&gt;if(gr||(gr=eu),tt.size!=st.size&&!xr)return!1;var Fr=ur.get(tt);if(Fr)return Fr==st;Tt|=ct,ur.set(tt,st);var Mr=ay(gr(tt),gr(st),Tt,Ht,nr,ur);return ur.delete(tt),Mr;case vr:if(iu)return iu.call(tt)==iu.call(st)}return!1}function L0(tt,st,bt,Tt,Ht,nr){var ur=bt&gt,gr=Qm(tt),xr=gr.length,Fr=Qm(st),Mr=Fr.length;if(xr!=Mr&&!ur)return!1;for(var jr=xr;jr--;){var Gr=gr[jr];if(!(ur?Gr in st:Dn.call(st,Gr)))return!1}var tn=nr.get(tt),dn=nr.get(st);if(tn&&dn)return tn==st&&dn==tt;var Sn=!0;nr.set(tt,st),nr.set(st,tt);for(var fn=ur;++jr<xr;){Gr=gr[jr];var An=tt[Gr],Tn=st[Gr];if(Tt)var Gs=ur?Tt(Tn,An,Gr,st,tt,nr):Tt(An,Tn,Gr,tt,st,nr);if(!(Gs===a?An===Tn||Ht(An,Tn,bt,Tt,nr):Gs)){Sn=!1;break}fn||(fn=Gr=="constructor")}if(Sn&&!fn){var As=tt.constructor,qs=st.constructor;As!=qs&&"constructor"in tt&&"constructor"in st&&!(typeof As=="function"&&As instanceof As&&typeof qs=="function"&&qs instanceof qs)&&(Sn=!1)}return nr.delete(tt),nr.delete(st),Sn}function Ho(tt){return sv(fy(tt,a,xy),tt+"")}function Qm(tt){return Av(tt,ls,tv)}function Zm(tt){return Av(tt,Os,oy)}var Jm=Lu?function(tt){return Lu.get(tt)}:yv;function im(tt){for(var st=tt.name+"",bt=No[st],Tt=Dn.call(No,st)?bt.length:0;Tt--;){var Ht=bt[Tt],nr=Ht.func;if(nr==null||nr==tt)return Ht.name}return st}function Uu(tt){var st=Dn.call(rr,"placeholder")?rr:tt;return st.placeholder}function un(){var tt=rr.iteratee||gv;return tt=tt===gv?Pv:tt,arguments.length?tt(arguments[0],arguments[1]):tt}function sm(tt,st){var bt=tt.__data__;return H0(st)?bt[typeof st=="string"?"string":"hash"]:bt.map}function ev(tt){for(var st=ls(tt),bt=st.length;bt--;){var Tt=st[bt],Ht=tt[Tt];st[bt]=[Tt,Ht,cy(Ht)]}return st}function lu(tt,st){var bt=Fo(tt,st);return Tv(bt)?bt:a}function j0(tt){var st=Dn.call(tt,Us),bt=tt[Us];try{tt[Us]=a;var Tt=!0}catch{}var Ht=Pu.call(tt);return Tt&&(st?tt[Us]=bt:delete tt[Us]),Ht}var tv=Fu?function(tt){return tt==null?[]:(tt=kn(tt),is(Fu(tt),function(st){return lp.call(tt,st)}))}:bv,oy=Fu?function(tt){for(var st=[];tt;)Bs(st,tv(tt)),tt=$u(tt);return st}:bv,ys=Es;(fp&&ys(new fp(new ArrayBuffer(1)))!=Ur||ru&&ys(new ru)!=wt||hp&&ys(hp.resolve())!=Bt||Rl&&ys(new Rl)!=lr||nu&&ys(new nu)!=Cr)&&(ys=function(tt){var st=Es(tt),bt=st==Nt?tt.constructor:a,Tt=bt?uu(bt):"";if(Tt)switch(Tt){case Hp:return Ur;case pp:return wt;case mp:return Bt;case ju:return lr;case Co:return Cr}return st});function N0(tt,st,bt){for(var Tt=-1,Ht=bt.length;++Tt<Ht;){var nr=bt[Tt],ur=nr.size;switch(nr.type){case"drop":tt+=ur;break;case"dropRight":st-=ur;break;case"take":st=ss(st,tt+ur);break;case"takeRight":tt=Zn(tt,st-ur);break}}return{start:tt,end:st}}function B0(tt){var st=tt.match(Rn);return st?st[1].split(Vn):[]}function ly(tt,st,bt){st=Fl(st,tt);for(var Tt=-1,Ht=st.length,nr=!1;++Tt<Ht;){var ur=To(st[Tt]);if(!(nr=tt!=null&&bt(tt,ur)))break;tt=tt[ur]}return nr||++Tt!=Ht?nr:(Ht=tt==null?0:tt.length,!!Ht&&fm(Ht)&&Go(ur,Ht)&&(yn(tt)||cu(tt)))}function z0(tt){var st=tt.length,bt=new tt.constructor(st);return st&&typeof tt[0]=="string"&&Dn.call(tt,"index")&&(bt.index=tt.index,bt.input=tt.input),bt}function uy(tt){return typeof tt.constructor=="function"&&!Ep(tt)?zo($u(tt)):{}}function W0(tt,st,bt){var Tt=tt.constructor;switch(st){case qr:return Km(tt);case Zt:case At:return new Tt(+tt);case Ur:return C0(tt,bt);case Vr:case Dr:case hr:case Or:case Wr:case gn:case Ar:case Nr:case Jr:return Hv(tt,bt);case wt:return new Tt;case Vt:case ar:return new Tt(tt);case sr:return A0(tt);case lr:return new Tt;case vr:return k0(tt)}}function U0(tt,st){var bt=st.length;if(!bt)return tt;var Tt=bt-1;return st[Tt]=(bt>1?"& ":"")+st[Tt],st=st.join(bt>2?", ":" "),tt.replace(vn,`{
/* [wrapped with `+st+`] */
`)}function V0(tt){return yn(tt)||cu(tt)||!!(zp&&tt&&tt[zp])}function Go(tt,st){var bt=typeof tt;return st=st??jt,!!st&&(bt=="number"||bt!="symbol"&&cs.test(tt))&&tt>-1&&tt%1==0&&tt<st}function Cs(tt,st,bt){if(!Kn(bt))return!1;var Tt=typeof st;return(Tt=="number"?$s(bt)&&Go(st,bt.length):Tt=="string"&&st in bt)?ao(bt[st],tt):!1}function rv(tt,st){if(yn(tt))return!1;var bt=typeof tt;return bt=="number"||bt=="symbol"||bt=="boolean"||tt==null||Hs(tt)?!0:rn.test(tt)||!nn.test(tt)||st!=null&&tt in kn(st)}function H0(tt){var st=typeof tt;return st=="string"||st=="number"||st=="symbol"||st=="boolean"?tt!=="__proto__":tt===null}function nv(tt){var st=im(tt),bt=rr[st];if(typeof bt!="function"||!(st in En.prototype))return!1;if(tt===bt)return!0;var Tt=Jm(bt);return!!Tt&&tt===Tt[0]}function G0(tt){return!!jp&&jp in tt}var q0=Tu?qo:Sv;function Ep(tt){var st=tt&&tt.constructor,bt=typeof st=="function"&&st.prototype||Do;return tt===bt}function cy(tt){return tt===tt&&!Kn(tt)}function dy(tt,st){return function(bt){return bt==null?!1:bt[tt]===st&&(st!==a||tt in kn(bt))}}function K0(tt){var st=cm(tt,function(Tt){return bt.size===nt&&bt.clear(),Tt}),bt=st.cache;return st}function Y0(tt,st){var bt=tt[1],Tt=st[1],Ht=bt|Tt,nr=Ht<(yt|pt|St),ur=Tt==St&&bt==ht||Tt==St&&bt==_t&&tt[7].length<=st[8]||Tt==(St|_t)&&st[7].length<=st[8]&&bt==ht;if(!(nr||ur))return tt;Tt&yt&&(tt[2]=st[2],Ht|=bt&yt?0:ut);var gr=st[3];if(gr){var xr=tt[3];tt[3]=xr?qv(xr,gr,st[4]):gr,tt[4]=xr?yo(tt[3],it):st[4]}return gr=st[5],gr&&(xr=tt[5],tt[5]=xr?Kv(xr,gr,st[6]):gr,tt[6]=xr?yo(tt[5],it):st[6]),gr=st[7],gr&&(tt[7]=gr),Tt&St&&(tt[8]=tt[8]==null?st[8]:ss(tt[8],st[8])),tt[9]==null&&(tt[9]=st[9]),tt[0]=st[0],tt[1]=Ht,tt}function X0(tt){var st=[];if(tt!=null)for(var bt in kn(tt))st.push(bt);return st}function Q0(tt){return Pu.call(tt)}function fy(tt,st,bt){return st=Zn(st===a?tt.length-1:st,0),function(){for(var Tt=arguments,Ht=-1,nr=Zn(Tt.length-st,0),ur=Tr(nr);++Ht<nr;)ur[Ht]=Tt[st+Ht];Ht=-1;for(var gr=Tr(st+1);++Ht<st;)gr[Ht]=Tt[Ht];return gr[st]=bt(ur),fs(tt,this,gr)}}function hy(tt,st){return st.length<2?tt:ou(tt,na(st,0,-1))}function Z0(tt,st){for(var bt=tt.length,Tt=ss(st.length,bt),Ht=Is(tt);Tt--;){var nr=st[Tt];tt[Tt]=Go(nr,bt)?Ht[nr]:a}return tt}function iv(tt,st){if(!(st==="constructor"&&typeof tt[st]=="function")&&st!="__proto__")return tt[st]}var py=gy(Lv),Cp=_o||function(tt,st){return an.setTimeout(tt,st)},sv=gy(x0);function my(tt,st,bt){var Tt=st+"";return sv(tt,U0(Tt,J0(B0(Tt),bt)))}function gy(tt){var st=0,bt=0;return function(){var Tt=Up(),Ht=Ut-(Tt-bt);if(bt=Tt,Ht>0){if(++st>=Rt)return arguments[0]}else st=0;return tt.apply(a,arguments)}}function am(tt,st){var bt=-1,Tt=tt.length,Ht=Tt-1;for(st=st===a?Tt:st;++bt<st;){var nr=zm(bt,Ht),ur=tt[nr];tt[nr]=tt[bt],tt[bt]=ur}return tt.length=st,tt}var vy=K0(function(tt){var st=[];return tt.charCodeAt(0)===46&&st.push(""),tt.replace(sn,function(bt,Tt,Ht,nr){st.push(Ht?nr.replace(jn,"$1"):Tt||bt)}),st});function To(tt){if(typeof tt=="string"||Hs(tt))return tt;var st=tt+"";return st=="0"&&1/tt==-1/0?"-0":st}function uu(tt){if(tt!=null){try{return Lo.call(tt)}catch{}try{return tt+""}catch{}}return""}function J0(tt,st){return Ts(Yt,function(bt){var Tt="_."+bt[0];st&bt[1]&&!_u(tt,Tt)&&tt.push(Tt)}),tt.sort()}function yy(tt){if(tt instanceof En)return tt.clone();var st=new xs(tt.__wrapped__,tt.__chain__);return st.__actions__=Is(tt.__actions__),st.__index__=tt.__index__,st.__values__=tt.__values__,st}function eS(tt,st,bt){(bt?Cs(tt,st,bt):st===a)?st=1:st=Zn(bn(st),0);var Tt=tt==null?0:tt.length;if(!Tt||st<1)return[];for(var Ht=0,nr=0,ur=Tr(vs(Tt/st));Ht<Tt;)ur[nr++]=na(tt,Ht,Ht+=st);return ur}function tS(tt){for(var st=-1,bt=tt==null?0:tt.length,Tt=0,Ht=[];++st<bt;){var nr=tt[st];nr&&(Ht[Tt++]=nr)}return Ht}function rS(){var tt=arguments.length;if(!tt)return[];for(var st=Tr(tt-1),bt=arguments[0],Tt=tt;Tt--;)st[Tt-1]=arguments[Tt];return Bs(yn(bt)?Is(bt):[bt],hs(st,1))}var nS=wn(function(tt,st){return es(tt)?bp(tt,hs(st,1,es,!0)):[]}),iS=wn(function(tt,st){var bt=ga(st);return es(bt)&&(bt=a),es(tt)?bp(tt,hs(st,1,es,!0),un(bt,2)):[]}),sS=wn(function(tt,st){var bt=ga(st);return es(bt)&&(bt=a),es(tt)?bp(tt,hs(st,1,es,!0),a,bt):[]});function aS(tt,st,bt){var Tt=tt==null?0:tt.length;return Tt?(st=bt||st===a?1:bn(st),na(tt,st<0?0:st,Tt)):[]}function oS(tt,st,bt){var Tt=tt==null?0:tt.length;return Tt?(st=bt||st===a?1:bn(st),st=Tt-st,na(tt,0,st<0?0:st)):[]}function lS(tt,st){return tt&&tt.length?Zp(tt,un(st,3),!0,!0):[]}function uS(tt,st){return tt&&tt.length?Zp(tt,un(st,3),!0):[]}function cS(tt,st,bt,Tt){var Ht=tt==null?0:tt.length;return Ht?(bt&&typeof bt!="number"&&Cs(tt,st,bt)&&(bt=0,Tt=Ht),r0(tt,st,bt,Tt)):[]}function by(tt,st,bt){var Tt=tt==null?0:tt.length;if(!Tt)return-1;var Ht=bt==null?0:bn(bt);return Ht<0&&(Ht=Zn(Tt+Ht,0)),Zl(tt,un(st,3),Ht)}function Sy(tt,st,bt){var Tt=tt==null?0:tt.length;if(!Tt)return-1;var Ht=Tt-1;return bt!==a&&(Ht=bn(bt),Ht=bt<0?Zn(Tt+Ht,0):ss(Ht,Tt-1)),Zl(tt,un(st,3),Ht,!0)}function xy(tt){var st=tt==null?0:tt.length;return st?hs(tt,1):[]}function dS(tt){var st=tt==null?0:tt.length;return st?hs(tt,It):[]}function fS(tt,st){var bt=tt==null?0:tt.length;return bt?(st=st===a?1:bn(st),hs(tt,st)):[]}function hS(tt){for(var st=-1,bt=tt==null?0:tt.length,Tt={};++st<bt;){var Ht=tt[st];Tt[Ht[0]]=Ht[1]}return Tt}function _y(tt){return tt&&tt.length?tt[0]:a}function pS(tt,st,bt){var Tt=tt==null?0:tt.length;if(!Tt)return-1;var Ht=bt==null?0:bn(bt);return Ht<0&&(Ht=Zn(Tt+Ht,0)),El(tt,st,Ht)}function mS(tt){var st=tt==null?0:tt.length;return st?na(tt,0,-1):[]}var gS=wn(function(tt){var st=zn(tt,Gm);return st.length&&st[0]===tt[0]?Dm(st):[]}),vS=wn(function(tt){var st=ga(tt),bt=zn(tt,Gm);return st===ga(bt)?st=a:bt.pop(),bt.length&&bt[0]===tt[0]?Dm(bt,un(st,2)):[]}),yS=wn(function(tt){var st=ga(tt),bt=zn(tt,Gm);return st=typeof st=="function"?st:a,st&&bt.pop(),bt.length&&bt[0]===tt[0]?Dm(bt,a,st):[]});function bS(tt,st){return tt==null?"":Wp.call(tt,st)}function ga(tt){var st=tt==null?0:tt.length;return st?tt[st-1]:a}function SS(tt,st,bt){var Tt=tt==null?0:tt.length;if(!Tt)return-1;var Ht=Tt;return bt!==a&&(Ht=bn(bt),Ht=Ht<0?Zn(Tt+Ht,0):ss(Ht,Tt-1)),st===st?Dp(tt,st,Ht):Zl(tt,Qu,Ht,!0)}function xS(tt,st){return tt&&tt.length?Ov(tt,bn(st)):a}var _S=wn(wy);function wy(tt,st){return tt&&tt.length&&st&&st.length?Bm(tt,st):tt}function wS(tt,st,bt){return tt&&tt.length&&st&&st.length?Bm(tt,st,un(bt,2)):tt}function ES(tt,st,bt){return tt&&tt.length&&st&&st.length?Bm(tt,st,a,bt):tt}var CS=Ho(function(tt,st){var bt=tt==null?0:tt.length,Tt=$m(tt,st);return Dv(tt,zn(st,function(Ht){return Go(Ht,bt)?+Ht:Ht}).sort(Gv)),Tt});function AS(tt,st){var bt=[];if(!(tt&&tt.length))return bt;var Tt=-1,Ht=[],nr=tt.length;for(st=un(st,3);++Tt<nr;){var ur=tt[Tt];st(ur,Tt,tt)&&(bt.push(ur),Ht.push(Tt))}return Dv(tt,Ht),bt}function av(tt){return tt==null?tt:Vp.call(tt)}function kS(tt,st,bt){var Tt=tt==null?0:tt.length;return Tt?(bt&&typeof bt!="number"&&Cs(tt,st,bt)?(st=0,bt=Tt):(st=st==null?0:bn(st),bt=bt===a?Tt:bn(bt)),na(tt,st,bt)):[]}function TS(tt,st){return Qp(tt,st)}function PS(tt,st,bt){return Um(tt,st,un(bt,2))}function RS(tt,st){var bt=tt==null?0:tt.length;if(bt){var Tt=Qp(tt,st);if(Tt<bt&&ao(tt[Tt],st))return Tt}return-1}function IS(tt,st){return Qp(tt,st,!0)}function $S(tt,st,bt){return Um(tt,st,un(bt,2),!0)}function OS(tt,st){var bt=tt==null?0:tt.length;if(bt){var Tt=Qp(tt,st,!0)-1;if(ao(tt[Tt],st))return Tt}return-1}function FS(tt){return tt&&tt.length?jv(tt):[]}function DS(tt,st){return tt&&tt.length?jv(tt,un(st,2)):[]}function LS(tt){var st=tt==null?0:tt.length;return st?na(tt,1,st):[]}function jS(tt,st,bt){return tt&&tt.length?(st=bt||st===a?1:bn(st),na(tt,0,st<0?0:st)):[]}function NS(tt,st,bt){var Tt=tt==null?0:tt.length;return Tt?(st=bt||st===a?1:bn(st),st=Tt-st,na(tt,st<0?0:st,Tt)):[]}function BS(tt,st){return tt&&tt.length?Zp(tt,un(st,3),!1,!0):[]}function zS(tt,st){return tt&&tt.length?Zp(tt,un(st,3)):[]}var WS=wn(function(tt){return Ol(hs(tt,1,es,!0))}),US=wn(function(tt){var st=ga(tt);return es(st)&&(st=a),Ol(hs(tt,1,es,!0),un(st,2))}),VS=wn(function(tt){var st=ga(tt);return st=typeof st=="function"?st:a,Ol(hs(tt,1,es,!0),a,st)});function HS(tt){return tt&&tt.length?Ol(tt):[]}function GS(tt,st){return tt&&tt.length?Ol(tt,un(st,2)):[]}function qS(tt,st){return st=typeof st=="function"?st:a,tt&&tt.length?Ol(tt,a,st):[]}function ov(tt){if(!(tt&&tt.length))return[];var st=0;return tt=is(tt,function(bt){if(es(bt))return st=Zn(bt.length,st),!0}),ep(st,function(bt){return zn(tt,vo(bt))})}function Ey(tt,st){if(!(tt&&tt.length))return[];var bt=ov(tt);return st==null?bt:zn(bt,function(Tt){return fs(st,a,Tt)})}var KS=wn(function(tt,st){return es(tt)?bp(tt,st):[]}),YS=wn(function(tt){return Hm(is(tt,es))}),XS=wn(function(tt){var st=ga(tt);return es(st)&&(st=a),Hm(is(tt,es),un(st,2))}),QS=wn(function(tt){var st=ga(tt);return st=typeof st=="function"?st:a,Hm(is(tt,es),a,st)}),ZS=wn(ov);function JS(tt,st){return Wv(tt||[],st||[],Rs)}function ex(tt,st){return Wv(tt||[],st||[],_p)}var tx=wn(function(tt){var st=tt.length,bt=st>1?tt[st-1]:a;return bt=typeof bt=="function"?(tt.pop(),bt):a,Ey(tt,bt)});function Cy(tt){var st=rr(tt);return st.__chain__=!0,st}function rx(tt,st){return st(tt),tt}function om(tt,st){return st(tt)}var nx=Ho(function(tt){var st=tt.length,bt=st?tt[0]:0,Tt=this.__wrapped__,Ht=function(nr){return $m(nr,tt)};return st>1||this.__actions__.length||!(Tt instanceof En)||!Go(bt)?this.thru(Ht):(Tt=Tt.slice(bt,+bt+(st?1:0)),Tt.__actions__.push({func:om,args:[Ht],thisArg:a}),new xs(Tt,this.__chain__).thru(function(nr){return st&&!nr.length&&nr.push(a),nr}))});function ix(){return Cy(this)}function sx(){return new xs(this.value(),this.__chain__)}function ax(){this.__values__===a&&(this.__values__=Ny(this.value()));var tt=this.__index__>=this.__values__.length,st=tt?a:this.__values__[this.__index__++];return{done:tt,value:st}}function ox(){return this}function lx(tt){for(var st,bt=this;bt instanceof Nu;){var Tt=yy(bt);Tt.__index__=0,Tt.__values__=a,st?Ht.__wrapped__=Tt:st=Tt;var Ht=Tt;bt=bt.__wrapped__}return Ht.__wrapped__=tt,st}function ux(){var tt=this.__wrapped__;if(tt instanceof En){var st=tt;return this.__actions__.length&&(st=new En(this)),st=st.reverse(),st.__actions__.push({func:om,args:[av],thisArg:a}),new xs(st,this.__chain__)}return this.thru(av)}function dx(){return zv(this.__wrapped__,this.__actions__)}var fx=Jp(function(tt,st,bt){Dn.call(tt,bt)?++tt[bt]:Uo(tt,bt,1)});function hx(tt,st,bt){var Tt=yn(tt)?Tp:t0;return bt&&Cs(tt,st,bt)&&(st=a),Tt(tt,un(st,3))}function mx(tt,st){var bt=yn(tt)?is:Ev;return bt(tt,un(st,3))}var gx=Zv(by),vx=Zv(Sy);function yx(tt,st){return hs(lm(tt,st),1)}function bx(tt,st){return hs(lm(tt,st),It)}function Sx(tt,st,bt){return bt=bt===a?1:bn(bt),hs(lm(tt,st),bt)}function Ay(tt,st){var bt=yn(tt)?Ts:$l;return bt(tt,un(st,3))}function ky(tt,st){var bt=yn(tt)?gm:wv;return bt(tt,un(st,3))}var xx=Jp(function(tt,st,bt){Dn.call(tt,bt)?tt[bt].push(st):Uo(tt,bt,[st])});function _x(tt,st,bt,Tt){tt=$s(tt)?tt:Hu(tt),bt=bt&&!Tt?bn(bt):0;var Ht=tt.length;return bt<0&&(bt=Zn(Ht+bt,0)),hm(tt)?bt<=Ht&&tt.indexOf(st,bt)>-1:!!Ht&&El(tt,st,bt)>-1}var wx=wn(function(tt,st,bt){var Tt=-1,Ht=typeof st=="function",nr=$s(tt)?Tr(tt.length):[];return $l(tt,function(ur){nr[++Tt]=Ht?fs(st,ur,bt):Sp(ur,st,bt)}),nr}),Ex=Jp(function(tt,st,bt){Uo(tt,bt,st)});function lm(tt,st){var bt=yn(tt)?zn:Rv;return bt(tt,un(st,3))}function Cx(tt,st,bt,Tt){return tt==null?[]:(yn(st)||(st=st==null?[]:[st]),bt=Tt?a:bt,yn(bt)||(bt=bt==null?[]:[bt]),Fv(tt,st,bt))}var Ax=Jp(function(tt,st,bt){tt[bt?0:1].push(st)},function(){return[[],[]]});function kx(tt,st,bt){var Tt=yn(tt)?Ql:Ju,Ht=arguments.length<3;return Tt(tt,un(st,4),bt,Ht,$l)}function Tx(tt,st,bt){var Tt=yn(tt)?to:Ju,Ht=arguments.length<3;return Tt(tt,un(st,4),bt,Ht,wv)}function Px(tt,st){var bt=yn(tt)?is:Ev;return bt(tt,dm(un(st,3)))}function Rx(tt){var st=yn(tt)?ln:b0;return st(tt)}function Ix(tt,st,bt){(bt?Cs(tt,st,bt):st===a)?st=1:st=bn(st);var Tt=yn(tt)?On:S0;return Tt(tt,st)}function $x(tt){var st=yn(tt)?Un:_0;return st(tt)}function Ox(tt){if(tt==null)return 0;if($s(tt))return hm(tt)?Mo(tt):tt.length;var st=ys(tt);return st==wt||st==lr?tt.size:jm(tt).length}function Fx(tt,st,bt){var Tt=yn(tt)?ro:w0;return bt&&Cs(tt,st,bt)&&(st=a),Tt(tt,un(st,3))}var Mx=wn(function(tt,st){if(tt==null)return[];var bt=st.length;return bt>1&&Cs(tt,st[0],st[1])?st=[]:bt>2&&Cs(st[0],st[1],st[2])&&(st=[st[0]]),Fv(tt,hs(st,1),[])}),um=xo||function(){return an.Date.now()};function Dx(tt,st){if(typeof st!="function")throw new gs(j);return tt=bn(tt),function(){if(--tt<1)return st.apply(this,arguments)}}function Ty(tt,st,bt){return st=bt?a:st,st=tt&&st==null?tt.length:st,Vo(tt,St,a,a,a,a,st)}function Py(tt,st){var bt;if(typeof st!="function")throw new gs(j);return tt=bn(tt),function(){return--tt>0&&(bt=st.apply(this,arguments)),tt<=1&&(st=a),bt}}var lv=wn(function(tt,st,bt){var Tt=yt;if(bt.length){var Ht=yo(bt,Uu(lv));Tt|=dt}return Vo(tt,Tt,st,bt,Ht)}),Ry=wn(function(tt,st,bt){var Tt=yt|pt;if(bt.length){var Ht=yo(bt,Uu(Ry));Tt|=dt}return Vo(st,Tt,tt,bt,Ht)});function Iy(tt,st,bt){st=bt?a:st;var Tt=Vo(tt,ht,a,a,a,a,a,st);return Tt.placeholder=Iy.placeholder,Tt}function $y(tt,st,bt){st=bt?a:st;var Tt=Vo(tt,mt,a,a,a,a,a,st);return Tt.placeholder=$y.placeholder,Tt}function Oy(tt,st,bt){var Tt,Ht,nr,ur,gr,xr,Fr=0,Mr=!1,jr=!1,Gr=!0;if(typeof tt!="function")throw new gs(j);st=ba(st)||0,Kn(bt)&&(Mr=!!bt.leading,jr="maxWait"in bt,nr=jr?Zn(ba(bt.maxWait)||0,st):nr,Gr="trailing"in bt?!!bt.trailing:Gr);function tn(ts){var oo=Tt,Yo=Ht;return Tt=Ht=a,Fr=ts,ur=tt.apply(Yo,oo),ur}function dn(ts){return Fr=ts,gr=Cp(An,st),Mr?tn(ts):ur}function Sn(ts){var oo=ts-xr,Yo=ts-Fr,Zy=st-oo;return jr?ss(Zy,nr-Yo):Zy}function fn(ts){var oo=ts-xr,Yo=ts-Fr;return xr===a||oo>=st||oo<0||jr&&Yo>=nr}function An(){var ts=um();if(fn(ts))return Tn(ts);gr=Cp(An,Sn(ts))}function Tn(ts){return gr=a,Gr&&Tt?tn(ts):(Tt=Ht=a,ur)}function Gs(){gr!==a&&Uv(gr),Fr=0,Tt=xr=Ht=gr=a}function As(){return gr===a?ur:Tn(um())}function qs(){var ts=um(),oo=fn(ts);if(Tt=arguments,Ht=this,xr=ts,oo){if(gr===a)return dn(xr);if(jr)return Uv(gr),gr=Cp(An,st),tn(xr)}return gr===a&&(gr=Cp(An,st)),ur}return qs.cancel=Gs,qs.flush=As,qs}var Lx=wn(function(tt,st){return _v(tt,1,st)}),jx=wn(function(tt,st,bt){return _v(tt,ba(st)||0,bt)});function Nx(tt){return Vo(tt,Et)}function cm(tt,st){if(typeof tt!="function"||st!=null&&typeof st!="function")throw new gs(j);var bt=function(){var Tt=arguments,Ht=st?st.apply(this,Tt):Tt[0],nr=bt.cache;if(nr.has(Ht))return nr.get(Ht);var ur=tt.apply(this,Tt);return bt.cache=nr.set(Ht,ur)||nr,ur};return bt.cache=new(cm.Cache||kr),bt}cm.Cache=kr;function dm(tt){if(typeof tt!="function")throw new gs(j);return function(){var st=arguments;switch(st.length){case 0:return!tt.call(this);case 1:return!tt.call(this,st[0]);case 2:return!tt.call(this,st[0],st[1]);case 3:return!tt.call(this,st[0],st[1],st[2])}return!tt.apply(this,st)}}function Bx(tt){return Py(2,tt)}var zx=E0(function(tt,st){st=st.length==1&&yn(st[0])?zn(st[0],Ss(un())):zn(hs(st,1),Ss(un()));var bt=st.length;return wn(function(Tt){for(var Ht=-1,nr=ss(Tt.length,bt);++Ht<nr;)Tt[Ht]=st[Ht].call(this,Tt[Ht]);return fs(tt,this,Tt)})}),uv=wn(function(tt,st){var bt=yo(st,Uu(uv));return Vo(tt,dt,a,st,bt)}),Fy=wn(function(tt,st){var bt=yo(st,Uu(Fy));return Vo(tt,vt,a,st,bt)}),Wx=Ho(function(tt,st){return Vo(tt,_t,a,a,a,st)});function Ux(tt,st){if(typeof tt!="function")throw new gs(j);return st=st===a?st:bn(st),wn(tt,st)}function Vx(tt,st){if(typeof tt!="function")throw new gs(j);return st=st==null?0:Zn(bn(st),0),wn(function(bt){var Tt=bt[st],Ht=Ml(bt,0,st);return Tt&&Bs(Ht,Tt),fs(tt,this,Ht)})}function Hx(tt,st,bt){var Tt=!0,Ht=!0;if(typeof tt!="function")throw new gs(j);return Kn(bt)&&(Tt="leading"in bt?!!bt.leading:Tt,Ht="trailing"in bt?!!bt.trailing:Ht),Oy(tt,st,{leading:Tt,maxWait:st,trailing:Ht})}function Gx(tt){return Ty(tt,1)}function qx(tt,st){return uv(qm(st),tt)}function Kx(){if(!arguments.length)return[];var tt=arguments[0];return yn(tt)?tt:[tt]}function Yx(tt){return Js(tt,lt)}function Xx(tt,st){return st=typeof st=="function"?st:a,Js(tt,lt,st)}function Qx(tt){return Js(tt,ot|lt)}function Zx(tt,st){return st=typeof st=="function"?st:a,Js(tt,ot|lt,st)}function Jx(tt,st){return st==null||xv(tt,st,ls(st))}function ao(tt,st){return tt===st||tt!==tt&&st!==st}var e_=nm(Mm),t_=nm(function(tt,st){return tt>=st}),cu=kv(function(){return arguments}())?kv:function(tt){return _i(tt)&&Dn.call(tt,"callee")&&!lp.call(tt,"callee")},yn=Tr.isArray,r_=Ns?Ss(Ns):o0;function $s(tt){return tt!=null&&fm(tt.length)&&!qo(tt)}function es(tt){return _i(tt)&&$s(tt)}function n_(tt){return tt===!0||tt===!1||_i(tt)&&Es(tt)==Zt}var Dl=jo||Sv,i_=go?Ss(go):l0;function s_(tt){return _i(tt)&&tt.nodeType===1&&!Ap(tt)}function a_(tt){if(tt==null)return!0;if($s(tt)&&(yn(tt)||typeof tt=="string"||typeof tt.splice=="function"||Dl(tt)||Vu(tt)||cu(tt)))return!tt.length;var st=ys(tt);if(st==wt||st==lr)return!tt.size;if(Ep(tt))return!jm(tt).length;for(var bt in tt)if(Dn.call(tt,bt))return!1;return!0}function o_(tt,st){return xp(tt,st)}function l_(tt,st,bt){bt=typeof bt=="function"?bt:a;var Tt=bt?bt(tt,st):a;return Tt===a?xp(tt,st,a,bt):!!Tt}function cv(tt){if(!_i(tt))return!1;var st=Es(tt);return st==Dt||st==Ot||typeof tt.message=="string"&&typeof tt.name=="string"&&!Ap(tt)}function u_(tt){return typeof tt=="number"&&cp(tt)}function qo(tt){if(!Kn(tt))return!1;var st=Es(tt);return st==zt||st==Xt||st==er||st==Qt}function My(tt){return typeof tt=="number"&&tt==bn(tt)}function fm(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=jt}function Kn(tt){var st=typeof tt;return tt!=null&&(st=="object"||st=="function")}function _i(tt){return tt!=null&&typeof tt=="object"}var Dy=Yu?Ss(Yu):c0;function c_(tt,st){return tt===st||Lm(tt,st,ev(st))}function d_(tt,st,bt){return bt=typeof bt=="function"?bt:a,Lm(tt,st,ev(st),bt)}function f_(tt){return Ly(tt)&&tt!=+tt}function h_(tt){if(q0(tt))throw new cn($);return Tv(tt)}function p_(tt){return tt===null}function m_(tt){return tt==null}function Ly(tt){return typeof tt=="number"||_i(tt)&&Es(tt)==Vt}function Ap(tt){if(!_i(tt)||Es(tt)!=Nt)return!1;var st=$u(tt);if(st===null)return!0;var bt=Dn.call(st,"constructor")&&st.constructor;return typeof bt=="function"&&bt instanceof bt&&Lo.call(bt)==Cm}var dv=kp?Ss(kp):d0;function g_(tt){return My(tt)&&tt>=-9007199254740991&&tt<=jt}var jy=Su?Ss(Su):f0;function hm(tt){return typeof tt=="string"||!yn(tt)&&_i(tt)&&Es(tt)==ar}function Hs(tt){return typeof tt=="symbol"||_i(tt)&&Es(tt)==vr}var Vu=xu?Ss(xu):h0;function v_(tt){return tt===a}function y_(tt){return _i(tt)&&ys(tt)==Cr}function b_(tt){return _i(tt)&&Es(tt)==Er}var S_=nm(Nm),x_=nm(function(tt,st){return tt<=st});function Ny(tt){if(!tt)return[];if($s(tt))return hm(tt)?zs(tt):Is(tt);if(Qn&&tt[Qn])return Mp(tt[Qn]());var st=ys(tt),bt=st==wt?ip:st==lr?eu:Hu;return bt(tt)}function Ko(tt){if(!tt)return tt===0?tt:0;if(tt=ba(tt),tt===It||tt===-1/0){var st=tt<0?-1:1;return st*$t}return tt===tt?tt:0}function bn(tt){var st=Ko(tt),bt=st%1;return st===st?bt?st-bt:st:0}function By(tt){return tt?au(bn(tt),0,Wt):0}function ba(tt){if(typeof tt=="number")return tt;if(Hs(tt))return Jt;if(Kn(tt)){var st=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=Kn(st)?st+"":st}if(typeof tt!="string")return tt===0?tt:+tt;tt=tp(tt);var bt=xa.test(tt);return bt||$a.test(tt)?_n(tt.slice(2),bt?2:8):us.test(tt)?Jt:+tt}function zy(tt){return ko(tt,Os(tt))}function __(tt){return tt?au(bn(tt),-9007199254740991,jt):tt===0?tt:0}function Ln(tt){return tt==null?"":Vs(tt)}var w_=zu(function(tt,st){if(Ep(st)||$s(st)){ko(st,ls(st),tt);return}for(var bt in st)Dn.call(st,bt)&&Rs(tt,bt,st[bt])}),Wy=zu(function(tt,st){ko(st,Os(st),tt)}),pm=zu(function(tt,st,bt,Tt){ko(st,Os(st),tt,Tt)}),E_=zu(function(tt,st,bt,Tt){ko(st,ls(st),tt,Tt)}),C_=Ho($m);function A_(tt,st){var bt=zo(tt);return st==null?bt:vp(bt,st)}var k_=wn(function(tt,st){tt=kn(tt);var bt=-1,Tt=st.length,Ht=Tt>2?st[2]:a;for(Ht&&Cs(st[0],st[1],Ht)&&(Tt=1);++bt<Tt;)for(var nr=st[bt],ur=Os(nr),gr=-1,xr=ur.length;++gr<xr;){var Fr=ur[gr],Mr=tt[Fr];(Mr===a||ao(Mr,Do[Fr])&&!Dn.call(tt,Fr))&&(tt[Fr]=nr[Fr])}return tt}),T_=wn(function(tt){return tt.push(a,sy),fs(Uy,a,tt)});function P_(tt,st){return Rp(tt,un(st,3),Ao)}function R_(tt,st){return Rp(tt,un(st,3),Fm)}function I_(tt,st){return tt==null?tt:Om(tt,un(st,3),Os)}function $_(tt,st){return tt==null?tt:Cv(tt,un(st,3),Os)}function O_(tt,st){return tt&&Ao(tt,un(st,3))}function F_(tt,st){return tt&&Fm(tt,un(st,3))}function M_(tt){return tt==null?[]:Yp(tt,ls(tt))}function D_(tt){return tt==null?[]:Yp(tt,Os(tt))}function fv(tt,st,bt){var Tt=tt==null?a:ou(tt,st);return Tt===a?bt:Tt}function L_(tt,st){return tt!=null&&ly(tt,st,n0)}function hv(tt,st){return tt!=null&&ly(tt,st,i0)}var j_=ey(function(tt,st,bt){st!=null&&typeof st.toString!="function"&&(st=Pu.call(st)),tt[st]=bt},mv(Fs)),N_=ey(function(tt,st,bt){st!=null&&typeof st.toString!="function"&&(st=Pu.call(st)),Dn.call(tt,st)?tt[st].push(bt):tt[st]=[bt]},un),B_=wn(Sp);function ls(tt){return $s(tt)?Wn(tt):jm(tt)}function Os(tt){return $s(tt)?Wn(tt,!0):p0(tt)}function z_(tt,st){var bt={};return st=un(st,3),Ao(tt,function(Tt,Ht,nr){Uo(bt,st(Tt,Ht,nr),Tt)}),bt}function W_(tt,st){var bt={};return st=un(st,3),Ao(tt,function(Tt,Ht,nr){Uo(bt,Ht,st(Tt,Ht,nr))}),bt}var U_=zu(function(tt,st,bt){Xp(tt,st,bt)}),Uy=zu(function(tt,st,bt,Tt){Xp(tt,st,bt,Tt)}),V_=Ho(function(tt,st){var bt={};if(tt==null)return bt;var Tt=!1;st=zn(st,function(nr){return nr=Fl(nr,tt),Tt||(Tt=nr.length>1),nr}),ko(tt,Zm(tt),bt),Tt&&(bt=Js(bt,ot|at|lt,M0));for(var Ht=st.length;Ht--;)Vm(bt,st[Ht]);return bt});function H_(tt,st){return Vy(tt,dm(un(st)))}var G_=Ho(function(tt,st){return tt==null?{}:g0(tt,st)});function Vy(tt,st){if(tt==null)return{};var bt=zn(Zm(tt),function(Tt){return[Tt]});return st=un(st),Mv(tt,bt,function(Tt,Ht){return st(Tt,Ht[0])})}function q_(tt,st,bt){st=Fl(st,tt);var Tt=-1,Ht=st.length;for(Ht||(Ht=1,tt=a);++Tt<Ht;){var nr=tt==null?a:tt[To(st[Tt])];nr===a&&(Tt=Ht,nr=bt),tt=qo(nr)?nr.call(tt):nr}return tt}function K_(tt,st,bt){return tt==null?tt:_p(tt,st,bt)}function Y_(tt,st,bt,Tt){return Tt=typeof Tt=="function"?Tt:a,tt==null?tt:_p(tt,st,bt,Tt)}var Hy=ny(ls),Gy=ny(Os);function X_(tt,st,bt){var Tt=yn(tt),Ht=Tt||Dl(tt)||Vu(tt);if(st=un(st,4),bt==null){var nr=tt&&tt.constructor;Ht?bt=Tt?new nr:[]:Kn(tt)?bt=qo(nr)?zo($u(tt)):{}:bt={}}return(Ht?Ts:Ao)(tt,function(ur,gr,xr){return st(bt,ur,gr,xr)}),bt}function Q_(tt,st){return tt==null?!0:Vm(tt,st)}function Z_(tt,st,bt){return tt==null?tt:Bv(tt,st,qm(bt))}function J_(tt,st,bt,Tt){return Tt=typeof Tt=="function"?Tt:a,tt==null?tt:Bv(tt,st,qm(bt),Tt)}function Hu(tt){return tt==null?[]:Al(tt,ls(tt))}function e1(tt){return tt==null?[]:Al(tt,Os(tt))}function t1(tt,st,bt){return bt===a&&(bt=st,st=a),bt!==a&&(bt=ba(bt),bt=bt===bt?bt:0),st!==a&&(st=ba(st),st=st===st?st:0),au(ba(tt),st,bt)}function r1(tt,st,bt){return st=Ko(st),bt===a?(bt=st,st=0):bt=Ko(bt),tt=ba(tt),s0(tt,st,bt)}function n1(tt,st,bt){if(bt&&typeof bt!="boolean"&&Cs(tt,st,bt)&&(st=bt=a),bt===a&&(typeof st=="boolean"?(bt=st,st=a):typeof tt=="boolean"&&(bt=tt,tt=a)),tt===a&&st===a?(tt=0,st=1):(tt=Ko(tt),st===a?(st=tt,tt=0):st=Ko(st)),tt>st){var Tt=tt;tt=st,st=Tt}if(bt||tt%1||st%1){var Ht=dp();return ss(tt+Ht*(st-tt+Xr("1e-"+((Ht+"").length-1))),st)}return zm(tt,st)}var i1=Wu(function(tt,st,bt){return st=st.toLowerCase(),tt+(bt?qy(st):st)});function qy(tt){return pv(Ln(tt).toLowerCase())}function Ky(tt){return tt=Ln(tt),tt&&tt.replace(bs,Fp).replace(ds,"")}function s1(tt,st,bt){tt=Ln(tt),st=Vs(st);var Tt=tt.length;bt=bt===a?Tt:au(bn(bt),0,Tt);var Ht=bt;return bt-=st.length,bt>=0&&tt.slice(bt,Ht)==st}function a1(tt){return tt=Ln(tt),tt&&Pr.test(tt)?tt.replace(Yr,wu):tt}function o1(tt){return tt=Ln(tt),tt&&en.test(tt)?tt.replace(hn,"\\$&"):tt}var l1=Wu(function(tt,st,bt){return tt+(bt?"-":"")+st.toLowerCase()}),u1=Wu(function(tt,st,bt){return tt+(bt?" ":"")+st.toLowerCase()}),c1=Qv("toLowerCase");function d1(tt,st,bt){tt=Ln(tt),st=bn(st);var Tt=st?Mo(tt):0;if(!st||Tt>=st)return tt;var Ht=(st-Tt)/2;return rm(wo(Ht),bt)+tt+rm(vs(Ht),bt)}function f1(tt,st,bt){tt=Ln(tt),st=bn(st);var Tt=st?Mo(tt):0;return st&&Tt<st?tt+rm(st-Tt,bt):tt}function h1(tt,st,bt){tt=Ln(tt),st=bn(st);var Tt=st?Mo(tt):0;return st&&Tt<st?rm(st-Tt,bt)+tt:tt}function p1(tt,st,bt){return bt||st==null?st=0:st&&(st=+st),Du(Ln(tt).replace(xn,""),st||0)}function m1(tt,st,bt){return(bt?Cs(tt,st,bt):st===a)?st=1:st=bn(st),Wm(Ln(tt),st)}function g1(){var tt=arguments,st=Ln(tt[0]);return tt.length<3?st:st.replace(tt[1],tt[2])}var v1=Wu(function(tt,st,bt){return tt+(bt?"_":"")+st.toLowerCase()});function y1(tt,st,bt){return bt&&typeof bt!="number"&&Cs(tt,st,bt)&&(st=bt=a),bt=bt===a?Wt:bt>>>0,bt?(tt=Ln(tt),tt&&(typeof st=="string"||st!=null&&!dv(st))&&(st=Vs(st),!st&&Xs(tt))?Ml(zs(tt),0,bt):tt.split(st,bt)):[]}var b1=Wu(function(tt,st,bt){return tt+(bt?" ":"")+pv(st)});function S1(tt,st,bt){return tt=Ln(tt),bt=bt==null?0:au(bn(bt),0,tt.length),st=Vs(st),tt.slice(bt,bt+st.length)==st}function x1(tt,st,bt){var Tt=rr.templateSettings;bt&&Cs(tt,st,bt)&&(st=a),tt=Ln(tt),st=pm({},st,Tt,iy);var Ht=pm({},st.imports,Tt.imports,iy),nr=ls(Ht),ur=Al(Ht,nr),gr,xr,Fr=0,Mr=st.interpolate||ks,jr="__p += '",Gr=bo((st.escape||ks).source+"|"+Mr.source+"|"+(Mr===Hr?rs:ks).source+"|"+(st.evaluate||ks).source+"|$","g"),tn="//# sourceURL="+(Dn.call(st,"sourceURL")?(st.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_l+"]")+`
`;tt.replace(Gr,function(fn,An,Tn,Gs,As,qs){return Tn||(Tn=Gs),jr+=tt.slice(Fr,qs).replace(uo,np),An&&(gr=!0,jr+=`' +
__e(`+An+`) +
'`),As&&(xr=!0,jr+=`';
`+As+`;
__p += '`),Tn&&(jr+=`' +
((__t = (`+Tn+`)) == null ? '' : __t) +
'`),Fr=qs+fn.length,fn}),jr+=`';
`;var dn=Dn.call(st,"variable")&&st.variable;if(!dn)jr=`with (obj) {
`+jr+`
}
`;else if(Yn.test(dn))throw new cn(et);jr=(xr?jr.replace(wr,""):jr).replace(dr,"$1").replace(fr,"$1;"),jr="function("+(dn||"obj")+`) {
`+(dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(gr?", __e = _.escape":"")+(xr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jr+`return __p
}`;var Sn=Xy(function(){return Pn(nr,tn+"return "+jr).apply(a,ur)});if(Sn.source=jr,cv(Sn))throw Sn;return Sn}function _1(tt){return Ln(tt).toLowerCase()}function w1(tt){return Ln(tt).toUpperCase()}function E1(tt,st,bt){if(tt=Ln(tt),tt&&(bt||st===a))return tp(tt);if(!tt||!(st=Vs(st)))return tt;var Tt=zs(tt),Ht=zs(st),nr=$p(Tt,Ht),ur=Op(Tt,Ht)+1;return Ml(Tt,nr,ur).join("")}function C1(tt,st,bt){if(tt=Ln(tt),tt&&(bt||st===a))return tt.slice(0,Lp(tt)+1);if(!tt||!(st=Vs(st)))return tt;var Tt=zs(tt),Ht=Op(Tt,zs(st))+1;return Ml(Tt,0,Ht).join("")}function A1(tt,st,bt){if(tt=Ln(tt),tt&&(bt||st===a))return tt.replace(xn,"");if(!tt||!(st=Vs(st)))return tt;var Tt=zs(tt),Ht=$p(Tt,zs(st));return Ml(Tt,Ht).join("")}function k1(tt,st){var bt=Pt,Tt=Mt;if(Kn(st)){var Ht="separator"in st?st.separator:Ht;bt="length"in st?bn(st.length):bt,Tt="omission"in st?Vs(st.omission):Tt}tt=Ln(tt);var nr=tt.length;if(Xs(tt)){var ur=zs(tt);nr=ur.length}if(bt>=nr)return tt;var gr=bt-Mo(Tt);if(gr<1)return Tt;var xr=ur?Ml(ur,0,gr).join(""):tt.slice(0,gr);if(Ht===a)return xr+Tt;if(ur&&(gr+=xr.length-gr),dv(Ht)){if(tt.slice(gr).search(Ht)){var Fr,Mr=xr;for(Ht.global||(Ht=bo(Ht.source,Ln(Ms.exec(Ht))+"g")),Ht.lastIndex=0;Fr=Ht.exec(Mr);)var jr=Fr.index;xr=xr.slice(0,jr===a?gr:jr)}}else if(tt.indexOf(Vs(Ht),gr)!=gr){var Gr=xr.lastIndexOf(Ht);Gr>-1&&(xr=xr.slice(0,Gr))}return xr+Tt}function T1(tt){return tt=Ln(tt),tt&&Qr.test(tt)?tt.replace(Rr,ap):tt}var P1=Wu(function(tt,st,bt){return tt+(bt?" ":"")+st.toUpperCase()}),pv=Qv("toUpperCase");function Yy(tt,st,bt){return tt=Ln(tt),st=bt?a:st,st===a?Eu(tt)?_m(tt):ym(tt):tt.match(st)||[]}var Xy=wn(function(tt,st){try{return fs(tt,a,st)}catch(bt){return cv(bt)?bt:new cn(bt)}}),R1=Ho(function(tt,st){return Ts(st,function(bt){bt=To(bt),Uo(tt,bt,lv(tt[bt],tt))}),tt});function I1(tt){var st=tt==null?0:tt.length,bt=un();return tt=st?zn(tt,function(Tt){if(typeof Tt[1]!="function")throw new gs(j);return[bt(Tt[0]),Tt[1]]}):[],wn(function(Tt){for(var Ht=-1;++Ht<st;){var nr=tt[Ht];if(fs(nr[0],this,Tt))return fs(nr[1],this,Tt)}})}function $1(tt){return e0(Js(tt,ot))}function mv(tt){return function(){return tt}}function O1(tt,st){return tt==null||tt!==tt?st:tt}var F1=Jv(),M1=Jv(!0);function Fs(tt){return tt}function gv(tt){return Pv(typeof tt=="function"?tt:Js(tt,ot))}function D1(tt){return Iv(Js(tt,ot))}function L1(tt,st){return $v(tt,Js(st,ot))}var j1=wn(function(tt,st){return function(bt){return Sp(bt,tt,st)}}),N1=wn(function(tt,st){return function(bt){return Sp(tt,bt,st)}});function vv(tt,st,bt){var Tt=ls(st),Ht=Yp(st,Tt);bt==null&&!(Kn(st)&&(Ht.length||!Tt.length))&&(bt=st,st=tt,tt=this,Ht=Yp(st,ls(st)));var nr=!(Kn(bt)&&"chain"in bt)||!!bt.chain,ur=qo(tt);return Ts(Ht,function(gr){var xr=st[gr];tt[gr]=xr,ur&&(tt.prototype[gr]=function(){var Fr=this.__chain__;if(nr||Fr){var Mr=tt(this.__wrapped__),jr=Mr.__actions__=Is(this.__actions__);return jr.push({func:xr,args:arguments,thisArg:tt}),Mr.__chain__=Fr,Mr}return xr.apply(tt,Bs([this.value()],arguments))})}),tt}function B1(){return an._===this&&(an._=Am),this}function yv(){}function z1(tt){return tt=bn(tt),wn(function(st){return Ov(st,tt)})}var W1=Ym(zn),U1=Ym(Tp),V1=Ym(ro);function Qy(tt){return rv(tt)?vo(To(tt)):v0(tt)}function H1(tt){return function(st){return tt==null?a:ou(tt,st)}}var G1=ty(),q1=ty(!0);function bv(){return[]}function Sv(){return!1}function K1(){return{}}function Y1(){return""}function X1(){return!0}function Q1(tt,st){if(tt=bn(tt),tt<1||tt>jt)return[];var bt=Wt,Tt=ss(tt,Wt);st=un(st),tt-=Wt;for(var Ht=ep(Tt,st);++bt<tt;)st(bt);return Ht}function Z1(tt){return yn(tt)?zn(tt,To):Hs(tt)?[tt]:Is(vy(Ln(tt)))}function J1(tt){var st=++Em;return Ln(tt)+st}var ew=tm(function(tt,st){return tt+st},0),tw=Xm("ceil"),rw=tm(function(tt,st){return tt/st},1),nw=Xm("floor");function iw(tt){return tt&&tt.length?Kp(tt,Fs,Mm):a}function sw(tt,st){return tt&&tt.length?Kp(tt,un(st,2),Mm):a}function aw(tt){return Zu(tt,Fs)}function ow(tt,st){return Zu(tt,un(st,2))}function lw(tt){return tt&&tt.length?Kp(tt,Fs,Nm):a}function uw(tt,st){return tt&&tt.length?Kp(tt,un(st,2),Nm):a}var cw=tm(function(tt,st){return tt*st},1),dw=Xm("round"),fw=tm(function(tt,st){return tt-st},0);function hw(tt){return tt&&tt.length?Cl(tt,Fs):0}function pw(tt,st){return tt&&tt.length?Cl(tt,un(st,2)):0}return rr.after=Dx,rr.ary=Ty,rr.assign=w_,rr.assignIn=Wy,rr.assignInWith=pm,rr.assignWith=E_,rr.at=C_,rr.before=Py,rr.bind=lv,rr.bindAll=R1,rr.bindKey=Ry,rr.castArray=Kx,rr.chain=Cy,rr.chunk=eS,rr.compact=tS,rr.concat=rS,rr.cond=I1,rr.conforms=$1,rr.constant=mv,rr.countBy=fx,rr.create=A_,rr.curry=Iy,rr.curryRight=$y,rr.debounce=Oy,rr.defaults=k_,rr.defaultsDeep=T_,rr.defer=Lx,rr.delay=jx,rr.difference=nS,rr.differenceBy=iS,rr.differenceWith=sS,rr.drop=aS,rr.dropRight=oS,rr.dropRightWhile=lS,rr.dropWhile=uS,rr.fill=cS,rr.filter=mx,rr.flatMap=yx,rr.flatMapDeep=bx,rr.flatMapDepth=Sx,rr.flatten=xy,rr.flattenDeep=dS,rr.flattenDepth=fS,rr.flip=Nx,rr.flow=F1,rr.flowRight=M1,rr.fromPairs=hS,rr.functions=M_,rr.functionsIn=D_,rr.groupBy=xx,rr.initial=mS,rr.intersection=gS,rr.intersectionBy=vS,rr.intersectionWith=yS,rr.invert=j_,rr.invertBy=N_,rr.invokeMap=wx,rr.iteratee=gv,rr.keyBy=Ex,rr.keys=ls,rr.keysIn=Os,rr.map=lm,rr.mapKeys=z_,rr.mapValues=W_,rr.matches=D1,rr.matchesProperty=L1,rr.memoize=cm,rr.merge=U_,rr.mergeWith=Uy,rr.method=j1,rr.methodOf=N1,rr.mixin=vv,rr.negate=dm,rr.nthArg=z1,rr.omit=V_,rr.omitBy=H_,rr.once=Bx,rr.orderBy=Cx,rr.over=W1,rr.overArgs=zx,rr.overEvery=U1,rr.overSome=V1,rr.partial=uv,rr.partialRight=Fy,rr.partition=Ax,rr.pick=G_,rr.pickBy=Vy,rr.property=Qy,rr.propertyOf=H1,rr.pull=_S,rr.pullAll=wy,rr.pullAllBy=wS,rr.pullAllWith=ES,rr.pullAt=CS,rr.range=G1,rr.rangeRight=q1,rr.rearg=Wx,rr.reject=Px,rr.remove=AS,rr.rest=Ux,rr.reverse=av,rr.sampleSize=Ix,rr.set=K_,rr.setWith=Y_,rr.shuffle=$x,rr.slice=kS,rr.sortBy=Mx,rr.sortedUniq=FS,rr.sortedUniqBy=DS,rr.split=y1,rr.spread=Vx,rr.tail=LS,rr.take=jS,rr.takeRight=NS,rr.takeRightWhile=BS,rr.takeWhile=zS,rr.tap=rx,rr.throttle=Hx,rr.thru=om,rr.toArray=Ny,rr.toPairs=Hy,rr.toPairsIn=Gy,rr.toPath=Z1,rr.toPlainObject=zy,rr.transform=X_,rr.unary=Gx,rr.union=WS,rr.unionBy=US,rr.unionWith=VS,rr.uniq=HS,rr.uniqBy=GS,rr.uniqWith=qS,rr.unset=Q_,rr.unzip=ov,rr.unzipWith=Ey,rr.update=Z_,rr.updateWith=J_,rr.values=Hu,rr.valuesIn=e1,rr.without=KS,rr.words=Yy,rr.wrap=qx,rr.xor=YS,rr.xorBy=XS,rr.xorWith=QS,rr.zip=ZS,rr.zipObject=JS,rr.zipObjectDeep=ex,rr.zipWith=tx,rr.entries=Hy,rr.entriesIn=Gy,rr.extend=Wy,rr.extendWith=pm,vv(rr,rr),rr.add=ew,rr.attempt=Xy,rr.camelCase=i1,rr.capitalize=qy,rr.ceil=tw,rr.clamp=t1,rr.clone=Yx,rr.cloneDeep=Qx,rr.cloneDeepWith=Zx,rr.cloneWith=Xx,rr.conformsTo=Jx,rr.deburr=Ky,rr.defaultTo=O1,rr.divide=rw,rr.endsWith=s1,rr.eq=ao,rr.escape=a1,rr.escapeRegExp=o1,rr.every=hx,rr.find=gx,rr.findIndex=by,rr.findKey=P_,rr.findLast=vx,rr.findLastIndex=Sy,rr.findLastKey=R_,rr.floor=nw,rr.forEach=Ay,rr.forEachRight=ky,rr.forIn=I_,rr.forInRight=$_,rr.forOwn=O_,rr.forOwnRight=F_,rr.get=fv,rr.gt=e_,rr.gte=t_,rr.has=L_,rr.hasIn=hv,rr.head=_y,rr.identity=Fs,rr.includes=_x,rr.indexOf=pS,rr.inRange=r1,rr.invoke=B_,rr.isArguments=cu,rr.isArray=yn,rr.isArrayBuffer=r_,rr.isArrayLike=$s,rr.isArrayLikeObject=es,rr.isBoolean=n_,rr.isBuffer=Dl,rr.isDate=i_,rr.isElement=s_,rr.isEmpty=a_,rr.isEqual=o_,rr.isEqualWith=l_,rr.isError=cv,rr.isFinite=u_,rr.isFunction=qo,rr.isInteger=My,rr.isLength=fm,rr.isMap=Dy,rr.isMatch=c_,rr.isMatchWith=d_,rr.isNaN=f_,rr.isNative=h_,rr.isNil=m_,rr.isNull=p_,rr.isNumber=Ly,rr.isObject=Kn,rr.isObjectLike=_i,rr.isPlainObject=Ap,rr.isRegExp=dv,rr.isSafeInteger=g_,rr.isSet=jy,rr.isString=hm,rr.isSymbol=Hs,rr.isTypedArray=Vu,rr.isUndefined=v_,rr.isWeakMap=y_,rr.isWeakSet=b_,rr.join=bS,rr.kebabCase=l1,rr.last=ga,rr.lastIndexOf=SS,rr.lowerCase=u1,rr.lowerFirst=c1,rr.lt=S_,rr.lte=x_,rr.max=iw,rr.maxBy=sw,rr.mean=aw,rr.meanBy=ow,rr.min=lw,rr.minBy=uw,rr.stubArray=bv,rr.stubFalse=Sv,rr.stubObject=K1,rr.stubString=Y1,rr.stubTrue=X1,rr.multiply=cw,rr.nth=xS,rr.noConflict=B1,rr.noop=yv,rr.now=um,rr.pad=d1,rr.padEnd=f1,rr.padStart=h1,rr.parseInt=p1,rr.random=n1,rr.reduce=kx,rr.reduceRight=Tx,rr.repeat=m1,rr.replace=g1,rr.result=q_,rr.round=dw,rr.runInContext=Sr,rr.sample=Rx,rr.size=Ox,rr.snakeCase=v1,rr.some=Fx,rr.sortedIndex=TS,rr.sortedIndexBy=PS,rr.sortedIndexOf=RS,rr.sortedLastIndex=IS,rr.sortedLastIndexBy=$S,rr.sortedLastIndexOf=OS,rr.startCase=b1,rr.startsWith=S1,rr.subtract=fw,rr.sum=hw,rr.sumBy=pw,rr.template=x1,rr.times=Q1,rr.toFinite=Ko,rr.toInteger=bn,rr.toLength=By,rr.toLower=_1,rr.toNumber=ba,rr.toSafeInteger=__,rr.toString=Ln,rr.toUpper=w1,rr.trim=E1,rr.trimEnd=C1,rr.trimStart=A1,rr.truncate=k1,rr.unescape=T1,rr.uniqueId=J1,rr.upperCase=P1,rr.upperFirst=pv,rr.each=Ay,rr.eachRight=ky,rr.first=_y,vv(rr,function(){var tt={};return Ao(rr,function(st,bt){Dn.call(rr.prototype,bt)||(tt[bt]=st)}),tt}(),{chain:!1}),rr.VERSION=o,Ts(["bind","bindKey","curry","curryRight","partial","partialRight"],function(tt){rr[tt].placeholder=rr}),Ts(["drop","take"],function(tt,st){En.prototype[tt]=function(bt){bt=bt===a?1:Zn(bn(bt),0);var Tt=this.__filtered__&&!st?new En(this):this.clone();return Tt.__filtered__?Tt.__takeCount__=ss(bt,Tt.__takeCount__):Tt.__views__.push({size:ss(bt,Wt),type:tt+(Tt.__dir__<0?"Right":"")}),Tt},En.prototype[tt+"Right"]=function(bt){return this.reverse()[tt](bt).reverse()}}),Ts(["filter","map","takeWhile"],function(tt,st){var bt=st+1,Tt=bt==Ct||bt==Gt;En.prototype[tt]=function(Ht){var nr=this.clone();return nr.__iteratees__.push({iteratee:un(Ht,3),type:bt}),nr.__filtered__=nr.__filtered__||Tt,nr}}),Ts(["head","last"],function(tt,st){var bt="take"+(st?"Right":"");En.prototype[tt]=function(){return this[bt](1).value()[0]}}),Ts(["initial","tail"],function(tt,st){var bt="drop"+(st?"":"Right");En.prototype[tt]=function(){return this.__filtered__?new En(this):this[bt](1)}}),En.prototype.compact=function(){return this.filter(Fs)},En.prototype.find=function(tt){return this.filter(tt).head()},En.prototype.findLast=function(tt){return this.reverse().find(tt)},En.prototype.invokeMap=wn(function(tt,st){return typeof tt=="function"?new En(this):this.map(function(bt){return Sp(bt,tt,st)})}),En.prototype.reject=function(tt){return this.filter(dm(un(tt)))},En.prototype.slice=function(tt,st){tt=bn(tt);var bt=this;return bt.__filtered__&&(tt>0||st<0)?new En(bt):(tt<0?bt=bt.takeRight(-tt):tt&&(bt=bt.drop(tt)),st!==a&&(st=bn(st),bt=st<0?bt.dropRight(-st):bt.take(st-tt)),bt)},En.prototype.takeRightWhile=function(tt){return this.reverse().takeWhile(tt).reverse()},En.prototype.toArray=function(){return this.take(Wt)},Ao(En.prototype,function(tt,st){var bt=/^(?:filter|find|map|reject)|While$/.test(st),Tt=/^(?:head|last)$/.test(st),Ht=rr[Tt?"take"+(st=="last"?"Right":""):st],nr=Tt||/^find/.test(st);Ht&&(rr.prototype[st]=function(){var ur=this.__wrapped__,gr=Tt?[1]:arguments,xr=ur instanceof En,Fr=gr[0],Mr=xr||yn(ur),jr=function(An){var Tn=Ht.apply(rr,Bs([An],gr));return Tt&&Gr?Tn[0]:Tn};Mr&&bt&&typeof Fr=="function"&&Fr.length!=1&&(xr=Mr=!1);var Gr=this.__chain__,tn=!!this.__actions__.length,dn=nr&&!Gr,Sn=xr&&!tn;if(!nr&&Mr){ur=Sn?ur:new En(this);var fn=tt.apply(ur,gr);return fn.__actions__.push({func:om,args:[jr],thisArg:a}),new xs(fn,Gr)}return dn&&Sn?tt.apply(this,gr):(fn=this.thru(jr),dn?Tt?fn.value()[0]:fn.value():fn)})}),Ts(["pop","push","shift","sort","splice","unshift"],function(tt){var st=ku[tt],bt=/^(?:push|sort|unshift)$/.test(tt)?"tap":"thru",Tt=/^(?:pop|shift)$/.test(tt);rr.prototype[tt]=function(){var Ht=arguments;if(Tt&&!this.__chain__){var nr=this.value();return st.apply(yn(nr)?nr:[],Ht)}return this[bt](function(ur){return st.apply(yn(ur)?ur:[],Ht)})}}),Ao(En.prototype,function(tt,st){var bt=rr[st];if(bt){var Tt=bt.name+"";Dn.call(No,Tt)||(No[Tt]=[]),No[Tt].push({name:st,func:bt})}}),No[em(a,pt).name]=[{name:"wrapper",func:a}],En.prototype.clone=Tm,En.prototype.reverse=Pm,En.prototype.value=Rm,rr.prototype.at=nx,rr.prototype.chain=ix,rr.prototype.commit=sx,rr.prototype.next=ax,rr.prototype.plant=lx,rr.prototype.reverse=ux,rr.prototype.toJSON=rr.prototype.valueOf=rr.prototype.value=dx,rr.prototype.first=rr.prototype.head,Qn&&(rr.prototype[Qn]=ox),rr},Tl=wm();Xn?((Xn.exports=Tl)._=Tl,Cn._=Tl):an._=Tl}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;lodashExports.debounce(async(i,s,a,o,_,$,j)=>{if(!i||!s.trim()||!a.current){$(!1);return}try{const{error:et}=await saveReading(i.id,s,a.current.getCurrentIndex(),o,_);if(et)throw et;j==null||j()}catch(et){console.error("Error saving reading:",et),alert("Failed to save reading. Please try again.")}finally{$(!1)}},1e3,{leading:!0,trailing:!1});const Reader=({initialText:i="",initialSpeed:s=300,initialFontSize:a=64,onProgressChange:o,onSpeedChange:_,onFontSizeChange:$,onSave:j})=>{const{setColorMode:et}=useColorMode(),rt=useToast();console.log("Reader component rendering");const[nt,it]=reactExports.useState(i),[ot,at]=reactExports.useState(s),[lt,gt]=reactExports.useState(a),[ct,yt]=reactExports.useState(""),[pt,ut]=reactExports.useState(!1),[ht,mt]=reactExports.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[dt,vt]=reactExports.useState(!1),[St,_t]=reactExports.useState(null),[Et,Pt]=reactExports.useState(!1),[Mt,Rt]=reactExports.useState(!1),[Ut,Ct]=reactExports.useState(!1),[Kt,Gt]=reactExports.useState(""),[It,jt]=reactExports.useState(i),[$t,Jt]=reactExports.useState(0),Wt=reactExports.useRef(null),tr=reactExports.useRef(null);reactExports.useEffect(()=>{console.log("Reader component mounted");const Vt=new RSVPReader;console.log("Reader instance created:",Vt),Wt.current=Vt,Vt.onTextChange=Nt=>{console.log("Text changed:",Nt.substring(0,50)+"..."),it(Nt)},Vt.onProgressChange=(Nt,Bt)=>{console.log("Progress changed:",{index:Nt,total:Bt}),yt(Vt.getCurrentWord()),o==null||o(Nt,Bt)},i&&(console.log("Loading initial text"),Vt.loadContent(i)),Vt.setSpeed(s),supabase.auth.getSession().then(({data:{session:Nt}})=>{_t((Nt==null?void 0:Nt.user)??null)});const{data:{subscription:qt}}=supabase.auth.onAuthStateChange((Nt,Bt)=>{_t((Bt==null?void 0:Bt.user)??null)});return()=>{console.log("Reader component unmounting"),qt.unsubscribe()}},[]),reactExports.useEffect(()=>{(async()=>{if(St)try{const{data:qt,error:Nt}=await getUserPreferences(St.id);if(Nt)throw Nt;qt&&(at(qt.wpm||s),gt(qt.font_size||a),typeof qt.dark_mode=="boolean"&&mt(qt.dark_mode))}catch(qt){console.error("Error loading preferences:",qt)}})()},[St]),reactExports.useEffect(()=>{const qt=setTimeout(async()=>{if(St)try{await saveUserPreferences(St.id,{wpm:ot,font_size:lt,dark_mode:ht})}catch(Nt){console.error("Error saving preferences:",Nt)}},500);return()=>clearTimeout(qt)},[St,ot,lt,ht]),reactExports.useEffect(()=>{et(ht?"dark":"light")},[ht,et]);const mr=reactExports.useCallback(()=>{if(Wt.current){if(!nt.trim()){alert("Please load or enter some text first");return}Wt.current.getWords().length||Wt.current.loadContent(nt),Wt.current.start(),ut(!0),yt(Wt.current.getCurrentWord())}},[nt]),Yt=reactExports.useCallback(()=>{Wt.current&&(Wt.current.pause(),ut(!1),yt(Wt.current.getCurrentWord()))},[]),kt=reactExports.useCallback(Vt=>{Wt.current&&(Wt.current.setSpeed(Vt),at(Vt),_==null||_(Vt))},[_]),Ft=reactExports.useCallback(Vt=>{gt(Vt),$==null||$(Vt)},[$]),er=reactExports.useCallback(async()=>{if(tr.current)try{dt?await document.exitFullscreen():(await tr.current.requestFullscreen(),tr.current.classList.add("fullscreen"))}catch(Vt){console.error("Fullscreen error:",Vt)}},[dt]);reactExports.useEffect(()=>{const Vt=()=>{vt(!!document.fullscreenElement),!document.fullscreenElement&&tr.current&&tr.current.classList.remove("fullscreen")};return document.addEventListener("fullscreenchange",Vt),()=>document.removeEventListener("fullscreenchange",Vt)},[]);const Zt=async Vt=>{var Nt;const qt=(Nt=Vt.target.files)==null?void 0:Nt[0];if(qt&&Wt.current)try{await Wt.current.loadFile(qt)}catch(Bt){console.error("Error loading file:",Bt),alert("Error loading file. Please try again.")}},At=async Vt=>{var qt;if(!(!Vt.trim()||!Wt.current))try{const Bt=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent(Vt));if(!Bt.ok)throw new Error("Failed to fetch URL");const Qt=await Bt.text(),sr=new DOMParser().parseFromString(Qt,"text/html");sr.querySelectorAll('script, style, nav, header, footer, iframe, [role="navigation"]').forEach(_r=>_r.remove());const ar=sr.querySelector("main")||sr.querySelector("article")||sr.querySelector(".content")||sr.querySelector(".main-content")||sr.body,vr=ar&&((qt=ar.textContent)==null?void 0:qt.trim())||"";Wt.current.loadContent(vr)}catch(Nt){console.error("Error loading URL:",Nt),alert("Failed to load URL. Please check the URL and try again.")}},Ot=reactExports.useCallback(()=>{Pt(!0)},[]),Dt=reactExports.useCallback(async()=>{try{const{error:Vt}=await supabase.auth.signOut();if(Vt)throw Vt}catch(Vt){console.error("Error signing out:",Vt),alert("Failed to sign out. Please try again.")}},[]),zt=reactExports.useCallback(()=>{var Vt;if(!St){rt({title:"Please sign in",description:"You need to be signed in to save readings",status:"warning",duration:3e3,isClosable:!0});return}jt(nt),Jt(((Vt=Wt.current)==null?void 0:Vt.getCurrentIndex())||0),Ct(!0)},[St,nt,rt]),Xt=(Vt,qt,Nt,Bt)=>{Wt.current&&(Wt.current.loadContent(Vt),Wt.current.setCurrentIndex(qt),yt(Wt.current.getCurrentWord()),Nt&&kt(Nt),Bt&&Ft(Bt))};reactExports.useEffect(()=>{const Vt=qt=>{(qt.ctrlKey||qt.metaKey)&&qt.key==="s"&&(qt.preventDefault(),St?Ct(!0):rt({title:"Please sign in",description:"You need to be signed in to save readings",status:"warning",duration:3e3,isClosable:!0}))};return window.addEventListener("keydown",Vt),()=>window.removeEventListener("keydown",Vt)},[St]);const wt=async()=>{if(!(!St||!Wt.current))try{Rt(!0);const Vt=nt,qt=Wt.current.getCurrentIndex(),Bt=(()=>{if(!Vt||Vt.trim().length===0)return new Date().toLocaleString();const sr=Vt.trim().split(" ").slice(0,5).join(" ");return sr.length>0?`${sr}...`:new Date().toLocaleString()})();try{const{error:Qt}=await saveReading(St.id,Vt,qt,Wt.current.getSpeed(),lt,Bt);if(Qt)throw Qt;rt({title:"Reading saved",status:"success",duration:2e3}),j&&j(),Ct(!1),Gt("")}catch(Qt){console.error("Error saving reading:",Qt),rt({title:"Error saving reading",description:"Please try again",status:"error",duration:5e3,isClosable:!0})}}catch(Vt){console.error("Error saving reading:",Vt),rt({title:"Error saving reading",description:"Please try again",status:"error",duration:5e3,isClosable:!0})}finally{Rt(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AuthModal,{isOpen:Et,onClose:()=>Pt(!1),isDarkMode:ht}),jsxRuntimeExports.jsxs(Modal,{isOpen:Ut,onClose:()=>Ct(!1),children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:ht?"gray.800":"white",children:[jsxRuntimeExports.jsx(ModalHeader,{color:ht?"white":"gray.800",children:"Save Reading"}),jsxRuntimeExports.jsx(ModalCloseButton,{color:ht?"white":"gray.800"}),jsxRuntimeExports.jsx(ModalBody,{pb:6,children:jsxRuntimeExports.jsxs(VStack,{spacing:4,children:[jsxRuntimeExports.jsx(Input,{placeholder:"Enter a title for this reading",value:Kt,onChange:Vt=>Gt(Vt.target.value),color:ht?"white":"black",autoFocus:!0}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:wt,w:"100%",children:"Save"})]})})]})]}),jsxRuntimeExports.jsxs("div",{ref:tr,className:`reader-container ${ht?"dark-mode":""} ${dt?"fullscreen":""}`,tabIndex:-1,autoFocus:!0,onKeyDown:Vt=>{if(Vt.target.tagName!=="INPUT"){if(Vt.code==="KeyS"&&(Vt.ctrlKey||Vt.metaKey)){Vt.preventDefault(),zt();return}switch(Vt.code){case"Space":if(Vt.preventDefault(),!Wt.current)return;pt?Yt():mr();break;case"ArrowUp":Vt.preventDefault(),kt(Math.min(1e3,ot+25));break;case"ArrowDown":Vt.preventDefault(),kt(Math.max(60,ot-25));break;case"ArrowLeft":if(Vt.preventDefault(),!Wt.current)return;const qt=Wt.current.getCurrentIndex();qt>0&&(pt&&Yt(),Wt.current.setCurrentIndex(qt-1),yt(Wt.current.getCurrentWord()));break;case"ArrowRight":if(Vt.preventDefault(),!Wt.current)return;const Nt=Wt.current.getCurrentIndex(),Bt=Wt.current.getWords();Nt<Bt.length-1&&(pt&&Yt(),Wt.current.setCurrentIndex(Nt+1),yt(Wt.current.getCurrentWord()));break;case"KeyF":Vt.preventDefault(),er();break}}},children:[jsxRuntimeExports.jsxs("div",{className:`reader-controls ${dt?"hidden":""}`,children:[jsxRuntimeExports.jsx("button",{className:"auth-button",onClick:St?Dt:Ot,children:St?"Sign Out":"Sign In"}),St&&nt&&jsxRuntimeExports.jsx("button",{className:"save-button",onClick:zt,children:"Save Reading"}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("label",{className:"file-label",htmlFor:"fileInput",children:"📂 Open File"}),jsxRuntimeExports.jsx("input",{id:"fileInput",type:"file",className:"file-input",onChange:Zt,accept:".txt,.pdf,.doc,.docx,.epub,.rtf,.odt"})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsxs("label",{children:["Size: ",lt,"px"]}),jsxRuntimeExports.jsx("input",{type:"range",min:"32",max:"128",value:lt,onChange:Vt=>Ft(Number(Vt.target.value))})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("label",{children:"WPM:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"60",max:"1000",value:ot,onChange:Vt=>kt(Number(Vt.target.value))})]}),jsxRuntimeExports.jsxs("div",{className:"button-group",children:[jsxRuntimeExports.jsx("button",{onClick:mr,disabled:pt,children:"Start"}),jsxRuntimeExports.jsx("button",{onClick:Yt,disabled:!pt,children:"Pause"}),jsxRuntimeExports.jsx("button",{onClick:er,children:dt?"Exit Fullscreen":"Fullscreen"}),jsxRuntimeExports.jsx("button",{onClick:()=>mt(!ht),children:ht?"☀️":"🌙"})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("label",{children:"Load from URL:"}),jsxRuntimeExports.jsx("input",{type:"text",className:"url-input",placeholder:"Enter URL to read...",onKeyDown:Vt=>{Vt.key==="Enter"&&At(Vt.target.value)}})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("label",{children:"Paste Text:"}),jsxRuntimeExports.jsx("textarea",{className:"text-input",placeholder:"Paste or type text to read...",rows:5,onChange:Vt=>{Wt.current&&Wt.current.loadContent(Vt.target.value)}})]}),jsxRuntimeExports.jsx("div",{className:"keyboard-shortcuts",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Space: Play/Pause"}),jsxRuntimeExports.jsx("li",{children:"↑/↓: Adjust speed"}),jsxRuntimeExports.jsx("li",{children:"←/→: Navigate words"}),jsxRuntimeExports.jsx("li",{children:"F: Toggle fullscreen"})]})}),St&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(SavedReadings,{userId:St.id,onSelect:Xt,isDarkMode:ht})})]}),jsxRuntimeExports.jsx("div",{className:"word-display",style:{fontSize:`${lt}px`},children:ct||"Ready"})]})]})},ColorModeContext=reactExports.createContext({colorMode:"light",toggleColorMode:()=>{}});function ColorModeProvider({children:i}){const[s,a]=reactExports.useState("light");reactExports.useEffect(()=>{const _=localStorage.getItem("chakra-ui-color-mode");_&&a(_)},[]),reactExports.useEffect(()=>{localStorage.setItem("chakra-ui-color-mode",s),document.documentElement.setAttribute("data-theme",s)},[s]);const o=()=>{a(_=>_==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:{colorMode:s,toggleColorMode:o},children:i})}const config={initialColorMode:"light",useSystemColorMode:!1},theme=extendTheme({config});class EventEmitter{constructor(){ps(this,"events",{})}on(s,a){this.events[s]||(this.events[s]=[]),this.events[s].push(a)}off(s,a){this.events[s]&&(this.events[s]=this.events[s].filter(o=>o!==a))}emit(s,...a){this.events[s]&&this.events[s].forEach(o=>o(...a))}}class ReaderService{constructor(){ps(this,"reader");ps(this,"eventEmitter");this.reader=new RSVPReader,this.eventEmitter=new EventEmitter,this.reader.onTextChange=s=>{this.eventEmitter.emit("textChange",s)},this.reader.onProgressChange=(s,a)=>{this.eventEmitter.emit("progressChange",{index:s,total:a})},this.reader.onSpeedChange=s=>{this.eventEmitter.emit("speedChange",s)}}play(){this.reader.start(),this.eventEmitter.emit("play")}pause(){this.reader.pause(),this.eventEmitter.emit("pause")}setSpeed(s){this.reader.setSpeed(s)}loadContent(s){this.reader.loadContent(s)}async loadFile(s){await this.reader.loadFile(s)}getCurrentWord(){return this.reader.getCurrentWord()}getCurrentIndex(){return this.reader.getCurrentIndex()}setCurrentIndex(s){this.reader.setCurrentIndex(s)}getSpeed(){return this.reader.getSpeed()}isReading(){return this.reader.isReading()}getWords(){return this.reader.getWords()}subscribe(s,a){this.eventEmitter.on(s,a)}unsubscribe(s,a){this.eventEmitter.off(s,a)}}class AuthService{constructor(){ps(this,"eventEmitter");ps(this,"currentUser",null);this.eventEmitter=new EventEmitter,supabase.auth.onAuthStateChange((s,a)=>{this.currentUser=(a==null?void 0:a.user)??null,this.eventEmitter.emit("authStateChange",{event:s,session:a})})}async signIn(s,a){try{const{data:o,error:_}=await supabase.auth.signInWithPassword({email:s,password:a});if(_)throw _;return this.currentUser=o.user,{user:o.user,error:null}}catch(o){return{user:null,error:o}}}async signUp(s,a){try{const{data:o,error:_}=await supabase.auth.signUp({email:s,password:a});if(_)throw _;return{user:o.user,error:null}}catch(o){return{user:null,error:o}}}async signOut(){try{const{error:s}=await supabase.auth.signOut();if(s)throw s;return this.currentUser=null,{error:null}}catch(s){return{error:s}}}async getSession(){try{const{data:s,error:a}=await supabase.auth.getSession();if(a)throw a;return{session:s.session,error:null}}catch(s){return{session:null,error:s}}}getCurrentUser(){return this.currentUser}subscribe(s,a){this.eventEmitter.on(s,a)}unsubscribe(s,a){this.eventEmitter.off(s,a)}}const ReaderContext=reactExports.createContext(null);function ReaderProvider({children:i,initialText:s="",initialSpeed:a=300,initialFontSize:o=64}){const[_,$]=reactExports.useState(!1),[j,et]=reactExports.useState(a),[rt,nt]=reactExports.useState(""),[it,ot]=reactExports.useState(s),[at,lt]=reactExports.useState(o),[gt,ct]=reactExports.useState(()=>localStorage.getItem("darkMode")==="true"),[yt,pt]=reactExports.useState(0),ut=reactExports.useRef(null),ht=reactExports.useRef(null);reactExports.useEffect(()=>{ut.current=new ReaderService,ht.current=new AuthService;const dt=ut.current;if(dt){s&&dt.loadContent(s),dt.setSpeed(a);const vt=()=>$(!0),St=()=>$(!1),_t=Mt=>et(Mt),Et=Mt=>ot(Mt),Pt=Mt=>{pt(Mt.index),nt(dt.getCurrentWord())};return dt.subscribe("play",vt),dt.subscribe("pause",St),dt.subscribe("speedChange",_t),dt.subscribe("textChange",Et),dt.subscribe("progressChange",Pt),()=>{dt.unsubscribe("play",vt),dt.unsubscribe("pause",St),dt.unsubscribe("speedChange",_t),dt.unsubscribe("textChange",Et),dt.unsubscribe("progressChange",Pt)}}},[]);const mt={readerService:ut.current,authService:ht.current,isPlaying:_,speed:j,currentWord:rt,text:it,fontSize:at,isDarkMode:gt,currentWordIndex:yt,toggleDarkMode:()=>{const dt=!gt;ct(dt),localStorage.setItem("darkMode",String(dt))},setFontSize:dt=>{lt(dt)},loadTextContent:dt=>{var vt;ot(dt),(vt=ut.current)==null||vt.loadContent(dt)},playReader:()=>{var dt;(dt=ut.current)==null||dt.play()},pauseReader:()=>{var dt;(dt=ut.current)==null||dt.pause()},setReaderSpeed:dt=>{var vt;et(dt),(vt=ut.current)==null||vt.setSpeed(dt)}};return jsxRuntimeExports.jsx(ReaderContext.Provider,{value:mt,children:i})}const ContextVerifier=()=>{console.log("ContextVerifier mounting");const i=reactExports.useContext(ReaderContext);return console.log("ContextVerifier: Context accessed"),i?(console.log("ReaderContext Value:",{isPlaying:i.isPlaying,speed:i.speed,currentWord:i.currentWord,text:i.text,fontSize:i.fontSize,isDarkMode:i.isDarkMode,currentWordIndex:i.currentWordIndex,hasReaderService:!!i.readerService,hasAuthService:!!i.authService}),null):(console.warn("ReaderContext is null!"),null)},App=({currentText:i="",currentWordIndex:s=0,documentId:a,readingSessionId:o,userId:_})=>{console.log("=== App component mounting ===");const[$,j]=reactExports.useState({index:s,total:0}),[et,rt]=reactExports.useState(300),[nt,it]=reactExports.useState(64);reactExports.useEffect(()=>{console.log("App component mounted with:",{currentText:i,currentWordIndex:s,documentId:a,readingSessionId:o,userId:_})},[]);const ot=reactExports.useCallback((ct,yt)=>{j({index:ct,total:yt})},[]),at=reactExports.useCallback(ct=>{rt(ct)},[]),lt=reactExports.useCallback(ct=>{it(ct)},[]),gt=reactExports.useCallback(async()=>{var pt;const yt=(pt=(await supabase.auth.getSession()).data.session)==null?void 0:pt.user;if(!yt){alert("Please sign in to save your progress");return}try{const ut=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(i)).then(St=>Array.from(new Uint8Array(St)).map(_t=>_t.toString(16).padStart(2,"0")).join("")),{data:ht,error:mt}=await supabase.from("documents").upsert({id:a,user_id:yt.id,title:`Reading ${new Date().toLocaleString()}`,description:`Saved at word ${$.index+1} of ${$.total}`,source_type:"text",content_hash:ut,total_chunks:1,estimated_reading_time:Math.ceil($.total/et)}).select().single();if(mt)throw mt;const{data:dt,error:vt}=await supabase.rpc("create_reading_session",{content:i,title:ht.title||"Reading Session",wpm:et,font_size:nt});if(vt)throw vt;$.index>0&&await supabase.from("reading_sessions").update({current_word_index:$.index}).eq("id",dt),alert("Progress saved successfully!")}catch(ut){console.error("Error saving progress:",ut)}},[i,$,et,nt,a]);return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(ColorModeProvider,{children:jsxRuntimeExports.jsxs(ReaderProvider,{initialText:i,initialSpeed:et,initialFontSize:nt,children:[jsxRuntimeExports.jsx(ContextVerifier,{}),jsxRuntimeExports.jsx(Reader,{initialText:i,initialSpeed:et,initialFontSize:nt,onProgressChange:ot,onSpeedChange:at,onFontSizeChange:lt,onSave:gt})]})})})};console.log("main.tsx executing");"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(i=>{for(const s of i)console.log("Unregistering service worker:",s),s.unregister()});console.log("All script tags:",document.querySelectorAll("script"));const rootElement=document.getElementById("root");console.log("Found root element:",rootElement);if(!rootElement)throw console.error("Root element not found!"),new Error("Root element not found");const root=client.createRoot(rootElement);console.log("Created React root");root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));console.log("Rendered App component");export{getDefaultExportFromCjs as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-Dazhy0Xw.js.map
